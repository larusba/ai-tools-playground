"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/neo4j-driver-bolt-connection";
exports.ids = ["vendor-chunks/neo4j-driver-bolt-connection"];
exports.modules = {

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.assertNotificationFilterIsEmpty = exports.assertImpersonatedUserIsEmpty = exports.assertTxConfigIsEmpty = exports.assertDatabaseIsEmpty = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\n// eslint-disable-next-line no-unused-vars\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\n/**\n * @param {TxConfig} txConfig the auto-commit transaction configuration.\n * @param {function(error: string)} onProtocolError called when the txConfig is not empty.\n * @param {ResultStreamObserver} observer the response observer.\n */\nfunction assertTxConfigIsEmpty(txConfig, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (txConfig && !txConfig.isEmpty()) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support transaction configuration. ' +\n            'Please upgrade to neo4j 3.5.0 or later in order to use this functionality');\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertTxConfigIsEmpty = assertTxConfigIsEmpty;\n/**\n * Asserts that the passed-in database name is empty.\n * @param {string} database\n * @param {fuction(err: String)} onProtocolError Called when it doesn't have database set\n */\nfunction assertDatabaseIsEmpty(database, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (database) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support multiple databases. ' +\n            'Please upgrade to neo4j 4.0.0 or later in order to use this functionality');\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertDatabaseIsEmpty = assertDatabaseIsEmpty;\n/**\n * Asserts that the passed-in impersonated user is empty\n * @param {string} impersonatedUser\n * @param {function (err:Error)} onProtocolError Called when it does have impersonated user set\n * @param {any} observer\n */\nfunction assertImpersonatedUserIsEmpty(impersonatedUser, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (impersonatedUser) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support user impersonation. ' +\n            'Please upgrade to neo4j 4.4.0 or later in order to use this functionality. ' +\n            \"Trying to impersonate \".concat(impersonatedUser, \".\"));\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertImpersonatedUserIsEmpty = assertImpersonatedUserIsEmpty;\n/**\n * Asserts that the passed-in notificationFilter is empty\n * @param {NotificationFilter} notificationFilter\n * @param {function (err:Error)} onProtocolError Called when it does have notificationFilter user set\n * @param {any} observer\n */\nfunction assertNotificationFilterIsEmpty(notificationFilter, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (notificationFilter !== undefined) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support user notification filters. ' +\n            'Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. ' +\n            \"Trying to set notifications to \".concat(neo4j_driver_core_1.json.stringify(notificationFilter), \".\"));\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertNotificationFilterIsEmpty = assertNotificationFilterIsEmpty;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXV0aWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUNBQXVDLEdBQUcscUNBQXFDLEdBQUcsNkJBQTZCLEdBQUcsNkJBQTZCO0FBQy9JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JEO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcseUJBQXlCO0FBQ3BDLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxzQkFBc0I7QUFDakM7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLHNCQUFzQjtBQUNqQyxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxzQkFBc0I7QUFDakMsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC11dGlsLmpzPzhkMTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkgPSBleHBvcnRzLmFzc2VydEltcGVyc29uYXRlZFVzZXJJc0VtcHR5ID0gZXhwb3J0cy5hc3NlcnRUeENvbmZpZ0lzRW1wdHkgPSBleHBvcnRzLmFzc2VydERhdGFiYXNlSXNFbXB0eSA9IHZvaWQgMDtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG4vKipcbiAqIEBwYXJhbSB7VHhDb25maWd9IHR4Q29uZmlnIHRoZSBhdXRvLWNvbW1pdCB0cmFuc2FjdGlvbiBjb25maWd1cmF0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihlcnJvcjogc3RyaW5nKX0gb25Qcm90b2NvbEVycm9yIGNhbGxlZCB3aGVuIHRoZSB0eENvbmZpZyBpcyBub3QgZW1wdHkuXG4gKiBAcGFyYW0ge1Jlc3VsdFN0cmVhbU9ic2VydmVyfSBvYnNlcnZlciB0aGUgcmVzcG9uc2Ugb2JzZXJ2ZXIuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFR4Q29uZmlnSXNFbXB0eSh0eENvbmZpZywgb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcikge1xuICAgIGlmIChvblByb3RvY29sRXJyb3IgPT09IHZvaWQgMCkgeyBvblByb3RvY29sRXJyb3IgPSBmdW5jdGlvbiAoKSB7IH07IH1cbiAgICBpZiAodHhDb25maWcgJiYgIXR4Q29uZmlnLmlzRW1wdHkoKSkge1xuICAgICAgICB2YXIgZXJyb3IgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0RyaXZlciBpcyBjb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0cmFuc2FjdGlvbiBjb25maWd1cmF0aW9uLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBncmFkZSB0byBuZW80aiAzLjUuMCBvciBsYXRlciBpbiBvcmRlciB0byB1c2UgdGhpcyBmdW5jdGlvbmFsaXR5Jyk7XG4gICAgICAgIC8vIHVuc3VwcG9ydGVkIEFQSSB3YXMgdXNlZCwgY29uc2lkZXIgdGhpcyBhIGZhdGFsIGVycm9yIGZvciB0aGUgY3VycmVudCBjb25uZWN0aW9uXG4gICAgICAgIG9uUHJvdG9jb2xFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub25FcnJvcihlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmV4cG9ydHMuYXNzZXJ0VHhDb25maWdJc0VtcHR5ID0gYXNzZXJ0VHhDb25maWdJc0VtcHR5O1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIHBhc3NlZC1pbiBkYXRhYmFzZSBuYW1lIGlzIGVtcHR5LlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFiYXNlXG4gKiBAcGFyYW0ge2Z1Y3Rpb24oZXJyOiBTdHJpbmcpfSBvblByb3RvY29sRXJyb3IgQ2FsbGVkIHdoZW4gaXQgZG9lc24ndCBoYXZlIGRhdGFiYXNlIHNldFxuICovXG5mdW5jdGlvbiBhc3NlcnREYXRhYmFzZUlzRW1wdHkoZGF0YWJhc2UsIG9uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpIHtcbiAgICBpZiAob25Qcm90b2NvbEVycm9yID09PSB2b2lkIDApIHsgb25Qcm90b2NvbEVycm9yID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgaWYgKGRhdGFiYXNlKSB7XG4gICAgICAgIHZhciBlcnJvciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnRHJpdmVyIGlzIGNvbm5lY3RlZCB0byB0aGUgZGF0YWJhc2UgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IG11bHRpcGxlIGRhdGFiYXNlcy4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZ3JhZGUgdG8gbmVvNGogNC4wLjAgb3IgbGF0ZXIgaW4gb3JkZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb25hbGl0eScpO1xuICAgICAgICAvLyB1bnN1cHBvcnRlZCBBUEkgd2FzIHVzZWQsIGNvbnNpZGVyIHRoaXMgYSBmYXRhbCBlcnJvciBmb3IgdGhlIGN1cnJlbnQgY29ubmVjdGlvblxuICAgICAgICBvblByb3RvY29sRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG5leHBvcnRzLmFzc2VydERhdGFiYXNlSXNFbXB0eSA9IGFzc2VydERhdGFiYXNlSXNFbXB0eTtcbi8qKlxuICogQXNzZXJ0cyB0aGF0IHRoZSBwYXNzZWQtaW4gaW1wZXJzb25hdGVkIHVzZXIgaXMgZW1wdHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbXBlcnNvbmF0ZWRVc2VyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIChlcnI6RXJyb3IpfSBvblByb3RvY29sRXJyb3IgQ2FsbGVkIHdoZW4gaXQgZG9lcyBoYXZlIGltcGVyc29uYXRlZCB1c2VyIHNldFxuICogQHBhcmFtIHthbnl9IG9ic2VydmVyXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEltcGVyc29uYXRlZFVzZXJJc0VtcHR5KGltcGVyc29uYXRlZFVzZXIsIG9uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpIHtcbiAgICBpZiAob25Qcm90b2NvbEVycm9yID09PSB2b2lkIDApIHsgb25Qcm90b2NvbEVycm9yID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgaWYgKGltcGVyc29uYXRlZFVzZXIpIHtcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdEcml2ZXIgaXMgY29ubmVjdGVkIHRvIHRoZSBkYXRhYmFzZSB0aGF0IGRvZXMgbm90IHN1cHBvcnQgdXNlciBpbXBlcnNvbmF0aW9uLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBncmFkZSB0byBuZW80aiA0LjQuMCBvciBsYXRlciBpbiBvcmRlciB0byB1c2UgdGhpcyBmdW5jdGlvbmFsaXR5LiAnICtcbiAgICAgICAgICAgIFwiVHJ5aW5nIHRvIGltcGVyc29uYXRlIFwiLmNvbmNhdChpbXBlcnNvbmF0ZWRVc2VyLCBcIi5cIikpO1xuICAgICAgICAvLyB1bnN1cHBvcnRlZCBBUEkgd2FzIHVzZWQsIGNvbnNpZGVyIHRoaXMgYSBmYXRhbCBlcnJvciBmb3IgdGhlIGN1cnJlbnQgY29ubmVjdGlvblxuICAgICAgICBvblByb3RvY29sRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG5leHBvcnRzLmFzc2VydEltcGVyc29uYXRlZFVzZXJJc0VtcHR5ID0gYXNzZXJ0SW1wZXJzb25hdGVkVXNlcklzRW1wdHk7XG4vKipcbiAqIEFzc2VydHMgdGhhdCB0aGUgcGFzc2VkLWluIG5vdGlmaWNhdGlvbkZpbHRlciBpcyBlbXB0eVxuICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IG5vdGlmaWNhdGlvbkZpbHRlclxuICogQHBhcmFtIHtmdW5jdGlvbiAoZXJyOkVycm9yKX0gb25Qcm90b2NvbEVycm9yIENhbGxlZCB3aGVuIGl0IGRvZXMgaGF2ZSBub3RpZmljYXRpb25GaWx0ZXIgdXNlciBzZXRcbiAqIEBwYXJhbSB7YW55fSBvYnNlcnZlclxuICovXG5mdW5jdGlvbiBhc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KG5vdGlmaWNhdGlvbkZpbHRlciwgb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcikge1xuICAgIGlmIChvblByb3RvY29sRXJyb3IgPT09IHZvaWQgMCkgeyBvblByb3RvY29sRXJyb3IgPSBmdW5jdGlvbiAoKSB7IH07IH1cbiAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdEcml2ZXIgaXMgY29ubmVjdGVkIHRvIGEgZGF0YWJhc2UgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHVzZXIgbm90aWZpY2F0aW9uIGZpbHRlcnMuICcgK1xuICAgICAgICAgICAgJ1BsZWFzZSB1cGdyYWRlIHRvIE5lbzRqIDUuNy4wIG9yIGxhdGVyIGluIG9yZGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uYWxpdHkuICcgK1xuICAgICAgICAgICAgXCJUcnlpbmcgdG8gc2V0IG5vdGlmaWNhdGlvbnMgdG8gXCIuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkobm90aWZpY2F0aW9uRmlsdGVyKSwgXCIuXCIpKTtcbiAgICAgICAgLy8gdW5zdXBwb3J0ZWQgQVBJIHdhcyB1c2VkLCBjb25zaWRlciB0aGlzIGEgZmF0YWwgZXJyb3IgZm9yIHRoZSBjdXJyZW50IGNvbm5lY3Rpb25cbiAgICAgICAgb25Qcm90b2NvbEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBvYnNlcnZlci5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuZXhwb3J0cy5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5ID0gYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\n// eslint-disable-next-line no-unused-vars\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar request_message_1 = __importStar(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, ACCESS_MODE_WRITE = _a.ACCESS_MODE_WRITE, BOLT_PROTOCOL_V1 = _a.BOLT_PROTOCOL_V1, Logger = neo4j_driver_core_1.internal.logger.Logger, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar DEFAULT_DIAGNOSTIC_RECORD = Object.freeze({\n    OPERATION: '',\n    OPERATION_CODE: '0',\n    CURRENT_SCHEMA: '/'\n});\nvar BoltProtocol = /** @class */ (function () {\n    /**\n     * @callback CreateResponseHandler Creates the response handler\n     * @param {BoltProtocol} protocol The bolt protocol\n     * @returns {ResponseHandler} The response handler\n     */\n    /**\n     * @callback OnProtocolError Handles protocol error\n     * @param {string} error The description\n     */\n    /**\n     * @constructor\n     * @param {Object} server the server informatio.\n     * @param {Chunker} chunker the chunker.\n     * @param {Object} packstreamConfig Packstream configuration\n     * @param {boolean} packstreamConfig.disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n     * @param {CreateResponseHandler} createResponseHandler Function which creates the response handler\n     * @param {Logger} log the logger\n     * @param {OnProtocolError} onProtocolError handles protocol errors\n     */\n    function BoltProtocol(server, chunker, _a, createResponseHandler, log, onProtocolError) {\n        var _b = _a === void 0 ? {} : _a, disableLosslessIntegers = _b.disableLosslessIntegers, useBigInt = _b.useBigInt;\n        if (createResponseHandler === void 0) { createResponseHandler = function () { return null; }; }\n        this._server = server || {};\n        this._chunker = chunker;\n        this._packer = this._createPacker(chunker);\n        this._unpacker = this._createUnpacker(disableLosslessIntegers, useBigInt);\n        this._responseHandler = createResponseHandler(this);\n        this._log = log;\n        this._onProtocolError = onProtocolError;\n        this._fatalError = null;\n        this._lastMessageSignature = null;\n        this._config = { disableLosslessIntegers: disableLosslessIntegers, useBigInt: useBigInt };\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        /**\n         * Returns the numerical version identifier for this protocol\n         */\n        get: function () {\n            return BOLT_PROTOCOL_V1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"supportsReAuth\", {\n        /**\n         * @property {boolean} supportsReAuth Either if the protocol version supports re-auth or not.\n         */\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"initialized\", {\n        /**\n         * @property {boolean} initialized Either if the protocol was initialized or not\n         */\n        get: function () {\n            return !!this._initialized;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"authToken\", {\n        /**\n         * @property {object} authToken The token used in the last login\n         */\n        get: function () {\n            return this._authToken;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Get the packer.\n     * @return {Packer} the protocol's packer.\n     */\n    BoltProtocol.prototype.packer = function () {\n        return this._packer;\n    };\n    /**\n     * Creates a packable function out of the provided value\n     * @param x the value to pack\n     * @returns Function\n     */\n    BoltProtocol.prototype.packable = function (x) {\n        return this._packer.packable(x, this.transformer.toStructure);\n    };\n    /**\n     * Get the unpacker.\n     * @return {Unpacker} the protocol's unpacker.\n     */\n    BoltProtocol.prototype.unpacker = function () {\n        return this._unpacker;\n    };\n    /**\n     * Unpack a buffer\n     * @param {Buffer} buf\n     * @returns {any|null} The unpacked value\n     */\n    BoltProtocol.prototype.unpack = function (buf) {\n        return this._unpacker.unpack(buf, this.transformer.fromStructure);\n    };\n    /**\n     * Transform metadata received in SUCCESS message before it is passed to the handler.\n     * @param {Object} metadata the received metadata.\n     * @return {Object} transformed metadata.\n     */\n    BoltProtocol.prototype.transformMetadata = function (metadata) {\n        return metadata;\n    };\n    BoltProtocol.prototype.enrichErrorMetadata = function (metadata) {\n        return __assign(__assign({}, metadata), { diagnostic_record: metadata.diagnostic_record !== null ? __assign(__assign({}, DEFAULT_DIAGNOSTIC_RECORD), metadata.diagnostic_record) : null });\n    };\n    /**\n     * Perform initialization and authentication of the underlying connection.\n     * @param {Object} param\n     * @param {string} param.userAgent the user agent.\n     * @param {Object} param.authToken the authentication token.\n     * @param {NotificationFilter} param.notificationFilter the notification filter.\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.init(userAgent, authToken), observer, true);\n        return observer;\n    };\n    /**\n     * Performs logoff of the underlying connection\n     *\n     * @param {Object} param\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @param {boolean} param.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.logoff = function (_a) {\n        var _b = _a === void 0 ? {} : _a, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LogoffObserver({\n            onCompleted: onComplete,\n            onError: onError\n        });\n        // TODO: Verify the Neo4j version in the message\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support logoff. ' +\n            'Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.');\n        // unsupported API was used, consider this a fatal error for the current connection\n        this._onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    };\n    /**\n     * Performs login of the underlying connection\n     *\n     * @param {Object} args\n     * @param {Object} args.authToken the authentication token.\n     * @param {function(err: Error)} args.onError the callback to invoke on error.\n     * @param {function()} args.onComplete the callback to invoke on completion.\n     * @param {boolean} args.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.logon = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, authToken = _b.authToken, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LoginObserver({\n            onCompleted: function () { return _this._onLoginCompleted({}, authToken, onComplete); },\n            onError: function (error) { return _this._onLoginError(error, onError); }\n        });\n        // TODO: Verify the Neo4j version in the message\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support logon. ' +\n            'Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.');\n        // unsupported API was used, consider this a fatal error for the current connection\n        this._onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    };\n    /**\n     * Perform protocol related operations for closing this connection\n     */\n    BoltProtocol.prototype.prepareToClose = function () {\n        // no need to notify the database in this protocol version\n    };\n    /**\n     * Begin an explicit transaction.\n     * @param {Object} param\n     * @param {Bookmarks} param.bookmarks the bookmarks.\n     * @param {TxConfig} param.txConfig the configuration.\n     * @param {string} param.database the target database name.\n     * @param {string} param.mode the access mode.\n     * @param {string} param.impersonatedUser the impersonated user\n     * @param {NotificationFilter} param.notificationFilter the notification filter.\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        return this.run('BEGIN', bookmarks ? bookmarks.asBeginTransactionParameters() : {}, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser,\n            notificationFilter: notificationFilter,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            flush: false\n        });\n    };\n    /**\n     * Commit the explicit transaction.\n     * @param {Object} param\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.commitTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        // WRITE access mode is used as a place holder here, it has\n        // no effect on behaviour for Bolt V1 & V2\n        return this.run('COMMIT', {}, {\n            bookmarks: Bookmarks.empty(),\n            txConfig: TxConfig.empty(),\n            mode: ACCESS_MODE_WRITE,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n    };\n    /**\n     * Rollback the explicit transaction.\n     * @param {Object} param\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.rollbackTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        // WRITE access mode is used as a place holder here, it has\n        // no effect on behaviour for Bolt V1 & V2\n        return this.run('ROLLBACK', {}, {\n            bookmarks: Bookmarks.empty(),\n            txConfig: TxConfig.empty(),\n            mode: ACCESS_MODE_WRITE,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n    };\n    /**\n     * Send a Cypher query through the underlying connection.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @param {Object} param\n     * @param {Bookmarks} param.bookmarks the bookmarks.\n     * @param {TxConfig} param.txConfig the transaction configuration.\n     * @param {string} param.database the target database name.\n     * @param {string} param.impersonatedUser the impersonated user\n     * @param {NotificationFilter} param.notificationFilter the notification filter.\n     * @param {string} param.mode the access mode.\n     * @param {function(keys: string[])} param.beforeKeys the callback to invoke before handling the keys.\n     * @param {function(keys: string[])} param.afterKeys the callback to invoke after handling the keys.\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @param {boolean} param.flush whether to flush the buffered messages.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.highRecordWatermark, highRecordWatermark = _d === void 0 ? Number.MAX_VALUE : _d, _e = _b.lowRecordWatermark, lowRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // bookmarks and mode are ignored in this version of the protocol\n        (0, bolt_protocol_util_1.assertTxConfigIsEmpty)(txConfig, this._onProtocolError, observer);\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.run(query, parameters), observer, false);\n        this.write(request_message_1.default.pullAll(), observer, flush);\n        return observer;\n    };\n    Object.defineProperty(BoltProtocol.prototype, \"currentFailure\", {\n        get: function () {\n            return this._responseHandler.currentFailure;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send a RESET through the underlying connection.\n     * @param {Object} param\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.reset = function (_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.ResetObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onComplete: onComplete\n        });\n        this.write(request_message_1.default.reset(), observer, true);\n        return observer;\n    };\n    /**\n     * Send a TELEMETRY through the underlying connection.\n     *\n     * @param {object} param0 Message params\n     * @param {number} param0.api The API called\n     * @param {object} param1 Configuration and callbacks\n     * @param {function()} param1.onCompleted Called when completed\n     * @param {function()} param1.onError Called when error\n     * @return {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.telemetry = function (_a, _b) {\n        var api = _a.api;\n        var _c = _b === void 0 ? {} : _b, onError = _c.onError, onCompleted = _c.onCompleted;\n        var observer = new stream_observers_1.CompletedObserver();\n        if (onCompleted) {\n            onCompleted();\n        }\n        return observer;\n    };\n    BoltProtocol.prototype._createPacker = function (chunker) {\n        return new packstream_1.v1.Packer(chunker);\n    };\n    BoltProtocol.prototype._createUnpacker = function (disableLosslessIntegers, useBigInt) {\n        return new packstream_1.v1.Unpacker(disableLosslessIntegers, useBigInt);\n    };\n    /**\n     * Write a message to the network channel.\n     * @param {RequestMessage} message the message to write.\n     * @param {StreamObserver} observer the response observer.\n     * @param {boolean} flush `true` if flush should happen after the message is written to the buffer.\n     */\n    BoltProtocol.prototype.write = function (message, observer, flush) {\n        var queued = this.queueObserverIfProtocolIsNotBroken(observer);\n        if (queued) {\n            if (this._log.isDebugEnabled()) {\n                this._log.debug(\"C: \".concat(message));\n            }\n            this._lastMessageSignature = message.signature;\n            var messageStruct = new packstream_1.structure.Structure(message.signature, message.fields);\n            this.packable(messageStruct)();\n            this._chunker.messageBoundary();\n            if (flush) {\n                this._chunker.flush();\n            }\n        }\n    };\n    BoltProtocol.prototype.isLastMessageLogon = function () {\n        return this._lastMessageSignature === request_message_1.SIGNATURES.HELLO ||\n            this._lastMessageSignature === request_message_1.SIGNATURES.LOGON;\n    };\n    BoltProtocol.prototype.isLastMessageReset = function () {\n        return this._lastMessageSignature === request_message_1.SIGNATURES.RESET;\n    };\n    /**\n     * Notifies faltal erros to the observers and mark the protocol in the fatal error state.\n     * @param {Error} error The error\n     */\n    BoltProtocol.prototype.notifyFatalError = function (error) {\n        this._fatalError = error;\n        return this._responseHandler._notifyErrorToObservers(error);\n    };\n    /**\n     * Updates the the current observer with the next one on the queue.\n     */\n    BoltProtocol.prototype.updateCurrentObserver = function () {\n        return this._responseHandler._updateCurrentObserver();\n    };\n    /**\n     * Checks if exist an ongoing observable requests\n     * @return {boolean}\n     */\n    BoltProtocol.prototype.hasOngoingObservableRequests = function () {\n        return this._responseHandler.hasOngoingObservableRequests();\n    };\n    /**\n     * Enqueue the observer if the protocol is not broken.\n     * In case it's broken, the observer will be notified about the error.\n     *\n     * @param {StreamObserver} observer The observer\n     * @returns {boolean} if it was queued\n     */\n    BoltProtocol.prototype.queueObserverIfProtocolIsNotBroken = function (observer) {\n        if (this.isBroken()) {\n            this.notifyFatalErrorToObserver(observer);\n            return false;\n        }\n        return this._responseHandler._queueObserver(observer);\n    };\n    /**\n     * Veritfy the protocol is not broken.\n     * @returns {boolean}\n     */\n    BoltProtocol.prototype.isBroken = function () {\n        return !!this._fatalError;\n    };\n    /**\n     * Notifies the current fatal error to the observer\n     *\n     * @param {StreamObserver} observer The observer\n     */\n    BoltProtocol.prototype.notifyFatalErrorToObserver = function (observer) {\n        if (observer && observer.onError) {\n            observer.onError(this._fatalError);\n        }\n    };\n    /**\n     * Reset current failure on the observable response handler to null.\n     */\n    BoltProtocol.prototype.resetFailure = function () {\n        this._responseHandler._resetFailure();\n    };\n    BoltProtocol.prototype._onLoginCompleted = function (metadata, authToken, onCompleted) {\n        this._initialized = true;\n        this._authToken = authToken;\n        if (metadata) {\n            var serverVersion = metadata.server;\n            if (!this._server.version) {\n                this._server.version = serverVersion;\n            }\n        }\n        if (onCompleted) {\n            onCompleted(metadata);\n        }\n    };\n    BoltProtocol.prototype._onLoginError = function (error, onError) {\n        this._onProtocolError(error.message);\n        if (onError) {\n            onError(error);\n        }\n    };\n    return BoltProtocol;\n}());\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYxLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekQ7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQywwRkFBWTtBQUNwQyxtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQyxxQ0FBcUMsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDaEUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCxxREFBcUQsbUJBQU8sQ0FBQyxrSUFBZ0M7QUFDN0Ysb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0IsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsU0FBUztBQUN4QixlQUFlLHVCQUF1QjtBQUN0QyxlQUFlLFFBQVE7QUFDdkIsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxnREFBZ0Qsc0NBQXNDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNElBQTRJLDJDQUEyQztBQUN2TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFVBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZUFBZSw2RUFBNkUsa0VBQWtFO0FBQ2pNO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckYsK0NBQStDO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFNBQVM7QUFDeEI7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFNBQVM7QUFDeEI7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHVDQUF1QyxpQ0FBaUMsMkJBQTJCO0FBQ25HLHdDQUF3QztBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxXQUFXO0FBQzFCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLFlBQVk7QUFDM0IsZUFBZSxZQUFZO0FBQzNCLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQywwRkFBMEY7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsWUFBWTtBQUMzQixpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsWUFBWTtBQUMzQixpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFdBQVc7QUFDMUIsZUFBZSxVQUFVO0FBQ3pCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsMEJBQTBCO0FBQ3pDLGVBQWUsMEJBQTBCO0FBQ3pDLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFlBQVk7QUFDM0IsZUFBZSxTQUFTO0FBQ3hCLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxZQUFZO0FBQzNCLGVBQWUsWUFBWTtBQUMzQixnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12MS5qcz9kYjU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3V0aWxfMSA9IHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdXRpbFwiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xudmFyIGNoYW5uZWxfMSA9IHJlcXVpcmUoXCIuLi9jaGFubmVsXCIpO1xudmFyIHBhY2tzdHJlYW1fMSA9IHJlcXVpcmUoXCIuLi9wYWNrc3RyZWFtXCIpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjFfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYxLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBCb29rbWFya3MgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmJvb2ttYXJrcy5Cb29rbWFya3MsIF9hID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMsIEFDQ0VTU19NT0RFX1dSSVRFID0gX2EuQUNDRVNTX01PREVfV1JJVEUsIEJPTFRfUFJPVE9DT0xfVjEgPSBfYS5CT0xUX1BST1RPQ09MX1YxLCBMb2dnZXIgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmxvZ2dlci5Mb2dnZXIsIFR4Q29uZmlnID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC50eENvbmZpZy5UeENvbmZpZztcbnZhciBERUZBVUxUX0RJQUdOT1NUSUNfUkVDT1JEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgT1BFUkFUSU9OOiAnJyxcbiAgICBPUEVSQVRJT05fQ09ERTogJzAnLFxuICAgIENVUlJFTlRfU0NIRU1BOiAnLydcbn0pO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAY2FsbGJhY2sgQ3JlYXRlUmVzcG9uc2VIYW5kbGVyIENyZWF0ZXMgdGhlIHJlc3BvbnNlIGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge0JvbHRQcm90b2NvbH0gcHJvdG9jb2wgVGhlIGJvbHQgcHJvdG9jb2xcbiAgICAgKiBAcmV0dXJucyB7UmVzcG9uc2VIYW5kbGVyfSBUaGUgcmVzcG9uc2UgaGFuZGxlclxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBjYWxsYmFjayBPblByb3RvY29sRXJyb3IgSGFuZGxlcyBwcm90b2NvbCBlcnJvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvciBUaGUgZGVzY3JpcHRpb25cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VydmVyIHRoZSBzZXJ2ZXIgaW5mb3JtYXRpby5cbiAgICAgKiBAcGFyYW0ge0NodW5rZXJ9IGNodW5rZXIgdGhlIGNodW5rZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhY2tzdHJlYW1Db25maWcgUGFja3N0cmVhbSBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYWNrc3RyZWFtQ29uZmlnLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzIGlmIHRoaXMgY29ubmVjdGlvbiBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEpTIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYWNrc3RyZWFtQ29uZmlnLnVzZUJpZ0ludCBpZiB0aGlzIGNvbm5lY3Rpb24gc2hvdWxkIGNvbnZlcnQgYWxsIHJlY2VpdmVkIGludGVnZXJzIHRvIG5hdGl2ZSBCaWdJbnQgbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge0NyZWF0ZVJlc3BvbnNlSGFuZGxlcn0gY3JlYXRlUmVzcG9uc2VIYW5kbGVyIEZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgdGhlIHJlc3BvbnNlIGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge0xvZ2dlcn0gbG9nIHRoZSBsb2dnZXJcbiAgICAgKiBAcGFyYW0ge09uUHJvdG9jb2xFcnJvcn0gb25Qcm90b2NvbEVycm9yIGhhbmRsZXMgcHJvdG9jb2wgZXJyb3JzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKHNlcnZlciwgY2h1bmtlciwgX2EsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gX2IuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCA9IF9iLnVzZUJpZ0ludDtcbiAgICAgICAgaWYgKGNyZWF0ZVJlc3BvbnNlSGFuZGxlciA9PT0gdm9pZCAwKSB7IGNyZWF0ZVJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH07IH1cbiAgICAgICAgdGhpcy5fc2VydmVyID0gc2VydmVyIHx8IHt9O1xuICAgICAgICB0aGlzLl9jaHVua2VyID0gY2h1bmtlcjtcbiAgICAgICAgdGhpcy5fcGFja2VyID0gdGhpcy5fY3JlYXRlUGFja2VyKGNodW5rZXIpO1xuICAgICAgICB0aGlzLl91bnBhY2tlciA9IHRoaXMuX2NyZWF0ZVVucGFja2VyKGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpO1xuICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXIgPSBjcmVhdGVSZXNwb25zZUhhbmRsZXIodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvZyA9IGxvZztcbiAgICAgICAgdGhpcy5fb25Qcm90b2NvbEVycm9yID0gb25Qcm90b2NvbEVycm9yO1xuICAgICAgICB0aGlzLl9mYXRhbEVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGFzdE1lc3NhZ2VTaWduYXR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb25maWcgPSB7IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzOiBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50OiB1c2VCaWdJbnQgfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjFfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIG51bWVyaWNhbCB2ZXJzaW9uIGlkZW50aWZpZXIgZm9yIHRoaXMgcHJvdG9jb2xcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJzdXBwb3J0c1JlQXV0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHN1cHBvcnRzUmVBdXRoIEVpdGhlciBpZiB0aGUgcHJvdG9jb2wgdmVyc2lvbiBzdXBwb3J0cyByZS1hdXRoIG9yIG5vdC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwiaW5pdGlhbGl6ZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBpbml0aWFsaXplZCBFaXRoZXIgaWYgdGhlIHByb3RvY29sIHdhcyBpbml0aWFsaXplZCBvciBub3RcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJhdXRoVG9rZW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3BlcnR5IHtvYmplY3R9IGF1dGhUb2tlbiBUaGUgdG9rZW4gdXNlZCBpbiB0aGUgbGFzdCBsb2dpblxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aFRva2VuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYWNrZXIuXG4gICAgICogQHJldHVybiB7UGFja2VyfSB0aGUgcHJvdG9jb2wncyBwYWNrZXIuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5wYWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWNrZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGFja2FibGUgZnVuY3Rpb24gb3V0IG9mIHRoZSBwcm92aWRlZCB2YWx1ZVxuICAgICAqIEBwYXJhbSB4IHRoZSB2YWx1ZSB0byBwYWNrXG4gICAgICogQHJldHVybnMgRnVuY3Rpb25cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnBhY2thYmxlID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhY2tlci5wYWNrYWJsZSh4LCB0aGlzLnRyYW5zZm9ybWVyLnRvU3RydWN0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdW5wYWNrZXIuXG4gICAgICogQHJldHVybiB7VW5wYWNrZXJ9IHRoZSBwcm90b2NvbCdzIHVucGFja2VyLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUudW5wYWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucGFjayBhIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZcbiAgICAgKiBAcmV0dXJucyB7YW55fG51bGx9IFRoZSB1bnBhY2tlZCB2YWx1ZVxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUudW5wYWNrID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrZXIudW5wYWNrKGJ1ZiwgdGhpcy50cmFuc2Zvcm1lci5mcm9tU3RydWN0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBtZXRhZGF0YSByZWNlaXZlZCBpbiBTVUNDRVNTIG1lc3NhZ2UgYmVmb3JlIGl0IGlzIHBhc3NlZCB0byB0aGUgaGFuZGxlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWV0YWRhdGEgdGhlIHJlY2VpdmVkIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdHJhbnNmb3JtZWQgbWV0YWRhdGEuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS50cmFuc2Zvcm1NZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmVucmljaEVycm9yTWV0YWRhdGEgPSBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXRhZGF0YSksIHsgZGlhZ25vc3RpY19yZWNvcmQ6IG1ldGFkYXRhLmRpYWdub3N0aWNfcmVjb3JkICE9PSBudWxsID8gX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfRElBR05PU1RJQ19SRUNPUkQpLCBtZXRhZGF0YS5kaWFnbm9zdGljX3JlY29yZCkgOiBudWxsIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBpbml0aWFsaXphdGlvbiBhbmQgYXV0aGVudGljYXRpb24gb2YgdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0udXNlckFnZW50IHRoZSB1c2VyIGFnZW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbS5hdXRoVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBwYXJhbS5ub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0ub25Db21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGNvbXBsZXRpb24uXG4gICAgICogQHJldHVybnMge1N0cmVhbU9ic2VydmVyfSB0aGUgc3RyZWFtIG9ic2VydmVyIHRoYXQgbW9uaXRvcnMgdGhlIGNvcnJlc3BvbmRpbmcgc2VydmVyIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdXNlckFnZW50ID0gX2IudXNlckFnZW50LCBib2x0QWdlbnQgPSBfYi5ib2x0QWdlbnQsIGF1dGhUb2tlbiA9IF9iLmF1dGhUb2tlbiwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGU7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9naW5PYnNlcnZlcih7XG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luRXJyb3IoZXJyb3IsIG9uRXJyb3IpOyB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IGZ1bmN0aW9uIChtZXRhZGF0YSkgeyByZXR1cm4gX3RoaXMuX29uTG9naW5Db21wbGV0ZWQobWV0YWRhdGEsIG9uQ29tcGxldGUpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmluaXQodXNlckFnZW50LCBhdXRoVG9rZW4pLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGxvZ29mZiBvZiB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5vbkNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gY29tcGxldGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLmZsdXNoIHdoZXRoZXIgdG8gZmx1c2ggdGhlIGJ1ZmZlcmVkIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmVhbU9ic2VydmVyfSB0aGUgc3RyZWFtIG9ic2VydmVyIHRoYXQgbW9uaXRvcnMgdGhlIGNvcnJlc3BvbmRpbmcgc2VydmVyIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUubG9nb2ZmID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIGZsdXNoID0gX2IuZmx1c2g7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9nb2ZmT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IG9uQ29tcGxldGUsXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiBWZXJpZnkgdGhlIE5lbzRqIHZlcnNpb24gaW4gdGhlIG1lc3NhZ2VcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdEcml2ZXIgaXMgY29ubmVjdGVkIHRvIGEgZGF0YWJhc2UgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IGxvZ29mZi4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZ3JhZGUgdG8gTmVvNGogNS41LjAgb3IgbGF0ZXIgaW4gb3JkZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb25hbGl0eS4nKTtcbiAgICAgICAgLy8gdW5zdXBwb3J0ZWQgQVBJIHdhcyB1c2VkLCBjb25zaWRlciB0aGlzIGEgZmF0YWwgZXJyb3IgZm9yIHRoZSBjdXJyZW50IGNvbm5lY3Rpb25cbiAgICAgICAgdGhpcy5fb25Qcm90b2NvbEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBvYnNlcnZlci5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBsb2dpbiBvZiB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJnc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzLmF1dGhUb2tlbiB0aGUgYXV0aGVudGljYXRpb24gdG9rZW4uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gYXJncy5vbkVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBhcmdzLm9uQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBvbiBjb21wbGV0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXJncy5mbHVzaCB3aGV0aGVyIHRvIGZsdXNoIHRoZSBidWZmZXJlZCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmxvZ29uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlLCBvbkVycm9yID0gX2Iub25FcnJvciwgZmx1c2ggPSBfYi5mbHVzaDtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dpbk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZCh7fSwgYXV0aFRva2VuLCBvbkNvbXBsZXRlKTsgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuX29uTG9naW5FcnJvcihlcnJvciwgb25FcnJvcik7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IFZlcmlmeSB0aGUgTmVvNGogdmVyc2lvbiBpbiB0aGUgbWVzc2FnZVxuICAgICAgICB2YXIgZXJyb3IgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0RyaXZlciBpcyBjb25uZWN0ZWQgdG8gYSBkYXRhYmFzZSB0aGF0IGRvZXMgbm90IHN1cHBvcnQgbG9nb24uICcgK1xuICAgICAgICAgICAgJ1BsZWFzZSB1cGdyYWRlIHRvIE5lbzRqIDUuNS4wIG9yIGxhdGVyIGluIG9yZGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uYWxpdHkuJyk7XG4gICAgICAgIC8vIHVuc3VwcG9ydGVkIEFQSSB3YXMgdXNlZCwgY29uc2lkZXIgdGhpcyBhIGZhdGFsIGVycm9yIGZvciB0aGUgY3VycmVudCBjb25uZWN0aW9uXG4gICAgICAgIHRoaXMuX29uUHJvdG9jb2xFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub25FcnJvcihlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBwcm90b2NvbCByZWxhdGVkIG9wZXJhdGlvbnMgZm9yIGNsb3NpbmcgdGhpcyBjb25uZWN0aW9uXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5wcmVwYXJlVG9DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbm8gbmVlZCB0byBub3RpZnkgdGhlIGRhdGFiYXNlIGluIHRoaXMgcHJvdG9jb2wgdmVyc2lvblxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVnaW4gYW4gZXhwbGljaXQgdHJhbnNhY3Rpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtCb29rbWFya3N9IHBhcmFtLmJvb2ttYXJrcyB0aGUgYm9va21hcmtzLlxuICAgICAqIEBwYXJhbSB7VHhDb25maWd9IHBhcmFtLnR4Q29uZmlnIHRoZSBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5kYXRhYmFzZSB0aGUgdGFyZ2V0IGRhdGFiYXNlIG5hbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLm1vZGUgdGhlIGFjY2VzcyBtb2RlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5pbXBlcnNvbmF0ZWRVc2VyIHRoZSBpbXBlcnNvbmF0ZWQgdXNlclxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBwYXJhbS5ub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0uYmVmb3JlRXJyb3IgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBiZWZvcmUgaGFuZGxpbmcgdGhlIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLmFmdGVyRXJyb3IgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBhZnRlciBoYW5kbGluZyB0aGUgZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5iZWZvcmVDb21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGJlZm9yZSBoYW5kbGluZyB0aGUgY29tcGxldGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtLmFmdGVyQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBhZnRlciBoYW5kbGluZyB0aGUgY29tcGxldGlvbi5cbiAgICAgKiBAcmV0dXJucyB7U3RyZWFtT2JzZXJ2ZXJ9IHRoZSBzdHJlYW0gb2JzZXJ2ZXIgdGhhdCBtb25pdG9ycyB0aGUgY29ycmVzcG9uZGluZyBzZXJ2ZXIgcmVzcG9uc2UuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5iZWdpblRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGU7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bignQkVHSU4nLCBib29rbWFya3MgPyBib29rbWFya3MuYXNCZWdpblRyYW5zYWN0aW9uUGFyYW1ldGVycygpIDoge30sIHtcbiAgICAgICAgICAgIGJvb2ttYXJrczogYm9va21hcmtzLFxuICAgICAgICAgICAgdHhDb25maWc6IHR4Q29uZmlnLFxuICAgICAgICAgICAgZGF0YWJhc2U6IGRhdGFiYXNlLFxuICAgICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICAgIGltcGVyc29uYXRlZFVzZXI6IGltcGVyc29uYXRlZFVzZXIsXG4gICAgICAgICAgICBub3RpZmljYXRpb25GaWx0ZXI6IG5vdGlmaWNhdGlvbkZpbHRlcixcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlLFxuICAgICAgICAgICAgZmx1c2g6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29tbWl0IHRoZSBleHBsaWNpdCB0cmFuc2FjdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5iZWZvcmVFcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGJlZm9yZSBoYW5kbGluZyB0aGUgZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0uYWZ0ZXJFcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIGhhbmRsaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtLmJlZm9yZUNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYmVmb3JlIGhhbmRsaW5nIHRoZSBjb21wbGV0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0uYWZ0ZXJDb21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIGhhbmRsaW5nIHRoZSBjb21wbGV0aW9uLlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmNvbW1pdFRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGU7XG4gICAgICAgIC8vIFdSSVRFIGFjY2VzcyBtb2RlIGlzIHVzZWQgYXMgYSBwbGFjZSBob2xkZXIgaGVyZSwgaXQgaGFzXG4gICAgICAgIC8vIG5vIGVmZmVjdCBvbiBiZWhhdmlvdXIgZm9yIEJvbHQgVjEgJiBWMlxuICAgICAgICByZXR1cm4gdGhpcy5ydW4oJ0NPTU1JVCcsIHt9LCB7XG4gICAgICAgICAgICBib29rbWFya3M6IEJvb2ttYXJrcy5lbXB0eSgpLFxuICAgICAgICAgICAgdHhDb25maWc6IFR4Q29uZmlnLmVtcHR5KCksXG4gICAgICAgICAgICBtb2RlOiBBQ0NFU1NfTU9ERV9XUklURSxcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUm9sbGJhY2sgdGhlIGV4cGxpY2l0IHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLmJlZm9yZUVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYmVmb3JlIGhhbmRsaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5hZnRlckVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgaGFuZGxpbmcgdGhlIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0uYmVmb3JlQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBiZWZvcmUgaGFuZGxpbmcgdGhlIGNvbXBsZXRpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5hZnRlckNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgaGFuZGxpbmcgdGhlIGNvbXBsZXRpb24uXG4gICAgICogQHJldHVybnMge1N0cmVhbU9ic2VydmVyfSB0aGUgc3RyZWFtIG9ic2VydmVyIHRoYXQgbW9uaXRvcnMgdGhlIGNvcnJlc3BvbmRpbmcgc2VydmVyIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucm9sbGJhY2tUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICAvLyBXUklURSBhY2Nlc3MgbW9kZSBpcyB1c2VkIGFzIGEgcGxhY2UgaG9sZGVyIGhlcmUsIGl0IGhhc1xuICAgICAgICAvLyBubyBlZmZlY3Qgb24gYmVoYXZpb3VyIGZvciBCb2x0IFYxICYgVjJcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuKCdST0xMQkFDSycsIHt9LCB7XG4gICAgICAgICAgICBib29rbWFya3M6IEJvb2ttYXJrcy5lbXB0eSgpLFxuICAgICAgICAgICAgdHhDb25maWc6IFR4Q29uZmlnLmVtcHR5KCksXG4gICAgICAgICAgICBtb2RlOiBBQ0NFU1NfTU9ERV9XUklURSxcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIEN5cGhlciBxdWVyeSB0aHJvdWdoIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IHRoZSBjeXBoZXIgcXVlcnkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtCb29rbWFya3N9IHBhcmFtLmJvb2ttYXJrcyB0aGUgYm9va21hcmtzLlxuICAgICAqIEBwYXJhbSB7VHhDb25maWd9IHBhcmFtLnR4Q29uZmlnIHRoZSB0cmFuc2FjdGlvbiBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5kYXRhYmFzZSB0aGUgdGFyZ2V0IGRhdGFiYXNlIG5hbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLmltcGVyc29uYXRlZFVzZXIgdGhlIGltcGVyc29uYXRlZCB1c2VyXG4gICAgICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IHBhcmFtLm5vdGlmaWNhdGlvbkZpbHRlciB0aGUgbm90aWZpY2F0aW9uIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0ubW9kZSB0aGUgYWNjZXNzIG1vZGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihrZXlzOiBzdHJpbmdbXSl9IHBhcmFtLmJlZm9yZUtleXMgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBiZWZvcmUgaGFuZGxpbmcgdGhlIGtleXMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihrZXlzOiBzdHJpbmdbXSl9IHBhcmFtLmFmdGVyS2V5cyB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIGhhbmRsaW5nIHRoZSBrZXlzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLmJlZm9yZUVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYmVmb3JlIGhhbmRsaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5hZnRlckVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgaGFuZGxpbmcgdGhlIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0uYmVmb3JlQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBiZWZvcmUgaGFuZGxpbmcgdGhlIGNvbXBsZXRpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5hZnRlckNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgaGFuZGxpbmcgdGhlIGNvbXBsZXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbS5mbHVzaCB3aGV0aGVyIHRvIGZsdXNoIHRoZSBidWZmZXJlZCBtZXNzYWdlcy5cbiAgICAgKiBAcmV0dXJucyB7U3RyZWFtT2JzZXJ2ZXJ9IHRoZSBzdHJlYW0gb2JzZXJ2ZXIgdGhhdCBtb25pdG9ycyB0aGUgY29ycmVzcG9uZGluZyBzZXJ2ZXIgcmVzcG9uc2UuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAocXVlcnksIHBhcmFtZXRlcnMsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBiZWZvcmVLZXlzID0gX2IuYmVmb3JlS2V5cywgYWZ0ZXJLZXlzID0gX2IuYWZ0ZXJLZXlzLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGUsIF9jID0gX2IuZmx1c2gsIGZsdXNoID0gX2MgPT09IHZvaWQgMCA/IHRydWUgOiBfYywgX2QgPSBfYi5oaWdoUmVjb3JkV2F0ZXJtYXJrLCBoaWdoUmVjb3JkV2F0ZXJtYXJrID0gX2QgPT09IHZvaWQgMCA/IE51bWJlci5NQVhfVkFMVUUgOiBfZCwgX2UgPSBfYi5sb3dSZWNvcmRXYXRlcm1hcmssIGxvd1JlY29yZFdhdGVybWFyayA9IF9lID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2U7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUmVzdWx0U3RyZWFtT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgc2VydmVyOiB0aGlzLl9zZXJ2ZXIsXG4gICAgICAgICAgICBiZWZvcmVLZXlzOiBiZWZvcmVLZXlzLFxuICAgICAgICAgICAgYWZ0ZXJLZXlzOiBhZnRlcktleXMsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZSxcbiAgICAgICAgICAgIGhpZ2hSZWNvcmRXYXRlcm1hcms6IGhpZ2hSZWNvcmRXYXRlcm1hcmssXG4gICAgICAgICAgICBsb3dSZWNvcmRXYXRlcm1hcms6IGxvd1JlY29yZFdhdGVybWFya1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gYm9va21hcmtzIGFuZCBtb2RlIGFyZSBpZ25vcmVkIGluIHRoaXMgdmVyc2lvbiBvZiB0aGUgcHJvdG9jb2xcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydFR4Q29uZmlnSXNFbXB0eSkodHhDb25maWcsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICAvLyBwYXNzaW5nIGluIGEgZGF0YWJhc2UgbmFtZSBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnREYXRhYmFzZUlzRW1wdHkpKGRhdGFiYXNlLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgLy8gcGFzc2luZyBpbXBlcnNvbmF0ZWQgdXNlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnRJbXBlcnNvbmF0ZWRVc2VySXNFbXB0eSkoaW1wZXJzb25hdGVkVXNlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIC8vIHBhc3Npbmcgbm90aWZpY2F0aW9uIGZpbHRlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KShub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucnVuKHF1ZXJ5LCBwYXJhbWV0ZXJzKSwgb2JzZXJ2ZXIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnB1bGxBbGwoKSwgb2JzZXJ2ZXIsIGZsdXNoKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwiY3VycmVudEZhaWx1cmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZUhhbmRsZXIuY3VycmVudEZhaWx1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgUkVTRVQgdGhyb3VnaCB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3IgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtLm9uQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBvbiBjb21wbGV0aW9uLlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGU7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUmVzZXRPYnNlcnZlcih7XG4gICAgICAgICAgICBvblByb3RvY29sRXJyb3I6IHRoaXMuX29uUHJvdG9jb2xFcnJvcixcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBvbkNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucmVzZXQoKSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgVEVMRU1FVFJZIHRocm91Z2ggdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbTAgTWVzc2FnZSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFyYW0wLmFwaSBUaGUgQVBJIGNhbGxlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbTEgQ29uZmlndXJhdGlvbiBhbmQgY2FsbGJhY2tzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbTEub25Db21wbGV0ZWQgQ2FsbGVkIHdoZW4gY29tcGxldGVkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbTEub25FcnJvciBDYWxsZWQgd2hlbiBlcnJvclxuICAgICAqIEByZXR1cm4ge1N0cmVhbU9ic2VydmVyfSB0aGUgc3RyZWFtIG9ic2VydmVyIHRoYXQgbW9uaXRvcnMgdGhlIGNvcnJlc3BvbmRpbmcgc2VydmVyIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUudGVsZW1ldHJ5ID0gZnVuY3Rpb24gKF9hLCBfYikge1xuICAgICAgICB2YXIgYXBpID0gX2EuYXBpO1xuICAgICAgICB2YXIgX2MgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYiwgb25FcnJvciA9IF9jLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Mub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuQ29tcGxldGVkT2JzZXJ2ZXIoKTtcbiAgICAgICAgaWYgKG9uQ29tcGxldGVkKSB7XG4gICAgICAgICAgICBvbkNvbXBsZXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX2NyZWF0ZVBhY2tlciA9IGZ1bmN0aW9uIChjaHVua2VyKSB7XG4gICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnYxLlBhY2tlcihjaHVua2VyKTtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX2NyZWF0ZVVucGFja2VyID0gZnVuY3Rpb24gKGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEudjEuVW5wYWNrZXIoZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIG1lc3NhZ2UgdG8gdGhlIG5ldHdvcmsgY2hhbm5lbC5cbiAgICAgKiBAcGFyYW0ge1JlcXVlc3RNZXNzYWdlfSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHdyaXRlLlxuICAgICAqIEBwYXJhbSB7U3RyZWFtT2JzZXJ2ZXJ9IG9ic2VydmVyIHRoZSByZXNwb25zZSBvYnNlcnZlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZsdXNoIGB0cnVlYCBpZiBmbHVzaCBzaG91bGQgaGFwcGVuIGFmdGVyIHRoZSBtZXNzYWdlIGlzIHdyaXR0ZW4gdG8gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9ic2VydmVyLCBmbHVzaCkge1xuICAgICAgICB2YXIgcXVldWVkID0gdGhpcy5xdWV1ZU9ic2VydmVySWZQcm90b2NvbElzTm90QnJva2VuKG9ic2VydmVyKTtcbiAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xvZy5pc0RlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiQzogXCIuY29uY2F0KG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xhc3RNZXNzYWdlU2lnbmF0dXJlID0gbWVzc2FnZS5zaWduYXR1cmU7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZVN0cnVjdCA9IG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShtZXNzYWdlLnNpZ25hdHVyZSwgbWVzc2FnZS5maWVsZHMpO1xuICAgICAgICAgICAgdGhpcy5wYWNrYWJsZShtZXNzYWdlU3RydWN0KSgpO1xuICAgICAgICAgICAgdGhpcy5fY2h1bmtlci5tZXNzYWdlQm91bmRhcnkoKTtcbiAgICAgICAgICAgIGlmIChmbHVzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rZXIuZmx1c2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5pc0xhc3RNZXNzYWdlTG9nb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0TWVzc2FnZVNpZ25hdHVyZSA9PT0gcmVxdWVzdF9tZXNzYWdlXzEuU0lHTkFUVVJFUy5IRUxMTyB8fFxuICAgICAgICAgICAgdGhpcy5fbGFzdE1lc3NhZ2VTaWduYXR1cmUgPT09IHJlcXVlc3RfbWVzc2FnZV8xLlNJR05BVFVSRVMuTE9HT047XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmlzTGFzdE1lc3NhZ2VSZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RNZXNzYWdlU2lnbmF0dXJlID09PSByZXF1ZXN0X21lc3NhZ2VfMS5TSUdOQVRVUkVTLlJFU0VUO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgZmFsdGFsIGVycm9zIHRvIHRoZSBvYnNlcnZlcnMgYW5kIG1hcmsgdGhlIHByb3RvY29sIGluIHRoZSBmYXRhbCBlcnJvciBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3JcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLm5vdGlmeUZhdGFsRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fZmF0YWxFcnJvciA9IGVycm9yO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VIYW5kbGVyLl9ub3RpZnlFcnJvclRvT2JzZXJ2ZXJzKGVycm9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRoZSBjdXJyZW50IG9ic2VydmVyIHdpdGggdGhlIG5leHQgb25lIG9uIHRoZSBxdWV1ZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnVwZGF0ZUN1cnJlbnRPYnNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlSGFuZGxlci5fdXBkYXRlQ3VycmVudE9ic2VydmVyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgZXhpc3QgYW4gb25nb2luZyBvYnNlcnZhYmxlIHJlcXVlc3RzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmhhc09uZ29pbmdPYnNlcnZhYmxlUmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZUhhbmRsZXIuaGFzT25nb2luZ09ic2VydmFibGVSZXF1ZXN0cygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5xdWV1ZSB0aGUgb2JzZXJ2ZXIgaWYgdGhlIHByb3RvY29sIGlzIG5vdCBicm9rZW4uXG4gICAgICogSW4gY2FzZSBpdCdzIGJyb2tlbiwgdGhlIG9ic2VydmVyIHdpbGwgYmUgbm90aWZpZWQgYWJvdXQgdGhlIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJlYW1PYnNlcnZlcn0gb2JzZXJ2ZXIgVGhlIG9ic2VydmVyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGlmIGl0IHdhcyBxdWV1ZWRcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnF1ZXVlT2JzZXJ2ZXJJZlByb3RvY29sSXNOb3RCcm9rZW4gPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCcm9rZW4oKSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlGYXRhbEVycm9yVG9PYnNlcnZlcihvYnNlcnZlcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlSGFuZGxlci5fcXVldWVPYnNlcnZlcihvYnNlcnZlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWZXJpdGZ5IHRoZSBwcm90b2NvbCBpcyBub3QgYnJva2VuLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuaXNCcm9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2ZhdGFsRXJyb3I7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyB0aGUgY3VycmVudCBmYXRhbCBlcnJvciB0byB0aGUgb2JzZXJ2ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyZWFtT2JzZXJ2ZXJ9IG9ic2VydmVyIFRoZSBvYnNlcnZlclxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUubm90aWZ5RmF0YWxFcnJvclRvT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG9ic2VydmVyICYmIG9ic2VydmVyLm9uRXJyb3IpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9uRXJyb3IodGhpcy5fZmF0YWxFcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IGN1cnJlbnQgZmFpbHVyZSBvbiB0aGUgb2JzZXJ2YWJsZSByZXNwb25zZSBoYW5kbGVyIHRvIG51bGwuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5yZXNldEZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlSGFuZGxlci5fcmVzZXRGYWlsdXJlKCk7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9vbkxvZ2luQ29tcGxldGVkID0gZnVuY3Rpb24gKG1ldGFkYXRhLCBhdXRoVG9rZW4sIG9uQ29tcGxldGVkKSB7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXV0aFRva2VuID0gYXV0aFRva2VuO1xuICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHZhciBzZXJ2ZXJWZXJzaW9uID0gbWV0YWRhdGEuc2VydmVyO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zZXJ2ZXIudmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlcnZlci52ZXJzaW9uID0gc2VydmVyVmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIG9uQ29tcGxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5fb25Mb2dpbkVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBvbkVycm9yKSB7XG4gICAgICAgIHRoaXMuX29uUHJvdG9jb2xFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar transformer_1 = __webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar NODE = 0x4e;\nvar NODE_STRUCT_SIZE = 3;\nvar RELATIONSHIP = 0x52;\nvar RELATIONSHIP_STRUCT_SIZE = 5;\nvar UNBOUND_RELATIONSHIP = 0x72;\nvar UNBOUND_RELATIONSHIP_STRUCT_SIZE = 3;\nvar PATH = 0x50;\nvar PATH_STRUCT_SIZE = 3;\n/**\n * Creates the Node Transformer\n * @returns {TypeTransformer}\n */\nfunction createNodeTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: NODE,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Node; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass nodes in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Node', NODE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), identity = _a[0], labels = _a[1], properties = _a[2];\n            return new neo4j_driver_core_1.Node(identity, labels, properties);\n        }\n    });\n}\n/**\n * Creates the Relationship Transformer\n * @returns {TypeTransformer}\n */\nfunction createRelationshipTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: RELATIONSHIP,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Relationship; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass relationships in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Relationship', RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 5), identity = _a[0], startNodeIdentity = _a[1], endNodeIdentity = _a[2], type = _a[3], properties = _a[4];\n            return new neo4j_driver_core_1.Relationship(identity, startNodeIdentity, endNodeIdentity, type, properties);\n        }\n    });\n}\n/**\n * Creates the Unbound Relationship Transformer\n * @returns {TypeTransformer}\n */\nfunction createUnboundRelationshipTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: UNBOUND_RELATIONSHIP,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.UnboundRelationship; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass unbound relationships in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('UnboundRelationship', UNBOUND_RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), identity = _a[0], type = _a[1], properties = _a[2];\n            return new neo4j_driver_core_1.UnboundRelationship(identity, type, properties);\n        }\n    });\n}\n/**\n * Creates the Path Transformer\n * @returns {TypeTransformer}\n */\nfunction createPathTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: PATH,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Path; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass paths in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Path', PATH_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), nodes = _a[0], rels = _a[1], sequence = _a[2];\n            var segments = [];\n            var prevNode = nodes[0];\n            for (var i = 0; i < sequence.length; i += 2) {\n                var nextNode = nodes[sequence[i + 1]];\n                var relIndex = (0, neo4j_driver_core_1.toNumber)(sequence[i]);\n                var rel = void 0;\n                if (relIndex > 0) {\n                    rel = rels[relIndex - 1];\n                    if (rel instanceof neo4j_driver_core_1.UnboundRelationship) {\n                        // To avoid duplication, relationships in a path do not contain\n                        // information about their start and end nodes, that's instead\n                        // inferred from the path sequence. This is us inferring (and,\n                        // for performance reasons remembering) the start/end of a rel.\n                        rels[relIndex - 1] = rel = rel.bindTo(prevNode, nextNode);\n                    }\n                }\n                else {\n                    rel = rels[-relIndex - 1];\n                    if (rel instanceof neo4j_driver_core_1.UnboundRelationship) {\n                        // See above\n                        rels[-relIndex - 1] = rel = rel.bindTo(nextNode, prevNode);\n                    }\n                }\n                // Done hydrating one path segment.\n                segments.push(new neo4j_driver_core_1.PathSegment(prevNode, rel, nextNode));\n                prevNode = nextNode;\n            }\n            return new neo4j_driver_core_1.Path(nodes[0], nodes[nodes.length - 1], segments);\n        }\n    });\n}\nexports[\"default\"] = {\n    createNodeTransformer: createNodeTransformer,\n    createRelationshipTransformer: createRelationshipTransformer,\n    createUnboundRelationshipTransformer: createUnboundRelationshipTransformer,\n    createPathTransformer: createPathTransformer\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYxLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsbUJBQW1CLG1CQUFPLENBQUMsZ0dBQWU7QUFDMUMsb0JBQW9CLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvREFBb0Q7QUFDaEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw0REFBNEQ7QUFDeEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxtRUFBbUU7QUFDL0c7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvREFBb0Q7QUFDaEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFCQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjEudHJhbnNmb3JtZXIuanM/YzI2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBwYWNrc3RyZWFtXzEgPSByZXF1aXJlKFwiLi4vcGFja3N0cmVhbVwiKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gcmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIik7XG52YXIgUFJPVE9DT0xfRVJST1IgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlBST1RPQ09MX0VSUk9SO1xudmFyIE5PREUgPSAweDRlO1xudmFyIE5PREVfU1RSVUNUX1NJWkUgPSAzO1xudmFyIFJFTEFUSU9OU0hJUCA9IDB4NTI7XG52YXIgUkVMQVRJT05TSElQX1NUUlVDVF9TSVpFID0gNTtcbnZhciBVTkJPVU5EX1JFTEFUSU9OU0hJUCA9IDB4NzI7XG52YXIgVU5CT1VORF9SRUxBVElPTlNISVBfU1RSVUNUX1NJWkUgPSAzO1xudmFyIFBBVEggPSAweDUwO1xudmFyIFBBVEhfU1RSVUNUX1NJWkUgPSAzO1xuLyoqXG4gKiBDcmVhdGVzIHRoZSBOb2RlIFRyYW5zZm9ybWVyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2RlVHJhbnNmb3JtZXIoKSB7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogTk9ERSxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIG5lbzRqX2RyaXZlcl9jb3JlXzEuTm9kZTsgfSxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIkl0IGlzIG5vdCBhbGxvd2VkIHRvIHBhc3Mgbm9kZXMgaW4gcXVlcnkgcGFyYW1ldGVycywgZ2l2ZW46IFwiLmNvbmNhdChvYmplY3QpLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnTm9kZScsIE5PREVfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAzKSwgaWRlbnRpdHkgPSBfYVswXSwgbGFiZWxzID0gX2FbMV0sIHByb3BlcnRpZXMgPSBfYVsyXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5Ob2RlKGlkZW50aXR5LCBsYWJlbHMsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIFJlbGF0aW9uc2hpcCBUcmFuc2Zvcm1lclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIoKSB7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogUkVMQVRJT05TSElQLFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgbmVvNGpfZHJpdmVyX2NvcmVfMS5SZWxhdGlvbnNoaXA7IH0sXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJJdCBpcyBub3QgYWxsb3dlZCB0byBwYXNzIHJlbGF0aW9uc2hpcHMgaW4gcXVlcnkgcGFyYW1ldGVycywgZ2l2ZW46IFwiLmNvbmNhdChvYmplY3QpLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnUmVsYXRpb25zaGlwJywgUkVMQVRJT05TSElQX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgNSksIGlkZW50aXR5ID0gX2FbMF0sIHN0YXJ0Tm9kZUlkZW50aXR5ID0gX2FbMV0sIGVuZE5vZGVJZGVudGl0eSA9IF9hWzJdLCB0eXBlID0gX2FbM10sIHByb3BlcnRpZXMgPSBfYVs0XTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5SZWxhdGlvbnNoaXAoaWRlbnRpdHksIHN0YXJ0Tm9kZUlkZW50aXR5LCBlbmROb2RlSWRlbnRpdHksIHR5cGUsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIFVuYm91bmQgUmVsYXRpb25zaGlwIFRyYW5zZm9ybWVyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVVbmJvdW5kUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIoKSB7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogVU5CT1VORF9SRUxBVElPTlNISVAsXG4gICAgICAgIGlzVHlwZUluc3RhbmNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBuZW80al9kcml2ZXJfY29yZV8xLlVuYm91bmRSZWxhdGlvbnNoaXA7IH0sXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJJdCBpcyBub3QgYWxsb3dlZCB0byBwYXNzIHVuYm91bmQgcmVsYXRpb25zaGlwcyBpbiBxdWVyeSBwYXJhbWV0ZXJzLCBnaXZlbjogXCIuY29uY2F0KG9iamVjdCksIFBST1RPQ09MX0VSUk9SKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdVbmJvdW5kUmVsYXRpb25zaGlwJywgVU5CT1VORF9SRUxBVElPTlNISVBfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAzKSwgaWRlbnRpdHkgPSBfYVswXSwgdHlwZSA9IF9hWzFdLCBwcm9wZXJ0aWVzID0gX2FbMl07XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuVW5ib3VuZFJlbGF0aW9uc2hpcChpZGVudGl0eSwgdHlwZSwgcHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgUGF0aCBUcmFuc2Zvcm1lclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUGF0aFRyYW5zZm9ybWVyKCkge1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IFBBVEgsXG4gICAgICAgIGlzVHlwZUluc3RhbmNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBuZW80al9kcml2ZXJfY29yZV8xLlBhdGg7IH0sXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJJdCBpcyBub3QgYWxsb3dlZCB0byBwYXNzIHBhdGhzIGluIHF1ZXJ5IHBhcmFtZXRlcnMsIGdpdmVuOiBcIi5jb25jYXQob2JqZWN0KSwgUFJPVE9DT0xfRVJST1IpO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ1BhdGgnLCBQQVRIX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIG5vZGVzID0gX2FbMF0sIHJlbHMgPSBfYVsxXSwgc2VxdWVuY2UgPSBfYVsyXTtcbiAgICAgICAgICAgIHZhciBzZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgdmFyIHByZXZOb2RlID0gbm9kZXNbMF07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcXVlbmNlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHROb2RlID0gbm9kZXNbc2VxdWVuY2VbaSArIDFdXTtcbiAgICAgICAgICAgICAgICB2YXIgcmVsSW5kZXggPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS50b051bWJlcikoc2VxdWVuY2VbaV0pO1xuICAgICAgICAgICAgICAgIHZhciByZWwgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHJlbEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZWwgPSByZWxzW3JlbEluZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWwgaW5zdGFuY2VvZiBuZW80al9kcml2ZXJfY29yZV8xLlVuYm91bmRSZWxhdGlvbnNoaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvIGF2b2lkIGR1cGxpY2F0aW9uLCByZWxhdGlvbnNoaXBzIGluIGEgcGF0aCBkbyBub3QgY29udGFpblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5mb3JtYXRpb24gYWJvdXQgdGhlaXIgc3RhcnQgYW5kIGVuZCBub2RlcywgdGhhdCdzIGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluZmVycmVkIGZyb20gdGhlIHBhdGggc2VxdWVuY2UuIFRoaXMgaXMgdXMgaW5mZXJyaW5nIChhbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyByZW1lbWJlcmluZykgdGhlIHN0YXJ0L2VuZCBvZiBhIHJlbC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbHNbcmVsSW5kZXggLSAxXSA9IHJlbCA9IHJlbC5iaW5kVG8ocHJldk5vZGUsIG5leHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVsID0gcmVsc1stcmVsSW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbCBpbnN0YW5jZW9mIG5lbzRqX2RyaXZlcl9jb3JlXzEuVW5ib3VuZFJlbGF0aW9uc2hpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGFib3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxzWy1yZWxJbmRleCAtIDFdID0gcmVsID0gcmVsLmJpbmRUbyhuZXh0Tm9kZSwgcHJldk5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERvbmUgaHlkcmF0aW5nIG9uZSBwYXRoIHNlZ21lbnQuXG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5QYXRoU2VnbWVudChwcmV2Tm9kZSwgcmVsLCBuZXh0Tm9kZSkpO1xuICAgICAgICAgICAgICAgIHByZXZOb2RlID0gbmV4dE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuUGF0aChub2Rlc1swXSwgbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0sIHNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIGNyZWF0ZU5vZGVUcmFuc2Zvcm1lcjogY3JlYXRlTm9kZVRyYW5zZm9ybWVyLFxuICAgIGNyZWF0ZVJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyOiBjcmVhdGVSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcixcbiAgICBjcmVhdGVVbmJvdW5kUmVsYXRpb25zaGlwVHJhbnNmb3JtZXI6IGNyZWF0ZVVuYm91bmRSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcixcbiAgICBjcmVhdGVQYXRoVHJhbnNmb3JtZXI6IGNyZWF0ZVBhdGhUcmFuc2Zvcm1lclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js\"));\nvar packstream_1 = __importDefault(__webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar BOLT_PROTOCOL_V2 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V2;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BoltProtocol.prototype._createPacker = function (chunker) {\n        return new packstream_1.default.Packer(chunker);\n    };\n    BoltProtocol.prototype._createUnpacker = function (disableLosslessIntegers, useBigInt) {\n        return new packstream_1.default.Unpacker(disableLosslessIntegers, useBigInt);\n    };\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BoltProtocol;\n}(bolt_protocol_v1_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckUsbUNBQW1DLG1CQUFPLENBQUMsZ0dBQWU7QUFDMUQsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELHFEQUFxRCxtQkFBTyxDQUFDLGtJQUFnQztBQUM3RixvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRJQUE0SSwyQ0FBMkM7QUFDdkw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjIuanM/YzA1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYxXCIpKTtcbnZhciBwYWNrc3RyZWFtXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL3BhY2tzdHJlYW1cIikpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgYm9sdF9wcm90b2NvbF92Ml90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjIudHJhbnNmb3JtZXJcIikpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIikpO1xudmFyIEJPTFRfUFJPVE9DT0xfVjIgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5CT0xUX1BST1RPQ09MX1YyO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9jcmVhdGVQYWNrZXIgPSBmdW5jdGlvbiAoY2h1bmtlcikge1xuICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5kZWZhdWx0LlBhY2tlcihjaHVua2VyKTtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX2NyZWF0ZVVucGFja2VyID0gZnVuY3Rpb24gKGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuZGVmYXVsdC5VbnBhY2tlcihkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInRyYW5zZm9ybWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhib2x0X3Byb3RvY29sX3YyX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3YxXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar transformer_1 = __webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\");\nvar temporal_factory_1 = __webpack_require__(/*! ./temporal-factory */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js\");\nvar bolt_protocol_v1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js\"));\nvar _a = neo4j_driver_core_1.internal.temporalUtil, dateToEpochDay = _a.dateToEpochDay, localDateTimeToEpochSecond = _a.localDateTimeToEpochSecond, localTimeToNanoOfDay = _a.localTimeToNanoOfDay;\nvar POINT_2D = 0x58;\nvar POINT_2D_STRUCT_SIZE = 3;\nvar POINT_3D = 0x59;\nvar POINT_3D_STRUCT_SIZE = 4;\nvar DURATION = 0x45;\nvar DURATION_STRUCT_SIZE = 4;\nvar LOCAL_TIME = 0x74;\nvar LOCAL_TIME_STRUCT_SIZE = 1;\nvar TIME = 0x54;\nvar TIME_STRUCT_SIZE = 2;\nvar DATE = 0x44;\nvar DATE_STRUCT_SIZE = 1;\nvar LOCAL_DATE_TIME = 0x64;\nvar LOCAL_DATE_TIME_STRUCT_SIZE = 2;\nvar DATE_TIME_WITH_ZONE_OFFSET = 0x46;\nvar DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE = 3;\nvar DATE_TIME_WITH_ZONE_ID = 0x66;\nvar DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE = 3;\n/**\n * Creates the Point2D Transformer\n * @returns {TypeTransformer}\n */\nfunction createPoint2DTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: POINT_2D,\n        isTypeInstance: function (point) { return (0, neo4j_driver_core_1.isPoint)(point) && (point.z === null || point.z === undefined); },\n        toStructure: function (point) { return new packstream_1.structure.Structure(POINT_2D, [\n            (0, neo4j_driver_core_1.int)(point.srid),\n            point.x,\n            point.y\n        ]); },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Point2D', POINT_2D_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), srid = _a[0], x = _a[1], y = _a[2];\n            return new neo4j_driver_core_1.Point(srid, x, y, undefined // z\n            );\n        }\n    });\n}\n/**\n * Creates the Point3D Transformer\n * @returns {TypeTransformer}\n */\nfunction createPoint3DTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: POINT_3D,\n        isTypeInstance: function (point) { return (0, neo4j_driver_core_1.isPoint)(point) && point.z !== null && point.z !== undefined; },\n        toStructure: function (point) { return new packstream_1.structure.Structure(POINT_3D, [\n            (0, neo4j_driver_core_1.int)(point.srid),\n            point.x,\n            point.y,\n            point.z\n        ]); },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Point3D', POINT_3D_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), srid = _a[0], x = _a[1], y = _a[2], z = _a[3];\n            return new neo4j_driver_core_1.Point(srid, x, y, z);\n        }\n    });\n}\n/**\n * Creates the Duration Transformer\n * @returns {TypeTransformer}\n */\nfunction createDurationTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: DURATION,\n        isTypeInstance: neo4j_driver_core_1.isDuration,\n        toStructure: function (value) {\n            var months = (0, neo4j_driver_core_1.int)(value.months);\n            var days = (0, neo4j_driver_core_1.int)(value.days);\n            var seconds = (0, neo4j_driver_core_1.int)(value.seconds);\n            var nanoseconds = (0, neo4j_driver_core_1.int)(value.nanoseconds);\n            return new packstream_1.structure.Structure(DURATION, [months, days, seconds, nanoseconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Duration', DURATION_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), months = _a[0], days = _a[1], seconds = _a[2], nanoseconds = _a[3];\n            return new neo4j_driver_core_1.Duration(months, days, seconds, nanoseconds);\n        }\n    });\n}\n/**\n * Creates the LocalTime Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createLocalTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: LOCAL_TIME,\n        isTypeInstance: neo4j_driver_core_1.isLocalTime,\n        toStructure: function (value) {\n            var nanoOfDay = localTimeToNanoOfDay(value.hour, value.minute, value.second, value.nanosecond);\n            return new packstream_1.structure.Structure(LOCAL_TIME, [nanoOfDay]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('LocalTime', LOCAL_TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 1), nanoOfDay = _a[0];\n            var result = (0, temporal_factory_1.nanoOfDayToLocalTime)(nanoOfDay);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the Time Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: TIME,\n        isTypeInstance: neo4j_driver_core_1.isTime,\n        toStructure: function (value) {\n            var nanoOfDay = localTimeToNanoOfDay(value.hour, value.minute, value.second, value.nanosecond);\n            var offsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(TIME, [nanoOfDay, offsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Time', TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 2), nanoOfDay = _a[0], offsetSeconds = _a[1];\n            var localTime = (0, temporal_factory_1.nanoOfDayToLocalTime)(nanoOfDay);\n            var result = new neo4j_driver_core_1.Time(localTime.hour, localTime.minute, localTime.second, localTime.nanosecond, offsetSeconds);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the Date Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE,\n        isTypeInstance: neo4j_driver_core_1.isDate,\n        toStructure: function (value) {\n            var epochDay = dateToEpochDay(value.year, value.month, value.day);\n            return new packstream_1.structure.Structure(DATE, [epochDay]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Date', DATE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 1), epochDay = _a[0];\n            var result = (0, temporal_factory_1.epochDayToDate)(epochDay);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the LocalDateTime Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createLocalDateTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: LOCAL_DATE_TIME,\n        isTypeInstance: neo4j_driver_core_1.isLocalDateTime,\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            return new packstream_1.structure.Structure(LOCAL_DATE_TIME, [epochSecond, nano]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('LocalDateTime', LOCAL_DATE_TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 2), epochSecond = _a[0], nano = _a[1];\n            var result = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the DateTime with ZoneId Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTimeWithZoneIdTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE_TIME_WITH_ZONE_ID,\n        isTypeInstance: function (object) { return (0, neo4j_driver_core_1.isDateTime)(object) && object.timeZoneId != null; },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneId = value.timeZoneId;\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_ID, [epochSecond, nano, timeZoneId]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneId', DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneId = _a[2];\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, null, timeZoneId);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the DateTime with Offset Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTimeWithOffsetTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE_TIME_WITH_ZONE_OFFSET,\n        isTypeInstance: function (object) { return (0, neo4j_driver_core_1.isDateTime)(object) && object.timeZoneId == null; },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneOffsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET, [epochSecond, nano, timeZoneOffsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneOffset', DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneOffsetSeconds = _a[2];\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, timeZoneOffsetSeconds, null);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\nfunction convertIntegerPropsIfNeeded(obj, disableLosslessIntegers, useBigInt) {\n    if (!disableLosslessIntegers && !useBigInt) {\n        return obj;\n    }\n    var convert = function (value) {\n        return useBigInt ? value.toBigInt() : value.toNumberOrInfinity();\n    };\n    var clone = Object.create(Object.getPrototypeOf(obj));\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop) === true) {\n            var value = obj[prop];\n            clone[prop] = (0, neo4j_driver_core_1.isInt)(value) ? convert(value) : value;\n        }\n    }\n    Object.freeze(clone);\n    return clone;\n}\nexports[\"default\"] = __assign(__assign({}, bolt_protocol_v1_transformer_1.default), { createPoint2DTransformer: createPoint2DTransformer, createPoint3DTransformer: createPoint3DTransformer, createDurationTransformer: createDurationTransformer, createLocalTimeTransformer: createLocalTimeTransformer, createTimeTransformer: createTimeTransformer, createDateTransformer: createDateTransformer, createLocalDateTimeTransformer: createLocalDateTimeTransformer, createDateTimeWithZoneIdTransformer: createDateTimeWithZoneIdTransformer, createDateTimeWithOffsetTransformer: createDateTimeWithOffsetTransformer });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYyLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELG1CQUFtQixtQkFBTyxDQUFDLGdHQUFlO0FBQzFDLG9CQUFvQixtQkFBTyxDQUFDLGdHQUFlO0FBQzNDLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCxxREFBcUQsbUJBQU8sQ0FBQyxrSUFBZ0M7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdHQUFnRztBQUMzSSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsOEZBQThGO0FBQ3pJLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0ZBQWtGO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0ZBQWtGO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWUsdUJBQXVCLDZDQUE2QyxzZ0JBQXNnQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYyLnRyYW5zZm9ybWVyLmpzP2M5YTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIHBhY2tzdHJlYW1fMSA9IHJlcXVpcmUoXCIuLi9wYWNrc3RyZWFtXCIpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSByZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKTtcbnZhciB0ZW1wb3JhbF9mYWN0b3J5XzEgPSByZXF1aXJlKFwiLi90ZW1wb3JhbC1mYWN0b3J5XCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjFfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYxLnRyYW5zZm9ybWVyXCIpKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwudGVtcG9yYWxVdGlsLCBkYXRlVG9FcG9jaERheSA9IF9hLmRhdGVUb0Vwb2NoRGF5LCBsb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCA9IF9hLmxvY2FsRGF0ZVRpbWVUb0Vwb2NoU2Vjb25kLCBsb2NhbFRpbWVUb05hbm9PZkRheSA9IF9hLmxvY2FsVGltZVRvTmFub09mRGF5O1xudmFyIFBPSU5UXzJEID0gMHg1ODtcbnZhciBQT0lOVF8yRF9TVFJVQ1RfU0laRSA9IDM7XG52YXIgUE9JTlRfM0QgPSAweDU5O1xudmFyIFBPSU5UXzNEX1NUUlVDVF9TSVpFID0gNDtcbnZhciBEVVJBVElPTiA9IDB4NDU7XG52YXIgRFVSQVRJT05fU1RSVUNUX1NJWkUgPSA0O1xudmFyIExPQ0FMX1RJTUUgPSAweDc0O1xudmFyIExPQ0FMX1RJTUVfU1RSVUNUX1NJWkUgPSAxO1xudmFyIFRJTUUgPSAweDU0O1xudmFyIFRJTUVfU1RSVUNUX1NJWkUgPSAyO1xudmFyIERBVEUgPSAweDQ0O1xudmFyIERBVEVfU1RSVUNUX1NJWkUgPSAxO1xudmFyIExPQ0FMX0RBVEVfVElNRSA9IDB4NjQ7XG52YXIgTE9DQUxfREFURV9USU1FX1NUUlVDVF9TSVpFID0gMjtcbnZhciBEQVRFX1RJTUVfV0lUSF9aT05FX09GRlNFVCA9IDB4NDY7XG52YXIgREFURV9USU1FX1dJVEhfWk9ORV9PRkZTRVRfU1RSVUNUX1NJWkUgPSAzO1xudmFyIERBVEVfVElNRV9XSVRIX1pPTkVfSUQgPSAweDY2O1xudmFyIERBVEVfVElNRV9XSVRIX1pPTkVfSURfU1RSVUNUX1NJWkUgPSAzO1xuLyoqXG4gKiBDcmVhdGVzIHRoZSBQb2ludDJEIFRyYW5zZm9ybWVyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVQb2ludDJEVHJhbnNmb3JtZXIoKSB7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogUE9JTlRfMkQsXG4gICAgICAgIGlzVHlwZUluc3RhbmNlOiBmdW5jdGlvbiAocG9pbnQpIHsgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzUG9pbnQpKHBvaW50KSAmJiAocG9pbnQueiA9PT0gbnVsbCB8fCBwb2ludC56ID09PSB1bmRlZmluZWQpOyB9LFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHBvaW50KSB7IHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS5TdHJ1Y3R1cmUoUE9JTlRfMkQsIFtcbiAgICAgICAgICAgICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkocG9pbnQuc3JpZCksXG4gICAgICAgICAgICBwb2ludC54LFxuICAgICAgICAgICAgcG9pbnQueVxuICAgICAgICBdKTsgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdQb2ludDJEJywgUE9JTlRfMkRfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAzKSwgc3JpZCA9IF9hWzBdLCB4ID0gX2FbMV0sIHkgPSBfYVsyXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5Qb2ludChzcmlkLCB4LCB5LCB1bmRlZmluZWQgLy8gelxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBQb2ludDNEIFRyYW5zZm9ybWVyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVQb2ludDNEVHJhbnNmb3JtZXIoKSB7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogUE9JTlRfM0QsXG4gICAgICAgIGlzVHlwZUluc3RhbmNlOiBmdW5jdGlvbiAocG9pbnQpIHsgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzUG9pbnQpKHBvaW50KSAmJiBwb2ludC56ICE9PSBudWxsICYmIHBvaW50LnogIT09IHVuZGVmaW5lZDsgfSxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChwb2ludCkgeyByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKFBPSU5UXzNELCBbXG4gICAgICAgICAgICAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHBvaW50LnNyaWQpLFxuICAgICAgICAgICAgcG9pbnQueCxcbiAgICAgICAgICAgIHBvaW50LnksXG4gICAgICAgICAgICBwb2ludC56XG4gICAgICAgIF0pOyB9LFxuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ1BvaW50M0QnLCBQT0lOVF8zRF9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDQpLCBzcmlkID0gX2FbMF0sIHggPSBfYVsxXSwgeSA9IF9hWzJdLCB6ID0gX2FbM107XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuUG9pbnQoc3JpZCwgeCwgeSwgeik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgRHVyYXRpb24gVHJhbnNmb3JtZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uVHJhbnNmb3JtZXIoKSB7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogRFVSQVRJT04sXG4gICAgICAgIGlzVHlwZUluc3RhbmNlOiBuZW80al9kcml2ZXJfY29yZV8xLmlzRHVyYXRpb24sXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBtb250aHMgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLm1vbnRocyk7XG4gICAgICAgICAgICB2YXIgZGF5cyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUuZGF5cyk7XG4gICAgICAgICAgICB2YXIgc2Vjb25kcyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUuc2Vjb25kcyk7XG4gICAgICAgICAgICB2YXIgbmFub3NlY29uZHMgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLm5hbm9zZWNvbmRzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS5TdHJ1Y3R1cmUoRFVSQVRJT04sIFttb250aHMsIGRheXMsIHNlY29uZHMsIG5hbm9zZWNvbmRzXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnRHVyYXRpb24nLCBEVVJBVElPTl9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDQpLCBtb250aHMgPSBfYVswXSwgZGF5cyA9IF9hWzFdLCBzZWNvbmRzID0gX2FbMl0sIG5hbm9zZWNvbmRzID0gX2FbM107XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuRHVyYXRpb24obW9udGhzLCBkYXlzLCBzZWNvbmRzLCBuYW5vc2Vjb25kcyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgTG9jYWxUaW1lIFRyYW5zZm9ybWVyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0uZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgRGlzYWJsZXMgbG9zc2xlc3MgaW50ZWdlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0udXNlQmlnSW50IFVzZXMgQmlnSW50IGluc3RlYWQgb2YgbnVtYmVyIG9yIEludGVnZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsVGltZVRyYW5zZm9ybWVyKF9hKSB7XG4gICAgdmFyIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gX2EuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCA9IF9hLnVzZUJpZ0ludDtcbiAgICByZXR1cm4gbmV3IHRyYW5zZm9ybWVyXzEuVHlwZVRyYW5zZm9ybWVyKHtcbiAgICAgICAgc2lnbmF0dXJlOiBMT0NBTF9USU1FLFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogbmVvNGpfZHJpdmVyX2NvcmVfMS5pc0xvY2FsVGltZSxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIG5hbm9PZkRheSA9IGxvY2FsVGltZVRvTmFub09mRGF5KHZhbHVlLmhvdXIsIHZhbHVlLm1pbnV0ZSwgdmFsdWUuc2Vjb25kLCB2YWx1ZS5uYW5vc2Vjb25kKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS5TdHJ1Y3R1cmUoTE9DQUxfVElNRSwgW25hbm9PZkRheV0pO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ0xvY2FsVGltZScsIExPQ0FMX1RJTUVfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAxKSwgbmFub09mRGF5ID0gX2FbMF07XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gKDAsIHRlbXBvcmFsX2ZhY3RvcnlfMS5uYW5vT2ZEYXlUb0xvY2FsVGltZSkobmFub09mRGF5KTtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0SW50ZWdlclByb3BzSWZOZWVkZWQocmVzdWx0LCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBUaW1lIFRyYW5zZm9ybWVyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0uZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgRGlzYWJsZXMgbG9zc2xlc3MgaW50ZWdlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0udXNlQmlnSW50IFVzZXMgQmlnSW50IGluc3RlYWQgb2YgbnVtYmVyIG9yIEludGVnZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRpbWVUcmFuc2Zvcm1lcihfYSkge1xuICAgIHZhciBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IF9hLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBfYS51c2VCaWdJbnQ7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogVElNRSxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IG5lbzRqX2RyaXZlcl9jb3JlXzEuaXNUaW1lLFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmFub09mRGF5ID0gbG9jYWxUaW1lVG9OYW5vT2ZEYXkodmFsdWUuaG91ciwgdmFsdWUubWludXRlLCB2YWx1ZS5zZWNvbmQsIHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIG9mZnNldFNlY29uZHMgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLnRpbWVab25lT2Zmc2V0U2Vjb25kcyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKFRJTUUsIFtuYW5vT2ZEYXksIG9mZnNldFNlY29uZHNdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdUaW1lJywgVElNRV9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDIpLCBuYW5vT2ZEYXkgPSBfYVswXSwgb2Zmc2V0U2Vjb25kcyA9IF9hWzFdO1xuICAgICAgICAgICAgdmFyIGxvY2FsVGltZSA9ICgwLCB0ZW1wb3JhbF9mYWN0b3J5XzEubmFub09mRGF5VG9Mb2NhbFRpbWUpKG5hbm9PZkRheSk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuVGltZShsb2NhbFRpbWUuaG91ciwgbG9jYWxUaW1lLm1pbnV0ZSwgbG9jYWxUaW1lLnNlY29uZCwgbG9jYWxUaW1lLm5hbm9zZWNvbmQsIG9mZnNldFNlY29uZHMpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRJbnRlZ2VyUHJvcHNJZk5lZWRlZChyZXN1bHQsIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIERhdGUgVHJhbnNmb3JtZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbVxuICogQHBhcmFtIHtib29sZWFufSBwYXJhbS5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyBEaXNhYmxlcyBsb3NzbGVzcyBpbnRlZ2Vyc1xuICogQHBhcmFtIHtib29sZWFufSBwYXJhbS51c2VCaWdJbnQgVXNlcyBCaWdJbnQgaW5zdGVhZCBvZiBudW1iZXIgb3IgSW50ZWdlclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGF0ZVRyYW5zZm9ybWVyKF9hKSB7XG4gICAgdmFyIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gX2EuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCA9IF9hLnVzZUJpZ0ludDtcbiAgICByZXR1cm4gbmV3IHRyYW5zZm9ybWVyXzEuVHlwZVRyYW5zZm9ybWVyKHtcbiAgICAgICAgc2lnbmF0dXJlOiBEQVRFLFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogbmVvNGpfZHJpdmVyX2NvcmVfMS5pc0RhdGUsXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcG9jaERheSA9IGRhdGVUb0Vwb2NoRGF5KHZhbHVlLnllYXIsIHZhbHVlLm1vbnRoLCB2YWx1ZS5kYXkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShEQVRFLCBbZXBvY2hEYXldKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdEYXRlJywgREFURV9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDEpLCBlcG9jaERheSA9IF9hWzBdO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICgwLCB0ZW1wb3JhbF9mYWN0b3J5XzEuZXBvY2hEYXlUb0RhdGUpKGVwb2NoRGF5KTtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0SW50ZWdlclByb3BzSWZOZWVkZWQocmVzdWx0LCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBMb2NhbERhdGVUaW1lIFRyYW5zZm9ybWVyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0uZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgRGlzYWJsZXMgbG9zc2xlc3MgaW50ZWdlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0udXNlQmlnSW50IFVzZXMgQmlnSW50IGluc3RlYWQgb2YgbnVtYmVyIG9yIEludGVnZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsRGF0ZVRpbWVUcmFuc2Zvcm1lcihfYSkge1xuICAgIHZhciBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IF9hLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBfYS51c2VCaWdJbnQ7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogTE9DQUxfREFURV9USU1FLFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogbmVvNGpfZHJpdmVyX2NvcmVfMS5pc0xvY2FsRGF0ZVRpbWUsXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcG9jaFNlY29uZCA9IGxvY2FsRGF0ZVRpbWVUb0Vwb2NoU2Vjb25kKHZhbHVlLnllYXIsIHZhbHVlLm1vbnRoLCB2YWx1ZS5kYXksIHZhbHVlLmhvdXIsIHZhbHVlLm1pbnV0ZSwgdmFsdWUuc2Vjb25kLCB2YWx1ZS5uYW5vc2Vjb25kKTtcbiAgICAgICAgICAgIHZhciBuYW5vID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSh2YWx1ZS5uYW5vc2Vjb25kKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS5TdHJ1Y3R1cmUoTE9DQUxfREFURV9USU1FLCBbZXBvY2hTZWNvbmQsIG5hbm9dKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdMb2NhbERhdGVUaW1lJywgTE9DQUxfREFURV9USU1FX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMiksIGVwb2NoU2Vjb25kID0gX2FbMF0sIG5hbm8gPSBfYVsxXTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAoMCwgdGVtcG9yYWxfZmFjdG9yeV8xLmVwb2NoU2Vjb25kQW5kTmFub1RvTG9jYWxEYXRlVGltZSkoZXBvY2hTZWNvbmQsIG5hbm8pO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRJbnRlZ2VyUHJvcHNJZk5lZWRlZChyZXN1bHQsIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIERhdGVUaW1lIHdpdGggWm9uZUlkIFRyYW5zZm9ybWVyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0uZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgRGlzYWJsZXMgbG9zc2xlc3MgaW50ZWdlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0udXNlQmlnSW50IFVzZXMgQmlnSW50IGluc3RlYWQgb2YgbnVtYmVyIG9yIEludGVnZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURhdGVUaW1lV2l0aFpvbmVJZFRyYW5zZm9ybWVyKF9hKSB7XG4gICAgdmFyIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gX2EuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCA9IF9hLnVzZUJpZ0ludDtcbiAgICByZXR1cm4gbmV3IHRyYW5zZm9ybWVyXzEuVHlwZVRyYW5zZm9ybWVyKHtcbiAgICAgICAgc2lnbmF0dXJlOiBEQVRFX1RJTUVfV0lUSF9aT05FX0lELFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaXNEYXRlVGltZSkob2JqZWN0KSAmJiBvYmplY3QudGltZVpvbmVJZCAhPSBudWxsOyB9LFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXBvY2hTZWNvbmQgPSBsb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCh2YWx1ZS55ZWFyLCB2YWx1ZS5tb250aCwgdmFsdWUuZGF5LCB2YWx1ZS5ob3VyLCB2YWx1ZS5taW51dGUsIHZhbHVlLnNlY29uZCwgdmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgbmFubyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgdGltZVpvbmVJZCA9IHZhbHVlLnRpbWVab25lSWQ7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKERBVEVfVElNRV9XSVRIX1pPTkVfSUQsIFtlcG9jaFNlY29uZCwgbmFubywgdGltZVpvbmVJZF0pO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ0RhdGVUaW1lV2l0aFpvbmVJZCcsIERBVEVfVElNRV9XSVRIX1pPTkVfSURfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAzKSwgZXBvY2hTZWNvbmQgPSBfYVswXSwgbmFubyA9IF9hWzFdLCB0aW1lWm9uZUlkID0gX2FbMl07XG4gICAgICAgICAgICB2YXIgbG9jYWxEYXRlVGltZSA9ICgwLCB0ZW1wb3JhbF9mYWN0b3J5XzEuZXBvY2hTZWNvbmRBbmROYW5vVG9Mb2NhbERhdGVUaW1lKShlcG9jaFNlY29uZCwgbmFubyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuRGF0ZVRpbWUobG9jYWxEYXRlVGltZS55ZWFyLCBsb2NhbERhdGVUaW1lLm1vbnRoLCBsb2NhbERhdGVUaW1lLmRheSwgbG9jYWxEYXRlVGltZS5ob3VyLCBsb2NhbERhdGVUaW1lLm1pbnV0ZSwgbG9jYWxEYXRlVGltZS5zZWNvbmQsIGxvY2FsRGF0ZVRpbWUubmFub3NlY29uZCwgbnVsbCwgdGltZVpvbmVJZCk7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydEludGVnZXJQcm9wc0lmTmVlZGVkKHJlc3VsdCwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgRGF0ZVRpbWUgd2l0aCBPZmZzZXQgVHJhbnNmb3JtZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbVxuICogQHBhcmFtIHtib29sZWFufSBwYXJhbS5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyBEaXNhYmxlcyBsb3NzbGVzcyBpbnRlZ2Vyc1xuICogQHBhcmFtIHtib29sZWFufSBwYXJhbS51c2VCaWdJbnQgVXNlcyBCaWdJbnQgaW5zdGVhZCBvZiBudW1iZXIgb3IgSW50ZWdlclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXIoX2EpIHtcbiAgICB2YXIgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBfYS5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50ID0gX2EudXNlQmlnSW50O1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IERBVEVfVElNRV9XSVRIX1pPTkVfT0ZGU0VULFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaXNEYXRlVGltZSkob2JqZWN0KSAmJiBvYmplY3QudGltZVpvbmVJZCA9PSBudWxsOyB9LFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXBvY2hTZWNvbmQgPSBsb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCh2YWx1ZS55ZWFyLCB2YWx1ZS5tb250aCwgdmFsdWUuZGF5LCB2YWx1ZS5ob3VyLCB2YWx1ZS5taW51dGUsIHZhbHVlLnNlY29uZCwgdmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgbmFubyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgdGltZVpvbmVPZmZzZXRTZWNvbmRzID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSh2YWx1ZS50aW1lWm9uZU9mZnNldFNlY29uZHMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShEQVRFX1RJTUVfV0lUSF9aT05FX09GRlNFVCwgW2Vwb2NoU2Vjb25kLCBuYW5vLCB0aW1lWm9uZU9mZnNldFNlY29uZHNdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdEYXRlVGltZVdpdGhab25lT2Zmc2V0JywgREFURV9USU1FX1dJVEhfWk9ORV9PRkZTRVRfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAzKSwgZXBvY2hTZWNvbmQgPSBfYVswXSwgbmFubyA9IF9hWzFdLCB0aW1lWm9uZU9mZnNldFNlY29uZHMgPSBfYVsyXTtcbiAgICAgICAgICAgIHZhciBsb2NhbERhdGVUaW1lID0gKDAsIHRlbXBvcmFsX2ZhY3RvcnlfMS5lcG9jaFNlY29uZEFuZE5hbm9Ub0xvY2FsRGF0ZVRpbWUpKGVwb2NoU2Vjb25kLCBuYW5vKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5EYXRlVGltZShsb2NhbERhdGVUaW1lLnllYXIsIGxvY2FsRGF0ZVRpbWUubW9udGgsIGxvY2FsRGF0ZVRpbWUuZGF5LCBsb2NhbERhdGVUaW1lLmhvdXIsIGxvY2FsRGF0ZVRpbWUubWludXRlLCBsb2NhbERhdGVUaW1lLnNlY29uZCwgbG9jYWxEYXRlVGltZS5uYW5vc2Vjb25kLCB0aW1lWm9uZU9mZnNldFNlY29uZHMsIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRJbnRlZ2VyUHJvcHNJZk5lZWRlZChyZXN1bHQsIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0SW50ZWdlclByb3BzSWZOZWVkZWQob2JqLCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KSB7XG4gICAgaWYgKCFkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyAmJiAhdXNlQmlnSW50KSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHZhciBjb252ZXJ0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB1c2VCaWdJbnQgPyB2YWx1ZS50b0JpZ0ludCgpIDogdmFsdWUudG9OdW1iZXJPckluZmluaXR5KCk7XG4gICAgfTtcbiAgICB2YXIgY2xvbmUgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICAgICAgICAgIGNsb25lW3Byb3BdID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaXNJbnQpKHZhbHVlKSA/IGNvbnZlcnQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmZyZWV6ZShjbG9uZSk7XG4gICAgcmV0dXJuIGNsb25lO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjFfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KSwgeyBjcmVhdGVQb2ludDJEVHJhbnNmb3JtZXI6IGNyZWF0ZVBvaW50MkRUcmFuc2Zvcm1lciwgY3JlYXRlUG9pbnQzRFRyYW5zZm9ybWVyOiBjcmVhdGVQb2ludDNEVHJhbnNmb3JtZXIsIGNyZWF0ZUR1cmF0aW9uVHJhbnNmb3JtZXI6IGNyZWF0ZUR1cmF0aW9uVHJhbnNmb3JtZXIsIGNyZWF0ZUxvY2FsVGltZVRyYW5zZm9ybWVyOiBjcmVhdGVMb2NhbFRpbWVUcmFuc2Zvcm1lciwgY3JlYXRlVGltZVRyYW5zZm9ybWVyOiBjcmVhdGVUaW1lVHJhbnNmb3JtZXIsIGNyZWF0ZURhdGVUcmFuc2Zvcm1lcjogY3JlYXRlRGF0ZVRyYW5zZm9ybWVyLCBjcmVhdGVMb2NhbERhdGVUaW1lVHJhbnNmb3JtZXI6IGNyZWF0ZUxvY2FsRGF0ZVRpbWVUcmFuc2Zvcm1lciwgY3JlYXRlRGF0ZVRpbWVXaXRoWm9uZUlkVHJhbnNmb3JtZXI6IGNyZWF0ZURhdGVUaW1lV2l0aFpvbmVJZFRyYW5zZm9ybWVyLCBjcmVhdGVEYXRlVGltZVdpdGhPZmZzZXRUcmFuc2Zvcm1lcjogY3JlYXRlRGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXIgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_v3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, BOLT_PROTOCOL_V3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V3, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar CONTEXT = 'context';\nvar CALL_GET_ROUTING_TABLE = \"CALL dbms.cluster.routing.getRoutingTable($\".concat(CONTEXT, \")\");\nvar noOpObserver = new stream_observers_1.StreamObserver();\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.transformMetadata = function (metadata) {\n        if ('t_first' in metadata) {\n            // Bolt V3 uses shorter key 't_first' to represent 'result_available_after'\n            // adjust the key to be the same as in Bolt V1 so that ResultSummary can retrieve the value\n            metadata.result_available_after = metadata.t_first;\n            delete metadata.t_first;\n        }\n        if ('t_last' in metadata) {\n            // Bolt V3 uses shorter key 't_last' to represent 'result_consumed_after'\n            // adjust the key to be the same as in Bolt V1 so that ResultSummary can retrieve the value\n            metadata.result_consumed_after = metadata.t_last;\n            delete metadata.t_last;\n        }\n        return metadata;\n    };\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, authToken, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.prepareToClose = function () {\n        this.write(request_message_1.default.goodbye(), noOpObserver, true);\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, mode: mode }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.commitTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.commit(), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.rollbackTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.rollback(), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.highRecordWatermark, highRecordWatermark = _d === void 0 ? Number.MAX_VALUE : _d, _e = _b.lowRecordWatermark, lowRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            mode: mode\n        }), observer, false);\n        this.write(request_message_1.default.pullAll(), observer, flush);\n        return observer;\n    };\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {string} params.sessionContext.mode The session mode\n     * @param {string} params.sessionContext.database The database name used on the session\n     * @param {function()} params.sessionContext.afterComplete The session param used after the session closed\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b;\n        var _c = _a.routingContext, routingContext = _c === void 0 ? {} : _c, _d = _a.sessionContext, sessionContext = _d === void 0 ? {} : _d, onError = _a.onError, onCompleted = _a.onCompleted;\n        var resultObserver = this.run(CALL_GET_ROUTING_TABLE, (_b = {}, _b[CONTEXT] = routingContext, _b), __assign(__assign({}, sessionContext), { txConfig: TxConfig.empty() }));\n        return new stream_observers_1.ProcedureRouteObserver({\n            resultObserver: resultObserver,\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v2_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRSx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUsMkJBQTJCLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pELHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCxxREFBcUQsbUJBQU8sQ0FBQyxrSUFBZ0M7QUFDN0Ysb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0QsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNElBQTRJLDJDQUEyQztBQUN2TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckYsK0NBQStDO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNEQUFzRDtBQUMzRztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFdBQVc7QUFDMUIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFlBQVk7QUFDM0IsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSwyQkFBMkI7QUFDMUMsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGtFQUFrRTtBQUMxSSxzRUFBc0UseURBQXlELHFCQUFxQiw0QkFBNEI7QUFDaEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjMuanM/MTIwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3YyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12MlwiKSk7XG52YXIgcmVxdWVzdF9tZXNzYWdlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcmVxdWVzdC1tZXNzYWdlXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3V0aWxfMSA9IHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdXRpbFwiKTtcbnZhciBzdHJlYW1fb2JzZXJ2ZXJzXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tb2JzZXJ2ZXJzXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjNfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYzLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJvb2ttYXJrcyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuYm9va21hcmtzLkJvb2ttYXJrcywgQk9MVF9QUk9UT0NPTF9WMyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjMsIFR4Q29uZmlnID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC50eENvbmZpZy5UeENvbmZpZztcbnZhciBDT05URVhUID0gJ2NvbnRleHQnO1xudmFyIENBTExfR0VUX1JPVVRJTkdfVEFCTEUgPSBcIkNBTEwgZGJtcy5jbHVzdGVyLnJvdXRpbmcuZ2V0Um91dGluZ1RhYmxlKCRcIi5jb25jYXQoQ09OVEVYVCwgXCIpXCIpO1xudmFyIG5vT3BPYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuU3RyZWFtT2JzZXJ2ZXIoKTtcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92M190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUudHJhbnNmb3JtTWV0YWRhdGEgPSBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKCd0X2ZpcnN0JyBpbiBtZXRhZGF0YSkge1xuICAgICAgICAgICAgLy8gQm9sdCBWMyB1c2VzIHNob3J0ZXIga2V5ICd0X2ZpcnN0JyB0byByZXByZXNlbnQgJ3Jlc3VsdF9hdmFpbGFibGVfYWZ0ZXInXG4gICAgICAgICAgICAvLyBhZGp1c3QgdGhlIGtleSB0byBiZSB0aGUgc2FtZSBhcyBpbiBCb2x0IFYxIHNvIHRoYXQgUmVzdWx0U3VtbWFyeSBjYW4gcmV0cmlldmUgdGhlIHZhbHVlXG4gICAgICAgICAgICBtZXRhZGF0YS5yZXN1bHRfYXZhaWxhYmxlX2FmdGVyID0gbWV0YWRhdGEudF9maXJzdDtcbiAgICAgICAgICAgIGRlbGV0ZSBtZXRhZGF0YS50X2ZpcnN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgndF9sYXN0JyBpbiBtZXRhZGF0YSkge1xuICAgICAgICAgICAgLy8gQm9sdCBWMyB1c2VzIHNob3J0ZXIga2V5ICd0X2xhc3QnIHRvIHJlcHJlc2VudCAncmVzdWx0X2NvbnN1bWVkX2FmdGVyJ1xuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBrZXkgdG8gYmUgdGhlIHNhbWUgYXMgaW4gQm9sdCBWMSBzbyB0aGF0IFJlc3VsdFN1bW1hcnkgY2FuIHJldHJpZXZlIHRoZSB2YWx1ZVxuICAgICAgICAgICAgbWV0YWRhdGEucmVzdWx0X2NvbnN1bWVkX2FmdGVyID0gbWV0YWRhdGEudF9sYXN0O1xuICAgICAgICAgICAgZGVsZXRlIG1ldGFkYXRhLnRfbGFzdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHVzZXJBZ2VudCA9IF9iLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2IuYm9sdEFnZW50LCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luQ29tcGxldGVkKG1ldGFkYXRhLCBhdXRoVG9rZW4sIG9uQ29tcGxldGUpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmhlbGxvKHVzZXJBZ2VudCwgYXV0aFRva2VuKSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnByZXBhcmVUb0Nsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQuZ29vZGJ5ZSgpLCBub09wT2JzZXJ2ZXIsIHRydWUpO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5iZWdpblRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIGltcGVyc29uYXRlZFVzZXIgPSBfYi5pbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIG1vZGUgPSBfYi5tb2RlLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGU7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUmVzdWx0U3RyZWFtT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgc2VydmVyOiB0aGlzLl9zZXJ2ZXIsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIucHJlcGFyZVRvSGFuZGxlU2luZ2xlUmVzcG9uc2UoKTtcbiAgICAgICAgLy8gcGFzc2luZyBpbiBhIGRhdGFiYXNlIG5hbWUgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0RGF0YWJhc2VJc0VtcHR5KShkYXRhYmFzZSwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIC8vIHBhc3NpbmcgaW1wZXJzb25hdGVkIHVzZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0SW1wZXJzb25hdGVkVXNlcklzRW1wdHkpKGltcGVyc29uYXRlZFVzZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmJlZ2luKHsgYm9va21hcmtzOiBib29rbWFya3MsIHR4Q29uZmlnOiB0eENvbmZpZywgbW9kZTogbW9kZSB9KSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmNvbW1pdFRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGU7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUmVzdWx0U3RyZWFtT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgc2VydmVyOiB0aGlzLl9zZXJ2ZXIsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIucHJlcGFyZVRvSGFuZGxlU2luZ2xlUmVzcG9uc2UoKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmNvbW1pdCgpLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucm9sbGJhY2tUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGVcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlKCk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5yb2xsYmFjaygpLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBtb2RlID0gX2IubW9kZSwgYmVmb3JlS2V5cyA9IF9iLmJlZm9yZUtleXMsIGFmdGVyS2V5cyA9IF9iLmFmdGVyS2V5cywgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlLCBfYyA9IF9iLmZsdXNoLCBmbHVzaCA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gX2IuaGlnaFJlY29yZFdhdGVybWFyaywgaGlnaFJlY29yZFdhdGVybWFyayA9IF9kID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2QsIF9lID0gX2IubG93UmVjb3JkV2F0ZXJtYXJrLCBsb3dSZWNvcmRXYXRlcm1hcmsgPSBfZSA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9lO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlS2V5czogYmVmb3JlS2V5cyxcbiAgICAgICAgICAgIGFmdGVyS2V5czogYWZ0ZXJLZXlzLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGUsXG4gICAgICAgICAgICBoaWdoUmVjb3JkV2F0ZXJtYXJrOiBoaWdoUmVjb3JkV2F0ZXJtYXJrLFxuICAgICAgICAgICAgbG93UmVjb3JkV2F0ZXJtYXJrOiBsb3dSZWNvcmRXYXRlcm1hcmtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHBhc3NpbmcgaW4gYSBkYXRhYmFzZSBuYW1lIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydERhdGFiYXNlSXNFbXB0eSkoZGF0YWJhc2UsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICAvLyBwYXNzaW5nIGltcGVyc29uYXRlZCB1c2VyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydEltcGVyc29uYXRlZFVzZXJJc0VtcHR5KShpbXBlcnNvbmF0ZWRVc2VyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5ydW5XaXRoTWV0YWRhdGEocXVlcnksIHBhcmFtZXRlcnMsIHtcbiAgICAgICAgICAgIGJvb2ttYXJrczogYm9va21hcmtzLFxuICAgICAgICAgICAgdHhDb25maWc6IHR4Q29uZmlnLFxuICAgICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KSwgb2JzZXJ2ZXIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnB1bGxBbGwoKSwgb2JzZXJ2ZXIsIGZsdXNoKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCByb3V0aW5nIGluZm9ybWF0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gLVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbS5yb3V0aW5nQ29udGV4dCBUaGUgcm91dGluZyBjb250ZXh0IHVzZWQgdG8gZGVmaW5lIHRoZSByb3V0aW5nIHRhYmxlLlxuICAgICAqICBNdWx0aS1kYXRhY2VudGVyIGRlcGxveW1lbnRzIGlzIG9uZSBvZiBpdHMgdXNlIGNhc2VzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLmRhdGFiYXNlTmFtZSBUaGUgZGF0YWJhc2UgbmFtZVxuICAgICAqIEBwYXJhbSB7Qm9va21hcmtzfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQuYm9va21hcmtzIFRoZSBib29rbWFya3MgdXNlZCBmb3IgcmVxdWVzdGluZyB0aGUgcm91dGluZyB0YWJsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQubW9kZSBUaGUgc2Vzc2lvbiBtb2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5zZXNzaW9uQ29udGV4dC5kYXRhYmFzZSBUaGUgZGF0YWJhc2UgbmFtZSB1c2VkIG9uIHRoZSBzZXNzaW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQuYWZ0ZXJDb21wbGV0ZSBUaGUgc2Vzc2lvbiBwYXJhbSB1c2VkIGFmdGVyIHRoZSBzZXNzaW9uIGNsb3NlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFJhd1JvdXRpbmdUYWJsZSl9IHBhcmFtLm9uQ29tcGxldGVkXG4gICAgICogQHJldHVybnMge1JvdXRlT2JzZXJ2ZXJ9IHRoZSByb3V0ZSBvYnNlcnZlclxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucmVxdWVzdFJvdXRpbmdJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2I7XG4gICAgICAgIHZhciBfYyA9IF9hLnJvdXRpbmdDb250ZXh0LCByb3V0aW5nQ29udGV4dCA9IF9jID09PSB2b2lkIDAgPyB7fSA6IF9jLCBfZCA9IF9hLnNlc3Npb25Db250ZXh0LCBzZXNzaW9uQ29udGV4dCA9IF9kID09PSB2b2lkIDAgPyB7fSA6IF9kLCBvbkVycm9yID0gX2Eub25FcnJvciwgb25Db21wbGV0ZWQgPSBfYS5vbkNvbXBsZXRlZDtcbiAgICAgICAgdmFyIHJlc3VsdE9ic2VydmVyID0gdGhpcy5ydW4oQ0FMTF9HRVRfUk9VVElOR19UQUJMRSwgKF9iID0ge30sIF9iW0NPTlRFWFRdID0gcm91dGluZ0NvbnRleHQsIF9iKSwgX19hc3NpZ24oX19hc3NpZ24oe30sIHNlc3Npb25Db250ZXh0KSwgeyB0eENvbmZpZzogVHhDb25maWcuZW1wdHkoKSB9KSk7XG4gICAgICAgIHJldHVybiBuZXcgc3RyZWFtX29ic2VydmVyc18xLlByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgcmVzdWx0T2JzZXJ2ZXI6IHJlc3VsdE9ic2VydmVyLFxuICAgICAgICAgICAgb25Qcm90b2NvbEVycm9yOiB0aGlzLl9vblByb3RvY29sRXJyb3IsXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IG9uQ29tcGxldGVkXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92Ml8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v2_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYzLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFEQUFxRCxtQkFBTyxDQUFDLGtJQUFnQztBQUM3RixrQkFBZSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjMudHJhbnNmb3JtZXIuanM/ZjgxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJvbHRfcHJvdG9jb2xfdjJfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYyLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3YyX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_v4x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, FETCH_ALL = _a.FETCH_ALL, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar CONTEXT = 'context';\nvar DATABASE = 'database';\nvar CALL_GET_ROUTING_TABLE_MULTI_DB = \"CALL dbms.routing.getRoutingTable($\".concat(CONTEXT, \", $\").concat(DATABASE, \")\");\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x0_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    BoltProtocol.prototype._requestMore = function (stmtId, n, observer) {\n        this.write(request_message_1.default.pull({ stmtId: stmtId, n: n }), observer, true);\n    };\n    BoltProtocol.prototype._requestDiscard = function (stmtId, observer) {\n        this.write(request_message_1.default.discard({ stmtId: stmtId }), observer, true);\n    };\n    BoltProtocol.prototype._noOp = function () { };\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {string} params.sessionContext.mode The session mode\n     * @param {string} params.sessionContext.database The database name used on the session\n     * @param {function()} params.sessionContext.afterComplete The session param used after the session closed\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b;\n        var _c = _a.routingContext, routingContext = _c === void 0 ? {} : _c, _d = _a.databaseName, databaseName = _d === void 0 ? null : _d, _e = _a.sessionContext, sessionContext = _e === void 0 ? {} : _e, onError = _a.onError, onCompleted = _a.onCompleted;\n        var resultObserver = this.run(CALL_GET_ROUTING_TABLE_MULTI_DB, (_b = {},\n            _b[CONTEXT] = routingContext,\n            _b[DATABASE] = databaseName,\n            _b), __assign(__assign({}, sessionContext), { txConfig: TxConfig.empty() }));\n        return new stream_observers_1.ProcedureRouteObserver({\n            resultObserver: resultObserver,\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v3_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JFLHdDQUF3QyxtQkFBTyxDQUFDLHdHQUFtQjtBQUNuRSwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekQseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCwwRUFBMEU7QUFDL0g7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxzQkFBc0I7QUFDMUU7QUFDQTtBQUNBLHVEQUF1RCxnQkFBZ0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxXQUFXO0FBQzFCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxZQUFZO0FBQzNCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsMkJBQTJCO0FBQzFDLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxrSUFBa0k7QUFDMU0sK0VBQStFO0FBQy9FO0FBQ0E7QUFDQSxxQ0FBcUMscUJBQXFCLDRCQUE0QjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgwLmpzPzc0OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92M18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjNcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF91dGlsXzEgPSByZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXV0aWxcIik7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDBfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDAudHJhbnNmb3JtZXJcIikpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIikpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgQm9va21hcmtzID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5ib29rbWFya3MuQm9va21hcmtzLCBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBCT0xUX1BST1RPQ09MX1Y0XzAgPSBfYS5CT0xUX1BST1RPQ09MX1Y0XzAsIEZFVENIX0FMTCA9IF9hLkZFVENIX0FMTCwgVHhDb25maWcgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnR4Q29uZmlnLlR4Q29uZmlnO1xudmFyIENPTlRFWFQgPSAnY29udGV4dCc7XG52YXIgREFUQUJBU0UgPSAnZGF0YWJhc2UnO1xudmFyIENBTExfR0VUX1JPVVRJTkdfVEFCTEVfTVVMVElfREIgPSBcIkNBTEwgZGJtcy5yb3V0aW5nLmdldFJvdXRpbmdUYWJsZSgkXCIuY29uY2F0KENPTlRFWFQsIFwiLCAkXCIpLmNvbmNhdChEQVRBQkFTRSwgXCIpXCIpO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNF8wO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjR4MF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuYmVnaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBtb2RlID0gX2IubW9kZSwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGVcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlKCk7XG4gICAgICAgIC8vIHBhc3NpbmcgaW1wZXJzb25hdGVkIHVzZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0SW1wZXJzb25hdGVkVXNlcklzRW1wdHkpKGltcGVyc29uYXRlZFVzZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmJlZ2luKHsgYm9va21hcmtzOiBib29rbWFya3MsIHR4Q29uZmlnOiB0eENvbmZpZywgZGF0YWJhc2U6IGRhdGFiYXNlLCBtb2RlOiBtb2RlIH0pLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBtb2RlID0gX2IubW9kZSwgYmVmb3JlS2V5cyA9IF9iLmJlZm9yZUtleXMsIGFmdGVyS2V5cyA9IF9iLmFmdGVyS2V5cywgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlLCBfYyA9IF9iLmZsdXNoLCBmbHVzaCA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gX2IucmVhY3RpdmUsIHJlYWN0aXZlID0gX2QgPT09IHZvaWQgMCA/IGZhbHNlIDogX2QsIF9lID0gX2IuZmV0Y2hTaXplLCBmZXRjaFNpemUgPSBfZSA9PT0gdm9pZCAwID8gRkVUQ0hfQUxMIDogX2UsIF9mID0gX2IuaGlnaFJlY29yZFdhdGVybWFyaywgaGlnaFJlY29yZFdhdGVybWFyayA9IF9mID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2YsIF9nID0gX2IubG93UmVjb3JkV2F0ZXJtYXJrLCBsb3dSZWNvcmRXYXRlcm1hcmsgPSBfZyA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9nO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgcmVhY3RpdmU6IHJlYWN0aXZlLFxuICAgICAgICAgICAgZmV0Y2hTaXplOiBmZXRjaFNpemUsXG4gICAgICAgICAgICBtb3JlRnVuY3Rpb246IHRoaXMuX3JlcXVlc3RNb3JlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBkaXNjYXJkRnVuY3Rpb246IHRoaXMuX3JlcXVlc3REaXNjYXJkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBiZWZvcmVLZXlzOiBiZWZvcmVLZXlzLFxuICAgICAgICAgICAgYWZ0ZXJLZXlzOiBhZnRlcktleXMsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZSxcbiAgICAgICAgICAgIGhpZ2hSZWNvcmRXYXRlcm1hcms6IGhpZ2hSZWNvcmRXYXRlcm1hcmssXG4gICAgICAgICAgICBsb3dSZWNvcmRXYXRlcm1hcms6IGxvd1JlY29yZFdhdGVybWFya1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gcGFzc2luZyBpbXBlcnNvbmF0ZWQgdXNlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnRJbXBlcnNvbmF0ZWRVc2VySXNFbXB0eSkoaW1wZXJzb25hdGVkVXNlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIC8vIHBhc3Npbmcgbm90aWZpY2F0aW9uIGZpbHRlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KShub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgZmx1c2hSdW4gPSByZWFjdGl2ZTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJ1bldpdGhNZXRhZGF0YShxdWVyeSwgcGFyYW1ldGVycywge1xuICAgICAgICAgICAgYm9va21hcmtzOiBib29rbWFya3MsXG4gICAgICAgICAgICB0eENvbmZpZzogdHhDb25maWcsXG4gICAgICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UsXG4gICAgICAgICAgICBtb2RlOiBtb2RlXG4gICAgICAgIH0pLCBvYnNlcnZlciwgZmx1c2hSdW4gJiYgZmx1c2gpO1xuICAgICAgICBpZiAoIXJlYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucHVsbCh7IG46IGZldGNoU2l6ZSB9KSwgb2JzZXJ2ZXIsIGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9yZXF1ZXN0TW9yZSA9IGZ1bmN0aW9uIChzdG10SWQsIG4sIG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5wdWxsKHsgc3RtdElkOiBzdG10SWQsIG46IG4gfSksIG9ic2VydmVyLCB0cnVlKTtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX3JlcXVlc3REaXNjYXJkID0gZnVuY3Rpb24gKHN0bXRJZCwgb2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmRpc2NhcmQoeyBzdG10SWQ6IHN0bXRJZCB9KSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5fbm9PcCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHJvdXRpbmcgaW5mb3JtYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSAtXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtLnJvdXRpbmdDb250ZXh0IFRoZSByb3V0aW5nIGNvbnRleHQgdXNlZCB0byBkZWZpbmUgdGhlIHJvdXRpbmcgdGFibGUuXG4gICAgICogIE11bHRpLWRhdGFjZW50ZXIgZGVwbG95bWVudHMgaXMgb25lIG9mIGl0cyB1c2UgY2FzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0uZGF0YWJhc2VOYW1lIFRoZSBkYXRhYmFzZSBuYW1lXG4gICAgICogQHBhcmFtIHtCb29rbWFya3N9IHBhcmFtcy5zZXNzaW9uQ29udGV4dC5ib29rbWFya3MgVGhlIGJvb2ttYXJrcyB1c2VkIGZvciByZXF1ZXN0aW5nIHRoZSByb3V0aW5nIHRhYmxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5zZXNzaW9uQ29udGV4dC5tb2RlIFRoZSBzZXNzaW9uIG1vZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnNlc3Npb25Db250ZXh0LmRhdGFiYXNlIFRoZSBkYXRhYmFzZSBuYW1lIHVzZWQgb24gdGhlIHNlc3Npb25cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtcy5zZXNzaW9uQ29udGV4dC5hZnRlckNvbXBsZXRlIFRoZSBzZXNzaW9uIHBhcmFtIHVzZWQgYWZ0ZXIgdGhlIHNlc3Npb24gY2xvc2VkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oUmF3Um91dGluZ1RhYmxlKX0gcGFyYW0ub25Db21wbGV0ZWRcbiAgICAgKiBAcmV0dXJucyB7Um91dGVPYnNlcnZlcn0gdGhlIHJvdXRlIG9ic2VydmVyXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5yZXF1ZXN0Um91dGluZ0luZm9ybWF0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgdmFyIF9jID0gX2Eucm91dGluZ0NvbnRleHQsIHJvdXRpbmdDb250ZXh0ID0gX2MgPT09IHZvaWQgMCA/IHt9IDogX2MsIF9kID0gX2EuZGF0YWJhc2VOYW1lLCBkYXRhYmFzZU5hbWUgPSBfZCA9PT0gdm9pZCAwID8gbnVsbCA6IF9kLCBfZSA9IF9hLnNlc3Npb25Db250ZXh0LCBzZXNzaW9uQ29udGV4dCA9IF9lID09PSB2b2lkIDAgPyB7fSA6IF9lLCBvbkVycm9yID0gX2Eub25FcnJvciwgb25Db21wbGV0ZWQgPSBfYS5vbkNvbXBsZXRlZDtcbiAgICAgICAgdmFyIHJlc3VsdE9ic2VydmVyID0gdGhpcy5ydW4oQ0FMTF9HRVRfUk9VVElOR19UQUJMRV9NVUxUSV9EQiwgKF9iID0ge30sXG4gICAgICAgICAgICBfYltDT05URVhUXSA9IHJvdXRpbmdDb250ZXh0LFxuICAgICAgICAgICAgX2JbREFUQUJBU0VdID0gZGF0YWJhc2VOYW1lLFxuICAgICAgICAgICAgX2IpLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc2Vzc2lvbkNvbnRleHQpLCB7IHR4Q29uZmlnOiBUeENvbmZpZy5lbXB0eSgpIH0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUHJvY2VkdXJlUm91dGVPYnNlcnZlcih7XG4gICAgICAgICAgICByZXN1bHRPYnNlcnZlcjogcmVzdWx0T2JzZXJ2ZXIsXG4gICAgICAgICAgICBvblByb3RvY29sRXJyb3I6IHRoaXMuX29uUHJvdG9jb2xFcnJvcixcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogb25Db21wbGV0ZWRcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3YzXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v3_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDAudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscURBQXFELG1CQUFPLENBQUMsa0lBQWdDO0FBQzdGLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgwLnRyYW5zZm9ybWVyLmpzPzZhZmYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3YzX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12My50cmFuc2Zvcm1lclwiKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBfX2Fzc2lnbih7fSwgYm9sdF9wcm90b2NvbF92M190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v4x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar BOLT_PROTOCOL_V4_1 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_1;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    /**\n     * @constructor\n     * @param {Object} server the server informatio.\n     * @param {Chunker} chunker the chunker.\n     * @param {Object} packstreamConfig Packstream configuration\n     * @param {boolean} packstreamConfig.disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n     * @param {CreateResponseHandler} createResponseHandler Function which creates the response handler\n     * @param {Logger} log the logger\n     * @param {Object} serversideRouting\n     *\n     */\n    function BoltProtocol(server, chunker, packstreamConfig, createResponseHandler, log, onProtocolError, serversideRouting) {\n        if (createResponseHandler === void 0) { createResponseHandler = function () { return null; }; }\n        var _this = _super.call(this, server, chunker, packstreamConfig, createResponseHandler, log, onProtocolError) || this;\n        _this._serversideRouting = serversideRouting;\n        return _this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, authToken, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting), observer, true);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x0_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsdUJBQXVCO0FBQ3RDLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHNDQUFzQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckYsK0NBQStDO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgxLmpzPzVmOTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3Y0eDBfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDBcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdXRpbF8xID0gcmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC11dGlsXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4MV90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4MS50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgQk9MVF9QUk9UT0NPTF9WNF8xID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMuQk9MVF9QUk9UT0NPTF9WNF8xO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZXJ2ZXIgdGhlIHNlcnZlciBpbmZvcm1hdGlvLlxuICAgICAqIEBwYXJhbSB7Q2h1bmtlcn0gY2h1bmtlciB0aGUgY2h1bmtlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFja3N0cmVhbUNvbmZpZyBQYWNrc3RyZWFtIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhY2tzdHJlYW1Db25maWcuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgaWYgdGhpcyBjb25uZWN0aW9uIHNob3VsZCBjb252ZXJ0IGFsbCByZWNlaXZlZCBpbnRlZ2VycyB0byBuYXRpdmUgSlMgbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhY2tzdHJlYW1Db25maWcudXNlQmlnSW50IGlmIHRoaXMgY29ubmVjdGlvbiBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEJpZ0ludCBudW1iZXJzLlxuICAgICAqIEBwYXJhbSB7Q3JlYXRlUmVzcG9uc2VIYW5kbGVyfSBjcmVhdGVSZXNwb25zZUhhbmRsZXIgRnVuY3Rpb24gd2hpY2ggY3JlYXRlcyB0aGUgcmVzcG9uc2UgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7TG9nZ2VyfSBsb2cgdGhlIGxvZ2dlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZXJ2ZXJzaWRlUm91dGluZ1xuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKHNlcnZlciwgY2h1bmtlciwgcGFja3N0cmVhbUNvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpIHtcbiAgICAgICAgaWYgKGNyZWF0ZVJlc3BvbnNlSGFuZGxlciA9PT0gdm9pZCAwKSB7IGNyZWF0ZVJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH07IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2VydmVyLCBjaHVua2VyLCBwYWNrc3RyZWFtQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fc2VydmVyc2lkZVJvdXRpbmcgPSBzZXJ2ZXJzaWRlUm91dGluZztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNF8xO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjR4MV90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdXNlckFnZW50ID0gX2IudXNlckFnZW50LCBib2x0QWdlbnQgPSBfYi5ib2x0QWdlbnQsIGF1dGhUb2tlbiA9IF9iLmF1dGhUb2tlbiwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGU7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9naW5PYnNlcnZlcih7XG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luRXJyb3IoZXJyb3IsIG9uRXJyb3IpOyB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IGZ1bmN0aW9uIChtZXRhZGF0YSkgeyByZXR1cm4gX3RoaXMuX29uTG9naW5Db21wbGV0ZWQobWV0YWRhdGEsIGF1dGhUb2tlbiwgb25Db21wbGV0ZSk7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHBhc3Npbmcgbm90aWZpY2F0aW9uIGZpbHRlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KShub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQuaGVsbG8odXNlckFnZW50LCBhdXRoVG9rZW4sIHRoaXMuX3NlcnZlcnNpZGVSb3V0aW5nKSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3Y0eDBfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x0_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDEudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgxLnRyYW5zZm9ybWVyLmpzPzg1YzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDBfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDAudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjR4MF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v4x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar BOLT_PROTOCOL_V4_2 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_2;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BoltProtocol;\n}(bolt_protocol_v4x1_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgyLmpzPzU1ODQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3Y0eDFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDFcIikpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgYm9sdF9wcm90b2NvbF92NHgyX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgyLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBCT0xUX1BST1RPQ09MX1Y0XzIgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5CT0xUX1BST1RPQ09MX1Y0XzI7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y0XzI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NHgyX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NHgxXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x1_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDIudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgyLnRyYW5zZm9ybWVyLmpzP2RkMGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDFfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDEudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjR4MV90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v4x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.utc.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, BOLT_PROTOCOL_V4_3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_3;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b = _a.routingContext, routingContext = _b === void 0 ? {} : _b, _c = _a.databaseName, databaseName = _c === void 0 ? null : _c, _d = _a.sessionContext, sessionContext = _d === void 0 ? {} : _d, onError = _a.onError, onCompleted = _a.onCompleted;\n        var observer = new stream_observers_1.RouteObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n        var bookmarks = sessionContext.bookmarks || Bookmarks.empty();\n        this.write(request_message_1.default.route(routingContext, bookmarks.values(), databaseName), observer, true);\n        return observer;\n    };\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filter.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplte)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                if (metadata.patch_bolt !== undefined) {\n                    _this._applyPatches(metadata.patch_bolt);\n                }\n                return _this._onLoginCompleted(metadata, authToken, onComplete);\n            }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting, ['utc']), observer, true);\n        return observer;\n    };\n    /**\n     *\n     * @param {string[]} patches Patches to be applied to the protocol\n     */\n    BoltProtocol.prototype._applyPatches = function (patches) {\n        if (patches.includes('utc')) {\n            this._applyUtcPatch();\n        }\n    };\n    BoltProtocol.prototype._applyUtcPatch = function () {\n        var _this = this;\n        this._transformer = new transformer_1.default(Object.values(__assign(__assign({}, bolt_protocol_v4x3_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default)).map(function (create) { return create(_this._config, _this._log); }));\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x2_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHdDQUF3QyxtQkFBTyxDQUFDLHdHQUFtQjtBQUNuRSx5QkFBeUIsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckQsMkJBQTJCLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pELHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRywyREFBMkQsbUJBQU8sQ0FBQyw4SUFBc0M7QUFDekcsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0QsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFdBQVc7QUFDMUIsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSwyQkFBMkI7QUFDMUMsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBLHdFQUF3RSxrSUFBa0k7QUFDMU07QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLHFCQUFxQjtBQUNwQyxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSx3Q0FBd0MsNkNBQTZDO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLG9IQUFvSCwyQ0FBMkM7QUFDdlA7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDMuanM/NzViNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3Y0eDJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDJcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBib2x0X3Byb3RvY29sX3V0aWxfMSA9IHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdXRpbFwiKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDNfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDMudHJhbnNmb3JtZXJcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4MF91dGNfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDAudXRjLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJvb2ttYXJrcyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuYm9va21hcmtzLkJvb2ttYXJrcywgQk9MVF9QUk9UT0NPTF9WNF8zID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMuQk9MVF9QUk9UT0NPTF9WNF8zO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNF8zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjR4M190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3Qgcm91dGluZyBpbmZvcm1hdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW0ucm91dGluZ0NvbnRleHQgVGhlIHJvdXRpbmcgY29udGV4dCB1c2VkIHRvIGRlZmluZSB0aGUgcm91dGluZyB0YWJsZS5cbiAgICAgKiAgTXVsdGktZGF0YWNlbnRlciBkZXBsb3ltZW50cyBpcyBvbmUgb2YgaXRzIHVzZSBjYXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5kYXRhYmFzZU5hbWUgVGhlIGRhdGFiYXNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge0Jvb2ttYXJrc30gcGFyYW1zLnNlc3Npb25Db250ZXh0LmJvb2ttYXJrcyBUaGUgYm9va21hcmtzIHVzZWQgZm9yIHJlcXVlc3RpbmcgdGhlIHJvdXRpbmcgdGFibGVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihSYXdSb3V0aW5nVGFibGUpfSBwYXJhbS5vbkNvbXBsZXRlZFxuICAgICAqIEByZXR1cm5zIHtSb3V0ZU9ic2VydmVyfSB0aGUgcm91dGUgb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJlcXVlc3RSb3V0aW5nSW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2Eucm91dGluZ0NvbnRleHQsIHJvdXRpbmdDb250ZXh0ID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2IsIF9jID0gX2EuZGF0YWJhc2VOYW1lLCBkYXRhYmFzZU5hbWUgPSBfYyA9PT0gdm9pZCAwID8gbnVsbCA6IF9jLCBfZCA9IF9hLnNlc3Npb25Db250ZXh0LCBzZXNzaW9uQ29udGV4dCA9IF9kID09PSB2b2lkIDAgPyB7fSA6IF9kLCBvbkVycm9yID0gX2Eub25FcnJvciwgb25Db21wbGV0ZWQgPSBfYS5vbkNvbXBsZXRlZDtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Sb3V0ZU9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uUHJvdG9jb2xFcnJvcjogdGhpcy5fb25Qcm90b2NvbEVycm9yLFxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBvbkNvbXBsZXRlZFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGJvb2ttYXJrcyA9IHNlc3Npb25Db250ZXh0LmJvb2ttYXJrcyB8fCBCb29rbWFya3MuZW1wdHkoKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJvdXRlKHJvdXRpbmdDb250ZXh0LCBib29rbWFya3MudmFsdWVzKCksIGRhdGFiYXNlTmFtZSksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyBUaGUgcGFyYW1zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ3MudXNlckFnZW50IFRoZSB1c2VyIGFnZW50XG4gICAgICogQHBhcmFtIHthbnl9IGFyZ3MuYXV0aFRva2VuIFRoZSBhdXRoIHRva2VuXG4gICAgICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IGFyZ3Mubm90aWZpY2F0aW9uRmlsdGVyIFRoZSBub3RpZmljYXRpb24gZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyb3IpfSBhcmdzLm9uRXJyb3IgT24gZXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG9uQ29tcGx0ZSl9IGFyZ3Mub25Db21wbGV0ZSBPbiBjb21wbGV0ZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtMb2dpbk9ic2VydmVyfSBUaGUgTG9naW4gb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHVzZXJBZ2VudCA9IF9iLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2IuYm9sdEFnZW50LCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEucGF0Y2hfYm9sdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9hcHBseVBhdGNoZXMobWV0YWRhdGEucGF0Y2hfYm9sdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZChtZXRhZGF0YSwgYXV0aFRva2VuLCBvbkNvbXBsZXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHBhc3Npbmcgbm90aWZpY2F0aW9uIGZpbHRlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KShub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQuaGVsbG8odXNlckFnZW50LCBhdXRoVG9rZW4sIHRoaXMuX3NlcnZlcnNpZGVSb3V0aW5nLCBbJ3V0YyddKSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGNoZXMgUGF0Y2hlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBwcm90b2NvbFxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX2FwcGx5UGF0Y2hlcyA9IGZ1bmN0aW9uIChwYXRjaGVzKSB7XG4gICAgICAgIGlmIChwYXRjaGVzLmluY2x1ZGVzKCd1dGMnKSkge1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlVdGNQYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9hcHBseVV0Y1BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYm9sdF9wcm90b2NvbF92NHgzX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCksIGJvbHRfcHJvdG9jb2xfdjV4MF91dGNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KSkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NHgyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x2_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDMudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgzLnRyYW5zZm9ybWVyLmpzPzg0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDJfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDIudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjR4Ml90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.utc.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4, FETCH_ALL = _a.FETCH_ALL, Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x4_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n    * Request routing information\n    *\n    * @param {Object} param -\n    * @param {object} param.routingContext The routing context used to define the routing table.\n    *  Multi-datacenter deployments is one of its use cases\n    * @param {string} param.databaseName The database name\n    * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n    * @param {function(err: Error)} param.onError\n    * @param {function(RawRoutingTable)} param.onCompleted\n    * @returns {RouteObserver} the route observer\n    */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b = _a.routingContext, routingContext = _b === void 0 ? {} : _b, _c = _a.databaseName, databaseName = _c === void 0 ? null : _c, _d = _a.impersonatedUser, impersonatedUser = _d === void 0 ? null : _d, _e = _a.sessionContext, sessionContext = _e === void 0 ? {} : _e, onError = _a.onError, onCompleted = _a.onCompleted;\n        var observer = new stream_observers_1.RouteObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n        var bookmarks = sessionContext.bookmarks || Bookmarks.empty();\n        this.write(request_message_1.default.routeV4x4(routingContext, bookmarks.values(), { databaseName: databaseName, impersonatedUser: impersonatedUser }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode, impersonatedUser: impersonatedUser }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype._applyUtcPatch = function () {\n        var _this = this;\n        this._transformer = new transformer_1.default(Object.values(__assign(__assign({}, bolt_protocol_v4x4_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default)).map(function (create) { return create(_this._config, _this._log); }));\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x3_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDJCQUEyQixtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RCx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcsMkRBQTJELG1CQUFPLENBQUMsOElBQXNDO0FBQ3pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QjtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFdBQVc7QUFDekIsY0FBYyxzQkFBc0I7QUFDcEMsY0FBYywyQkFBMkI7QUFDekMsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBLHdFQUF3RSwwTUFBME07QUFDbFI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw2RkFBNkYsZ0VBQWdFO0FBQzdKO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsOEdBQThHO0FBQ25LO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLG9IQUFvSCwyQ0FBMkM7QUFDdlA7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDQuanM/ODE0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3Y0eDNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDNcIikpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgcmVxdWVzdF9tZXNzYWdlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcmVxdWVzdC1tZXNzYWdlXCIpKTtcbnZhciBzdHJlYW1fb2JzZXJ2ZXJzXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tb2JzZXJ2ZXJzXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdXRpbF8xID0gcmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC11dGlsXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4NC50cmFuc2Zvcm1lclwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgwX3V0Y190cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4MC51dGMudHJhbnNmb3JtZXJcIikpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIikpO1xudmFyIF9hID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMsIEJPTFRfUFJPVE9DT0xfVjRfNCA9IF9hLkJPTFRfUFJPVE9DT0xfVjRfNCwgRkVUQ0hfQUxMID0gX2EuRkVUQ0hfQUxMLCBCb29rbWFya3MgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmJvb2ttYXJrcy5Cb29rbWFya3M7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y0XzQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NHg0X3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgKiBSZXF1ZXN0IHJvdXRpbmcgaW5mb3JtYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gLVxuICAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtLnJvdXRpbmdDb250ZXh0IFRoZSByb3V0aW5nIGNvbnRleHQgdXNlZCB0byBkZWZpbmUgdGhlIHJvdXRpbmcgdGFibGUuXG4gICAgKiAgTXVsdGktZGF0YWNlbnRlciBkZXBsb3ltZW50cyBpcyBvbmUgb2YgaXRzIHVzZSBjYXNlc1xuICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLmRhdGFiYXNlTmFtZSBUaGUgZGF0YWJhc2UgbmFtZVxuICAgICogQHBhcmFtIHtCb29rbWFya3N9IHBhcmFtcy5zZXNzaW9uQ29udGV4dC5ib29rbWFya3MgVGhlIGJvb2ttYXJrcyB1c2VkIGZvciByZXF1ZXN0aW5nIHRoZSByb3V0aW5nIHRhYmxlXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFJhd1JvdXRpbmdUYWJsZSl9IHBhcmFtLm9uQ29tcGxldGVkXG4gICAgKiBAcmV0dXJucyB7Um91dGVPYnNlcnZlcn0gdGhlIHJvdXRlIG9ic2VydmVyXG4gICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJlcXVlc3RSb3V0aW5nSW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2Eucm91dGluZ0NvbnRleHQsIHJvdXRpbmdDb250ZXh0ID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2IsIF9jID0gX2EuZGF0YWJhc2VOYW1lLCBkYXRhYmFzZU5hbWUgPSBfYyA9PT0gdm9pZCAwID8gbnVsbCA6IF9jLCBfZCA9IF9hLmltcGVyc29uYXRlZFVzZXIsIGltcGVyc29uYXRlZFVzZXIgPSBfZCA9PT0gdm9pZCAwID8gbnVsbCA6IF9kLCBfZSA9IF9hLnNlc3Npb25Db250ZXh0LCBzZXNzaW9uQ29udGV4dCA9IF9lID09PSB2b2lkIDAgPyB7fSA6IF9lLCBvbkVycm9yID0gX2Eub25FcnJvciwgb25Db21wbGV0ZWQgPSBfYS5vbkNvbXBsZXRlZDtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Sb3V0ZU9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uUHJvdG9jb2xFcnJvcjogdGhpcy5fb25Qcm90b2NvbEVycm9yLFxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBvbkNvbXBsZXRlZFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGJvb2ttYXJrcyA9IHNlc3Npb25Db250ZXh0LmJvb2ttYXJrcyB8fCBCb29rbWFya3MuZW1wdHkoKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJvdXRlVjR4NChyb3V0aW5nQ29udGV4dCwgYm9va21hcmtzLnZhbHVlcygpLCB7IGRhdGFiYXNlTmFtZTogZGF0YWJhc2VOYW1lLCBpbXBlcnNvbmF0ZWRVc2VyOiBpbXBlcnNvbmF0ZWRVc2VyIH0pLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgYmVmb3JlS2V5cyA9IF9iLmJlZm9yZUtleXMsIGFmdGVyS2V5cyA9IF9iLmFmdGVyS2V5cywgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlLCBfYyA9IF9iLmZsdXNoLCBmbHVzaCA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gX2IucmVhY3RpdmUsIHJlYWN0aXZlID0gX2QgPT09IHZvaWQgMCA/IGZhbHNlIDogX2QsIF9lID0gX2IuZmV0Y2hTaXplLCBmZXRjaFNpemUgPSBfZSA9PT0gdm9pZCAwID8gRkVUQ0hfQUxMIDogX2UsIF9mID0gX2IuaGlnaFJlY29yZFdhdGVybWFyaywgaGlnaFJlY29yZFdhdGVybWFyayA9IF9mID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2YsIF9nID0gX2IubG93UmVjb3JkV2F0ZXJtYXJrLCBsb3dSZWNvcmRXYXRlcm1hcmsgPSBfZyA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9nO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgcmVhY3RpdmU6IHJlYWN0aXZlLFxuICAgICAgICAgICAgZmV0Y2hTaXplOiBmZXRjaFNpemUsXG4gICAgICAgICAgICBtb3JlRnVuY3Rpb246IHRoaXMuX3JlcXVlc3RNb3JlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBkaXNjYXJkRnVuY3Rpb246IHRoaXMuX3JlcXVlc3REaXNjYXJkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBiZWZvcmVLZXlzOiBiZWZvcmVLZXlzLFxuICAgICAgICAgICAgYWZ0ZXJLZXlzOiBhZnRlcktleXMsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZSxcbiAgICAgICAgICAgIGhpZ2hSZWNvcmRXYXRlcm1hcms6IGhpZ2hSZWNvcmRXYXRlcm1hcmssXG4gICAgICAgICAgICBsb3dSZWNvcmRXYXRlcm1hcms6IGxvd1JlY29yZFdhdGVybWFya1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHZhciBmbHVzaFJ1biA9IHJlYWN0aXZlO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucnVuV2l0aE1ldGFkYXRhKHF1ZXJ5LCBwYXJhbWV0ZXJzLCB7XG4gICAgICAgICAgICBib29rbWFya3M6IGJvb2ttYXJrcyxcbiAgICAgICAgICAgIHR4Q29uZmlnOiB0eENvbmZpZyxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBkYXRhYmFzZSxcbiAgICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgICBpbXBlcnNvbmF0ZWRVc2VyOiBpbXBlcnNvbmF0ZWRVc2VyXG4gICAgICAgIH0pLCBvYnNlcnZlciwgZmx1c2hSdW4gJiYgZmx1c2gpO1xuICAgICAgICBpZiAoIXJlYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucHVsbCh7IG46IGZldGNoU2l6ZSB9KSwgb2JzZXJ2ZXIsIGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmJlZ2luVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgbW9kZSA9IF9iLm1vZGUsIGltcGVyc29uYXRlZFVzZXIgPSBfYi5pbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5SZXN1bHRTdHJlYW1PYnNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5wcmVwYXJlVG9IYW5kbGVTaW5nbGVSZXNwb25zZSgpO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmJlZ2luKHsgYm9va21hcmtzOiBib29rbWFya3MsIHR4Q29uZmlnOiB0eENvbmZpZywgZGF0YWJhc2U6IGRhdGFiYXNlLCBtb2RlOiBtb2RlLCBpbXBlcnNvbmF0ZWRVc2VyOiBpbXBlcnNvbmF0ZWRVc2VyIH0pLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX2FwcGx5VXRjUGF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKF9fYXNzaWduKF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y0eDRfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KSwgYm9sdF9wcm90b2NvbF92NXgwX3V0Y190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpKS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3Y0eDNfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x3_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDQudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHg0LnRyYW5zZm9ybWVyLmpzP2I2MjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDNfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDMudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjR4M190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x4_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v5x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_0 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_0;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x0_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filter.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplte)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, authToken, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting), observer, true);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x4_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNELHdDQUF3QyxtQkFBTyxDQUFDLHdHQUFtQjtBQUNuRSx5QkFBeUIsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckQsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLEtBQUs7QUFDcEIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxpQkFBaUI7QUFDaEMsZUFBZSxxQkFBcUI7QUFDcEMsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0Esd0NBQXdDLDZDQUE2QztBQUNyRiwrQ0FBK0M7QUFDL0MsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAuanM/NmU3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4NF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4NFwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF91dGlsXzEgPSByZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXV0aWxcIik7XG52YXIgYm9sdF9wcm90b2NvbF92NXgwX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgwLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCT0xUX1BST1RPQ09MX1Y1XzAgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5CT0xUX1BST1RPQ09MX1Y1XzA7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y1XzA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NXgwX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyBUaGUgcGFyYW1zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ3MudXNlckFnZW50IFRoZSB1c2VyIGFnZW50XG4gICAgICogQHBhcmFtIHthbnl9IGFyZ3MuYXV0aFRva2VuIFRoZSBhdXRoIHRva2VuXG4gICAgICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IGFyZ3Mubm90aWZpY2F0aW9uRmlsdGVyIFRoZSBub3RpZmljYXRpb24gZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyb3IpfSBhcmdzLm9uRXJyb3IgT24gZXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG9uQ29tcGx0ZSl9IGFyZ3Mub25Db21wbGV0ZSBPbiBjb21wbGV0ZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtMb2dpbk9ic2VydmVyfSBUaGUgTG9naW4gb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHVzZXJBZ2VudCA9IF9iLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2IuYm9sdEFnZW50LCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luQ29tcGxldGVkKG1ldGFkYXRhLCBhdXRoVG9rZW4sIG9uQ29tcGxldGUpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmhlbGxvKHVzZXJBZ2VudCwgYXV0aFRva2VuLCB0aGlzLl9zZXJ2ZXJzaWRlUm91dGluZyksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NHg0XzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.utc.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\"));\nvar NODE_STRUCT_SIZE = 4;\nvar RELATIONSHIP_STRUCT_SIZE = 8;\nvar UNBOUND_RELATIONSHIP_STRUCT_SIZE = 4;\n/**\n * Create an extend Node transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createNodeTransformer(config) {\n    var node4x4Transformer = bolt_protocol_v4x4_transformer_1.default.createNodeTransformer(config);\n    return node4x4Transformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Node', NODE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), identity = _a[0], lables = _a[1], properties = _a[2], elementId = _a[3];\n            return new neo4j_driver_core_1.Node(identity, lables, properties, elementId);\n        }\n    });\n}\n/**\n * Create an extend Relationship transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createRelationshipTransformer(config) {\n    var relationship4x4Transformer = bolt_protocol_v4x4_transformer_1.default.createRelationshipTransformer(config);\n    return relationship4x4Transformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Relationship', RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 8), identity = _a[0], startNodeIdentity = _a[1], endNodeIdentity = _a[2], type = _a[3], properties = _a[4], elementId = _a[5], startNodeElementId = _a[6], endNodeElementId = _a[7];\n            return new neo4j_driver_core_1.Relationship(identity, startNodeIdentity, endNodeIdentity, type, properties, elementId, startNodeElementId, endNodeElementId);\n        }\n    });\n}\n/**\n * Create an extend Unbound Relationship transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createUnboundRelationshipTransformer(config) {\n    var unboundRelationshipTransformer = bolt_protocol_v4x4_transformer_1.default.createUnboundRelationshipTransformer(config);\n    return unboundRelationshipTransformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('UnboundRelationship', UNBOUND_RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), identity = _a[0], type = _a[1], properties = _a[2], elementId = _a[3];\n            return new neo4j_driver_core_1.UnboundRelationship(identity, type, properties, elementId);\n        }\n    });\n}\nexports[\"default\"] = __assign(__assign(__assign({}, bolt_protocol_v4x4_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default), { createNodeTransformer: createNodeTransformer, createRelationshipTransformer: createRelationshipTransformer, createUnboundRelationshipTransformer: createUnboundRelationshipTransformer });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLDJEQUEyRCxtQkFBTyxDQUFDLDhJQUFzQztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBZSxnQ0FBZ0MsOEZBQThGLHdMQUF3TCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAudHJhbnNmb3JtZXIuanM/OWVmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHBhY2tzdHJlYW1fMSA9IHJlcXVpcmUoXCIuLi9wYWNrc3RyZWFtXCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgYm9sdF9wcm90b2NvbF92NHg0X3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHg0LnRyYW5zZm9ybWVyXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDBfdXRjX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgwLnV0Yy50cmFuc2Zvcm1lclwiKSk7XG52YXIgTk9ERV9TVFJVQ1RfU0laRSA9IDQ7XG52YXIgUkVMQVRJT05TSElQX1NUUlVDVF9TSVpFID0gODtcbnZhciBVTkJPVU5EX1JFTEFUSU9OU0hJUF9TVFJVQ1RfU0laRSA9IDQ7XG4vKipcbiAqIENyZWF0ZSBhbiBleHRlbmQgTm9kZSB0cmFuc2Zvcm1lciB3aXRoIHN1cHBvcnQgdG8gZWxlbWVudElkXG4gKiBAcGFyYW0ge2FueX0gY29uZmlnXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2RlVHJhbnNmb3JtZXIoY29uZmlnKSB7XG4gICAgdmFyIG5vZGU0eDRUcmFuc2Zvcm1lciA9IGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQuY3JlYXRlTm9kZVRyYW5zZm9ybWVyKGNvbmZpZyk7XG4gICAgcmV0dXJuIG5vZGU0eDRUcmFuc2Zvcm1lci5leHRlbmRzV2l0aCh7XG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnTm9kZScsIE5PREVfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCA0KSwgaWRlbnRpdHkgPSBfYVswXSwgbGFibGVzID0gX2FbMV0sIHByb3BlcnRpZXMgPSBfYVsyXSwgZWxlbWVudElkID0gX2FbM107XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuTm9kZShpZGVudGl0eSwgbGFibGVzLCBwcm9wZXJ0aWVzLCBlbGVtZW50SWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBleHRlbmQgUmVsYXRpb25zaGlwIHRyYW5zZm9ybWVyIHdpdGggc3VwcG9ydCB0byBlbGVtZW50SWRcbiAqIEBwYXJhbSB7YW55fSBjb25maWdcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyKGNvbmZpZykge1xuICAgIHZhciByZWxhdGlvbnNoaXA0eDRUcmFuc2Zvcm1lciA9IGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQuY3JlYXRlUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIoY29uZmlnKTtcbiAgICByZXR1cm4gcmVsYXRpb25zaGlwNHg0VHJhbnNmb3JtZXIuZXh0ZW5kc1dpdGgoe1xuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ1JlbGF0aW9uc2hpcCcsIFJFTEFUSU9OU0hJUF9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDgpLCBpZGVudGl0eSA9IF9hWzBdLCBzdGFydE5vZGVJZGVudGl0eSA9IF9hWzFdLCBlbmROb2RlSWRlbnRpdHkgPSBfYVsyXSwgdHlwZSA9IF9hWzNdLCBwcm9wZXJ0aWVzID0gX2FbNF0sIGVsZW1lbnRJZCA9IF9hWzVdLCBzdGFydE5vZGVFbGVtZW50SWQgPSBfYVs2XSwgZW5kTm9kZUVsZW1lbnRJZCA9IF9hWzddO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlJlbGF0aW9uc2hpcChpZGVudGl0eSwgc3RhcnROb2RlSWRlbnRpdHksIGVuZE5vZGVJZGVudGl0eSwgdHlwZSwgcHJvcGVydGllcywgZWxlbWVudElkLCBzdGFydE5vZGVFbGVtZW50SWQsIGVuZE5vZGVFbGVtZW50SWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBleHRlbmQgVW5ib3VuZCBSZWxhdGlvbnNoaXAgdHJhbnNmb3JtZXIgd2l0aCBzdXBwb3J0IHRvIGVsZW1lbnRJZFxuICogQHBhcmFtIHthbnl9IGNvbmZpZ1xuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVW5ib3VuZFJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyKGNvbmZpZykge1xuICAgIHZhciB1bmJvdW5kUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIgPSBib2x0X3Byb3RvY29sX3Y0eDRfdHJhbnNmb3JtZXJfMS5kZWZhdWx0LmNyZWF0ZVVuYm91bmRSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcihjb25maWcpO1xuICAgIHJldHVybiB1bmJvdW5kUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIuZXh0ZW5kc1dpdGgoe1xuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ1VuYm91bmRSZWxhdGlvbnNoaXAnLCBVTkJPVU5EX1JFTEFUSU9OU0hJUF9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDQpLCBpZGVudGl0eSA9IF9hWzBdLCB0eXBlID0gX2FbMV0sIHByb3BlcnRpZXMgPSBfYVsyXSwgZWxlbWVudElkID0gX2FbM107XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuVW5ib3VuZFJlbGF0aW9uc2hpcChpZGVudGl0eSwgdHlwZSwgcHJvcGVydGllcywgZWxlbWVudElkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLCBib2x0X3Byb3RvY29sX3Y1eDBfdXRjX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCksIHsgY3JlYXRlTm9kZVRyYW5zZm9ybWVyOiBjcmVhdGVOb2RlVHJhbnNmb3JtZXIsIGNyZWF0ZVJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyOiBjcmVhdGVSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lciwgY3JlYXRlVW5ib3VuZFJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyOiBjcmVhdGVVbmJvdW5kUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\"));\nvar temporal_factory_1 = __webpack_require__(/*! ./temporal-factory */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js\");\nvar functional_1 = __webpack_require__(/*! ../lang/functional */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js\");\nvar localDateTimeToEpochSecond = neo4j_driver_core_1.internal.temporalUtil.localDateTimeToEpochSecond;\nvar DATE_TIME_WITH_ZONE_OFFSET = 0x49;\nvar DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE = 3;\nvar DATE_TIME_WITH_ZONE_ID = 0x69;\nvar DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE = 3;\nfunction createDateTimeWithZoneIdTransformer(config, logger) {\n    var disableLosslessIntegers = config.disableLosslessIntegers, useBigInt = config.useBigInt;\n    var dateTimeWithZoneIdTransformer = bolt_protocol_v4x4_transformer_1.default.createDateTimeWithZoneIdTransformer(config);\n    return dateTimeWithZoneIdTransformer.extendsWith({\n        signature: DATE_TIME_WITH_ZONE_ID,\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneId', DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneId = _a[2];\n            var localDateTime = getTimeInZoneId(timeZoneId, epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, (0, neo4j_driver_core_1.int)(nano), localDateTime.timeZoneOffsetSeconds, timeZoneId);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var offset = value.timeZoneOffsetSeconds != null\n                ? value.timeZoneOffsetSeconds\n                : getOffsetFromZoneId(value.timeZoneId, epochSecond, value.nanosecond);\n            if (value.timeZoneOffsetSeconds == null) {\n                logger.warn('DateTime objects without \"timeZoneOffsetSeconds\" property ' +\n                    'are prune to bugs related to ambiguous times. For instance, ' +\n                    '2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');\n            }\n            var utc = epochSecond.subtract(offset);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneId = value.timeZoneId;\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_ID, [utc, nano, timeZoneId]);\n        }\n    });\n}\n/**\n * Returns the offset for a given timezone id\n *\n * Javascript doesn't have support for direct getting the timezone offset from a given\n * TimeZoneId and DateTime in the given TimeZoneId. For solving this issue,\n *\n * 1. The ZoneId is applied to the timestamp, so we could make the difference between the\n * given timestamp and the new calculated one. This is the offset for the timezone\n * in the utc is equal to epoch (some time in the future or past)\n * 2. The offset is subtracted from the timestamp, so we have an estimated utc timestamp.\n * 3. The ZoneId is applied to the new timestamp, se we could could make the difference\n * between the new timestamp and the calculated one. This is the offset for the given timezone.\n *\n * Example:\n *    Input: 2022-3-27 1:59:59 'Europe/Berlin'\n *    Apply 1, 2022-3-27 1:59:59 => 2022-3-27 3:59:59 'Europe/Berlin' +2:00\n *    Apply 2, 2022-3-27 1:59:59 - 2:00 => 2022-3-26 23:59:59\n *    Apply 3, 2022-3-26 23:59:59 => 2022-3-27 00:59:59 'Europe/Berlin' +1:00\n *  The offset is +1 hour.\n *\n * @param {string} timeZoneId The timezone id\n * @param {Integer} epochSecond The epoch second in the timezone id\n * @param {Integerable} nanosecond The nanoseconds in the timezone id\n * @returns The timezone offset\n */\nfunction getOffsetFromZoneId(timeZoneId, epochSecond, nanosecond) {\n    var dateTimeWithZoneAppliedTwice = getTimeInZoneId(timeZoneId, epochSecond, nanosecond);\n    // The wallclock form the current date time\n    var epochWithZoneAppliedTwice = localDateTimeToEpochSecond(dateTimeWithZoneAppliedTwice.year, dateTimeWithZoneAppliedTwice.month, dateTimeWithZoneAppliedTwice.day, dateTimeWithZoneAppliedTwice.hour, dateTimeWithZoneAppliedTwice.minute, dateTimeWithZoneAppliedTwice.second, nanosecond);\n    var offsetOfZoneInTheFutureUtc = epochWithZoneAppliedTwice.subtract(epochSecond);\n    var guessedUtc = epochSecond.subtract(offsetOfZoneInTheFutureUtc);\n    var zonedDateTimeFromGuessedUtc = getTimeInZoneId(timeZoneId, guessedUtc, nanosecond);\n    var zonedEpochFromGuessedUtc = localDateTimeToEpochSecond(zonedDateTimeFromGuessedUtc.year, zonedDateTimeFromGuessedUtc.month, zonedDateTimeFromGuessedUtc.day, zonedDateTimeFromGuessedUtc.hour, zonedDateTimeFromGuessedUtc.minute, zonedDateTimeFromGuessedUtc.second, nanosecond);\n    var offset = zonedEpochFromGuessedUtc.subtract(guessedUtc);\n    return offset;\n}\nvar dateTimeFormatCache = new Map();\nfunction getDateTimeFormatForZoneId(timeZoneId) {\n    if (!dateTimeFormatCache.has(timeZoneId)) {\n        var formatter = new Intl.DateTimeFormat('en-US', {\n            timeZone: timeZoneId,\n            year: 'numeric',\n            month: 'numeric',\n            day: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric',\n            second: 'numeric',\n            hour12: false,\n            era: 'narrow'\n        });\n        dateTimeFormatCache.set(timeZoneId, formatter);\n    }\n    return dateTimeFormatCache.get(timeZoneId);\n}\nfunction getTimeInZoneId(timeZoneId, epochSecond, nano) {\n    var formatter = getDateTimeFormatForZoneId(timeZoneId);\n    var utc = (0, neo4j_driver_core_1.int)(epochSecond)\n        .multiply(1000)\n        .add((0, neo4j_driver_core_1.int)(nano).div(1000000))\n        .toNumber();\n    var formattedUtcParts = formatter.formatToParts(utc);\n    var localDateTime = formattedUtcParts.reduce(function (obj, currentValue) {\n        if (currentValue.type === 'era') {\n            obj.adjustEra =\n                currentValue.value.toUpperCase() === 'B'\n                    ? function (year) { return year.subtract(1).negate(); } // 1BC equals to year 0 in astronomical year numbering\n                    : functional_1.identity;\n        }\n        else if (currentValue.type === 'hour') {\n            obj.hour = (0, neo4j_driver_core_1.int)(currentValue.value).modulo(24);\n        }\n        else if (currentValue.type !== 'literal') {\n            obj[currentValue.type] = (0, neo4j_driver_core_1.int)(currentValue.value);\n        }\n        return obj;\n    }, {});\n    localDateTime.year = localDateTime.adjustEra(localDateTime.year);\n    var epochInTimeZone = localDateTimeToEpochSecond(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond);\n    localDateTime.timeZoneOffsetSeconds = epochInTimeZone.subtract(epochSecond);\n    localDateTime.hour = localDateTime.hour.modulo(24);\n    return localDateTime;\n}\nfunction createDateTimeWithOffsetTransformer(config) {\n    var disableLosslessIntegers = config.disableLosslessIntegers, useBigInt = config.useBigInt;\n    var dateTimeWithOffsetTransformer = bolt_protocol_v4x4_transformer_1.default.createDateTimeWithOffsetTransformer(config);\n    return dateTimeWithOffsetTransformer.extendsWith({\n        signature: DATE_TIME_WITH_ZONE_OFFSET,\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneOffsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            var utcSecond = epochSecond.subtract(timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET, [utcSecond, nano, timeZoneOffsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneOffset', DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), utcSecond = _a[0], nano = _a[1], timeZoneOffsetSeconds = _a[2];\n            var epochSecond = (0, neo4j_driver_core_1.int)(utcSecond).add(timeZoneOffsetSeconds);\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, timeZoneOffsetSeconds, null);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\nfunction convertIntegerPropsIfNeeded(obj, disableLosslessIntegers, useBigInt) {\n    if (!disableLosslessIntegers && !useBigInt) {\n        return obj;\n    }\n    var convert = function (value) {\n        return useBigInt ? value.toBigInt() : value.toNumberOrInfinity();\n    };\n    var clone = Object.create(Object.getPrototypeOf(obj));\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop) === true) {\n            var value = obj[prop];\n            clone[prop] = (0, neo4j_driver_core_1.isInt)(value) ? convert(value) : value;\n        }\n    }\n    Object.freeze(clone);\n    return clone;\n}\nexports[\"default\"] = {\n    createDateTimeWithZoneIdTransformer: createDateTimeWithZoneIdTransformer,\n    createDateTimeWithOffsetTransformer: createDateTimeWithOffsetTransformer\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAudXRjLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQixtQkFBTyxDQUFDLGdHQUFlO0FBQzFDLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELG1CQUFtQixtQkFBTyxDQUFDLG9HQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msb0NBQW9DO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAudXRjLnRyYW5zZm9ybWVyLmpzPzFkOWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHBhY2tzdHJlYW1fMSA9IHJlcXVpcmUoXCIuLi9wYWNrc3RyZWFtXCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgYm9sdF9wcm90b2NvbF92NHg0X3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHg0LnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0ZW1wb3JhbF9mYWN0b3J5XzEgPSByZXF1aXJlKFwiLi90ZW1wb3JhbC1mYWN0b3J5XCIpO1xudmFyIGZ1bmN0aW9uYWxfMSA9IHJlcXVpcmUoXCIuLi9sYW5nL2Z1bmN0aW9uYWxcIik7XG52YXIgbG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnRlbXBvcmFsVXRpbC5sb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZDtcbnZhciBEQVRFX1RJTUVfV0lUSF9aT05FX09GRlNFVCA9IDB4NDk7XG52YXIgREFURV9USU1FX1dJVEhfWk9ORV9PRkZTRVRfU1RSVUNUX1NJWkUgPSAzO1xudmFyIERBVEVfVElNRV9XSVRIX1pPTkVfSUQgPSAweDY5O1xudmFyIERBVEVfVElNRV9XSVRIX1pPTkVfSURfU1RSVUNUX1NJWkUgPSAzO1xuZnVuY3Rpb24gY3JlYXRlRGF0ZVRpbWVXaXRoWm9uZUlkVHJhbnNmb3JtZXIoY29uZmlnLCBsb2dnZXIpIHtcbiAgICB2YXIgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBjb25maWcuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCA9IGNvbmZpZy51c2VCaWdJbnQ7XG4gICAgdmFyIGRhdGVUaW1lV2l0aFpvbmVJZFRyYW5zZm9ybWVyID0gYm9sdF9wcm90b2NvbF92NHg0X3RyYW5zZm9ybWVyXzEuZGVmYXVsdC5jcmVhdGVEYXRlVGltZVdpdGhab25lSWRUcmFuc2Zvcm1lcihjb25maWcpO1xuICAgIHJldHVybiBkYXRlVGltZVdpdGhab25lSWRUcmFuc2Zvcm1lci5leHRlbmRzV2l0aCh7XG4gICAgICAgIHNpZ25hdHVyZTogREFURV9USU1FX1dJVEhfWk9ORV9JRCxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdEYXRlVGltZVdpdGhab25lSWQnLCBEQVRFX1RJTUVfV0lUSF9aT05FX0lEX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIGVwb2NoU2Vjb25kID0gX2FbMF0sIG5hbm8gPSBfYVsxXSwgdGltZVpvbmVJZCA9IF9hWzJdO1xuICAgICAgICAgICAgdmFyIGxvY2FsRGF0ZVRpbWUgPSBnZXRUaW1lSW5ab25lSWQodGltZVpvbmVJZCwgZXBvY2hTZWNvbmQsIG5hbm8pO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBuZW80al9kcml2ZXJfY29yZV8xLkRhdGVUaW1lKGxvY2FsRGF0ZVRpbWUueWVhciwgbG9jYWxEYXRlVGltZS5tb250aCwgbG9jYWxEYXRlVGltZS5kYXksIGxvY2FsRGF0ZVRpbWUuaG91ciwgbG9jYWxEYXRlVGltZS5taW51dGUsIGxvY2FsRGF0ZVRpbWUuc2Vjb25kLCAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKG5hbm8pLCBsb2NhbERhdGVUaW1lLnRpbWVab25lT2Zmc2V0U2Vjb25kcywgdGltZVpvbmVJZCk7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydEludGVnZXJQcm9wc0lmTmVlZGVkKHJlc3VsdCwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcG9jaFNlY29uZCA9IGxvY2FsRGF0ZVRpbWVUb0Vwb2NoU2Vjb25kKHZhbHVlLnllYXIsIHZhbHVlLm1vbnRoLCB2YWx1ZS5kYXksIHZhbHVlLmhvdXIsIHZhbHVlLm1pbnV0ZSwgdmFsdWUuc2Vjb25kLCB2YWx1ZS5uYW5vc2Vjb25kKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB2YWx1ZS50aW1lWm9uZU9mZnNldFNlY29uZHMgIT0gbnVsbFxuICAgICAgICAgICAgICAgID8gdmFsdWUudGltZVpvbmVPZmZzZXRTZWNvbmRzXG4gICAgICAgICAgICAgICAgOiBnZXRPZmZzZXRGcm9tWm9uZUlkKHZhbHVlLnRpbWVab25lSWQsIGVwb2NoU2Vjb25kLCB2YWx1ZS5uYW5vc2Vjb25kKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS50aW1lWm9uZU9mZnNldFNlY29uZHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdEYXRlVGltZSBvYmplY3RzIHdpdGhvdXQgXCJ0aW1lWm9uZU9mZnNldFNlY29uZHNcIiBwcm9wZXJ0eSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FyZSBwcnVuZSB0byBidWdzIHJlbGF0ZWQgdG8gYW1iaWd1b3VzIHRpbWVzLiBGb3IgaW5zdGFuY2UsICcgK1xuICAgICAgICAgICAgICAgICAgICAnMjAyMi0xMC0zMFQyOjMwOjAwW0V1cm9wZS9CZXJsaW5dIGNvdWxkIGJlIEdNVCsxIG9yIEdNVCsyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHV0YyA9IGVwb2NoU2Vjb25kLnN1YnRyYWN0KG9mZnNldCk7XG4gICAgICAgICAgICB2YXIgbmFubyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgdGltZVpvbmVJZCA9IHZhbHVlLnRpbWVab25lSWQ7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKERBVEVfVElNRV9XSVRIX1pPTkVfSUQsIFt1dGMsIG5hbm8sIHRpbWVab25lSWRdKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvZmZzZXQgZm9yIGEgZ2l2ZW4gdGltZXpvbmUgaWRcbiAqXG4gKiBKYXZhc2NyaXB0IGRvZXNuJ3QgaGF2ZSBzdXBwb3J0IGZvciBkaXJlY3QgZ2V0dGluZyB0aGUgdGltZXpvbmUgb2Zmc2V0IGZyb20gYSBnaXZlblxuICogVGltZVpvbmVJZCBhbmQgRGF0ZVRpbWUgaW4gdGhlIGdpdmVuIFRpbWVab25lSWQuIEZvciBzb2x2aW5nIHRoaXMgaXNzdWUsXG4gKlxuICogMS4gVGhlIFpvbmVJZCBpcyBhcHBsaWVkIHRvIHRoZSB0aW1lc3RhbXAsIHNvIHdlIGNvdWxkIG1ha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGVcbiAqIGdpdmVuIHRpbWVzdGFtcCBhbmQgdGhlIG5ldyBjYWxjdWxhdGVkIG9uZS4gVGhpcyBpcyB0aGUgb2Zmc2V0IGZvciB0aGUgdGltZXpvbmVcbiAqIGluIHRoZSB1dGMgaXMgZXF1YWwgdG8gZXBvY2ggKHNvbWUgdGltZSBpbiB0aGUgZnV0dXJlIG9yIHBhc3QpXG4gKiAyLiBUaGUgb2Zmc2V0IGlzIHN1YnRyYWN0ZWQgZnJvbSB0aGUgdGltZXN0YW1wLCBzbyB3ZSBoYXZlIGFuIGVzdGltYXRlZCB1dGMgdGltZXN0YW1wLlxuICogMy4gVGhlIFpvbmVJZCBpcyBhcHBsaWVkIHRvIHRoZSBuZXcgdGltZXN0YW1wLCBzZSB3ZSBjb3VsZCBjb3VsZCBtYWtlIHRoZSBkaWZmZXJlbmNlXG4gKiBiZXR3ZWVuIHRoZSBuZXcgdGltZXN0YW1wIGFuZCB0aGUgY2FsY3VsYXRlZCBvbmUuIFRoaXMgaXMgdGhlIG9mZnNldCBmb3IgdGhlIGdpdmVuIHRpbWV6b25lLlxuICpcbiAqIEV4YW1wbGU6XG4gKiAgICBJbnB1dDogMjAyMi0zLTI3IDE6NTk6NTkgJ0V1cm9wZS9CZXJsaW4nXG4gKiAgICBBcHBseSAxLCAyMDIyLTMtMjcgMTo1OTo1OSA9PiAyMDIyLTMtMjcgMzo1OTo1OSAnRXVyb3BlL0JlcmxpbicgKzI6MDBcbiAqICAgIEFwcGx5IDIsIDIwMjItMy0yNyAxOjU5OjU5IC0gMjowMCA9PiAyMDIyLTMtMjYgMjM6NTk6NTlcbiAqICAgIEFwcGx5IDMsIDIwMjItMy0yNiAyMzo1OTo1OSA9PiAyMDIyLTMtMjcgMDA6NTk6NTkgJ0V1cm9wZS9CZXJsaW4nICsxOjAwXG4gKiAgVGhlIG9mZnNldCBpcyArMSBob3VyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lWm9uZUlkIFRoZSB0aW1lem9uZSBpZFxuICogQHBhcmFtIHtJbnRlZ2VyfSBlcG9jaFNlY29uZCBUaGUgZXBvY2ggc2Vjb25kIGluIHRoZSB0aW1lem9uZSBpZFxuICogQHBhcmFtIHtJbnRlZ2VyYWJsZX0gbmFub3NlY29uZCBUaGUgbmFub3NlY29uZHMgaW4gdGhlIHRpbWV6b25lIGlkXG4gKiBAcmV0dXJucyBUaGUgdGltZXpvbmUgb2Zmc2V0XG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldEZyb21ab25lSWQodGltZVpvbmVJZCwgZXBvY2hTZWNvbmQsIG5hbm9zZWNvbmQpIHtcbiAgICB2YXIgZGF0ZVRpbWVXaXRoWm9uZUFwcGxpZWRUd2ljZSA9IGdldFRpbWVJblpvbmVJZCh0aW1lWm9uZUlkLCBlcG9jaFNlY29uZCwgbmFub3NlY29uZCk7XG4gICAgLy8gVGhlIHdhbGxjbG9jayBmb3JtIHRoZSBjdXJyZW50IGRhdGUgdGltZVxuICAgIHZhciBlcG9jaFdpdGhab25lQXBwbGllZFR3aWNlID0gbG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQoZGF0ZVRpbWVXaXRoWm9uZUFwcGxpZWRUd2ljZS55ZWFyLCBkYXRlVGltZVdpdGhab25lQXBwbGllZFR3aWNlLm1vbnRoLCBkYXRlVGltZVdpdGhab25lQXBwbGllZFR3aWNlLmRheSwgZGF0ZVRpbWVXaXRoWm9uZUFwcGxpZWRUd2ljZS5ob3VyLCBkYXRlVGltZVdpdGhab25lQXBwbGllZFR3aWNlLm1pbnV0ZSwgZGF0ZVRpbWVXaXRoWm9uZUFwcGxpZWRUd2ljZS5zZWNvbmQsIG5hbm9zZWNvbmQpO1xuICAgIHZhciBvZmZzZXRPZlpvbmVJblRoZUZ1dHVyZVV0YyA9IGVwb2NoV2l0aFpvbmVBcHBsaWVkVHdpY2Uuc3VidHJhY3QoZXBvY2hTZWNvbmQpO1xuICAgIHZhciBndWVzc2VkVXRjID0gZXBvY2hTZWNvbmQuc3VidHJhY3Qob2Zmc2V0T2Zab25lSW5UaGVGdXR1cmVVdGMpO1xuICAgIHZhciB6b25lZERhdGVUaW1lRnJvbUd1ZXNzZWRVdGMgPSBnZXRUaW1lSW5ab25lSWQodGltZVpvbmVJZCwgZ3Vlc3NlZFV0YywgbmFub3NlY29uZCk7XG4gICAgdmFyIHpvbmVkRXBvY2hGcm9tR3Vlc3NlZFV0YyA9IGxvY2FsRGF0ZVRpbWVUb0Vwb2NoU2Vjb25kKHpvbmVkRGF0ZVRpbWVGcm9tR3Vlc3NlZFV0Yy55ZWFyLCB6b25lZERhdGVUaW1lRnJvbUd1ZXNzZWRVdGMubW9udGgsIHpvbmVkRGF0ZVRpbWVGcm9tR3Vlc3NlZFV0Yy5kYXksIHpvbmVkRGF0ZVRpbWVGcm9tR3Vlc3NlZFV0Yy5ob3VyLCB6b25lZERhdGVUaW1lRnJvbUd1ZXNzZWRVdGMubWludXRlLCB6b25lZERhdGVUaW1lRnJvbUd1ZXNzZWRVdGMuc2Vjb25kLCBuYW5vc2Vjb25kKTtcbiAgICB2YXIgb2Zmc2V0ID0gem9uZWRFcG9jaEZyb21HdWVzc2VkVXRjLnN1YnRyYWN0KGd1ZXNzZWRVdGMpO1xuICAgIHJldHVybiBvZmZzZXQ7XG59XG52YXIgZGF0ZVRpbWVGb3JtYXRDYWNoZSA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldERhdGVUaW1lRm9ybWF0Rm9yWm9uZUlkKHRpbWVab25lSWQpIHtcbiAgICBpZiAoIWRhdGVUaW1lRm9ybWF0Q2FjaGUuaGFzKHRpbWVab25lSWQpKSB7XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4tVVMnLCB7XG4gICAgICAgICAgICB0aW1lWm9uZTogdGltZVpvbmVJZCxcbiAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIG1pbnV0ZTogJ251bWVyaWMnLFxuICAgICAgICAgICAgc2Vjb25kOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBob3VyMTI6IGZhbHNlLFxuICAgICAgICAgICAgZXJhOiAnbmFycm93J1xuICAgICAgICB9KTtcbiAgICAgICAgZGF0ZVRpbWVGb3JtYXRDYWNoZS5zZXQodGltZVpvbmVJZCwgZm9ybWF0dGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGVUaW1lRm9ybWF0Q2FjaGUuZ2V0KHRpbWVab25lSWQpO1xufVxuZnVuY3Rpb24gZ2V0VGltZUluWm9uZUlkKHRpbWVab25lSWQsIGVwb2NoU2Vjb25kLCBuYW5vKSB7XG4gICAgdmFyIGZvcm1hdHRlciA9IGdldERhdGVUaW1lRm9ybWF0Rm9yWm9uZUlkKHRpbWVab25lSWQpO1xuICAgIHZhciB1dGMgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKGVwb2NoU2Vjb25kKVxuICAgICAgICAubXVsdGlwbHkoMTAwMClcbiAgICAgICAgLmFkZCgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKG5hbm8pLmRpdigxMDAwMDAwKSlcbiAgICAgICAgLnRvTnVtYmVyKCk7XG4gICAgdmFyIGZvcm1hdHRlZFV0Y1BhcnRzID0gZm9ybWF0dGVyLmZvcm1hdFRvUGFydHModXRjKTtcbiAgICB2YXIgbG9jYWxEYXRlVGltZSA9IGZvcm1hdHRlZFV0Y1BhcnRzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZS50eXBlID09PSAnZXJhJykge1xuICAgICAgICAgICAgb2JqLmFkanVzdEVyYSA9XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlLnZhbHVlLnRvVXBwZXJDYXNlKCkgPT09ICdCJ1xuICAgICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uICh5ZWFyKSB7IHJldHVybiB5ZWFyLnN1YnRyYWN0KDEpLm5lZ2F0ZSgpOyB9IC8vIDFCQyBlcXVhbHMgdG8geWVhciAwIGluIGFzdHJvbm9taWNhbCB5ZWFyIG51bWJlcmluZ1xuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uYWxfMS5pZGVudGl0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50VmFsdWUudHlwZSA9PT0gJ2hvdXInKSB7XG4gICAgICAgICAgICBvYmouaG91ciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoY3VycmVudFZhbHVlLnZhbHVlKS5tb2R1bG8oMjQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRWYWx1ZS50eXBlICE9PSAnbGl0ZXJhbCcpIHtcbiAgICAgICAgICAgIG9ialtjdXJyZW50VmFsdWUudHlwZV0gPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKGN1cnJlbnRWYWx1ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB7fSk7XG4gICAgbG9jYWxEYXRlVGltZS55ZWFyID0gbG9jYWxEYXRlVGltZS5hZGp1c3RFcmEobG9jYWxEYXRlVGltZS55ZWFyKTtcbiAgICB2YXIgZXBvY2hJblRpbWVab25lID0gbG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQobG9jYWxEYXRlVGltZS55ZWFyLCBsb2NhbERhdGVUaW1lLm1vbnRoLCBsb2NhbERhdGVUaW1lLmRheSwgbG9jYWxEYXRlVGltZS5ob3VyLCBsb2NhbERhdGVUaW1lLm1pbnV0ZSwgbG9jYWxEYXRlVGltZS5zZWNvbmQsIGxvY2FsRGF0ZVRpbWUubmFub3NlY29uZCk7XG4gICAgbG9jYWxEYXRlVGltZS50aW1lWm9uZU9mZnNldFNlY29uZHMgPSBlcG9jaEluVGltZVpvbmUuc3VidHJhY3QoZXBvY2hTZWNvbmQpO1xuICAgIGxvY2FsRGF0ZVRpbWUuaG91ciA9IGxvY2FsRGF0ZVRpbWUuaG91ci5tb2R1bG8oMjQpO1xuICAgIHJldHVybiBsb2NhbERhdGVUaW1lO1xufVxuZnVuY3Rpb24gY3JlYXRlRGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXIoY29uZmlnKSB7XG4gICAgdmFyIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gY29uZmlnLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBjb25maWcudXNlQmlnSW50O1xuICAgIHZhciBkYXRlVGltZVdpdGhPZmZzZXRUcmFuc2Zvcm1lciA9IGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQuY3JlYXRlRGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXIoY29uZmlnKTtcbiAgICByZXR1cm4gZGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXIuZXh0ZW5kc1dpdGgoe1xuICAgICAgICBzaWduYXR1cmU6IERBVEVfVElNRV9XSVRIX1pPTkVfT0ZGU0VULFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXBvY2hTZWNvbmQgPSBsb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCh2YWx1ZS55ZWFyLCB2YWx1ZS5tb250aCwgdmFsdWUuZGF5LCB2YWx1ZS5ob3VyLCB2YWx1ZS5taW51dGUsIHZhbHVlLnNlY29uZCwgdmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgbmFubyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgdGltZVpvbmVPZmZzZXRTZWNvbmRzID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSh2YWx1ZS50aW1lWm9uZU9mZnNldFNlY29uZHMpO1xuICAgICAgICAgICAgdmFyIHV0Y1NlY29uZCA9IGVwb2NoU2Vjb25kLnN1YnRyYWN0KHRpbWVab25lT2Zmc2V0U2Vjb25kcyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKERBVEVfVElNRV9XSVRIX1pPTkVfT0ZGU0VULCBbdXRjU2Vjb25kLCBuYW5vLCB0aW1lWm9uZU9mZnNldFNlY29uZHNdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdEYXRlVGltZVdpdGhab25lT2Zmc2V0JywgREFURV9USU1FX1dJVEhfWk9ORV9PRkZTRVRfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAzKSwgdXRjU2Vjb25kID0gX2FbMF0sIG5hbm8gPSBfYVsxXSwgdGltZVpvbmVPZmZzZXRTZWNvbmRzID0gX2FbMl07XG4gICAgICAgICAgICB2YXIgZXBvY2hTZWNvbmQgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHV0Y1NlY29uZCkuYWRkKHRpbWVab25lT2Zmc2V0U2Vjb25kcyk7XG4gICAgICAgICAgICB2YXIgbG9jYWxEYXRlVGltZSA9ICgwLCB0ZW1wb3JhbF9mYWN0b3J5XzEuZXBvY2hTZWNvbmRBbmROYW5vVG9Mb2NhbERhdGVUaW1lKShlcG9jaFNlY29uZCwgbmFubyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuRGF0ZVRpbWUobG9jYWxEYXRlVGltZS55ZWFyLCBsb2NhbERhdGVUaW1lLm1vbnRoLCBsb2NhbERhdGVUaW1lLmRheSwgbG9jYWxEYXRlVGltZS5ob3VyLCBsb2NhbERhdGVUaW1lLm1pbnV0ZSwgbG9jYWxEYXRlVGltZS5zZWNvbmQsIGxvY2FsRGF0ZVRpbWUubmFub3NlY29uZCwgdGltZVpvbmVPZmZzZXRTZWNvbmRzLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0SW50ZWdlclByb3BzSWZOZWVkZWQocmVzdWx0LCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gY29udmVydEludGVnZXJQcm9wc0lmTmVlZGVkKG9iaiwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCkge1xuICAgIGlmICghZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgJiYgIXVzZUJpZ0ludCkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICB2YXIgY29udmVydCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdXNlQmlnSW50ID8gdmFsdWUudG9CaWdJbnQoKSA6IHZhbHVlLnRvTnVtYmVyT3JJbmZpbml0eSgpO1xuICAgIH07XG4gICAgdmFyIGNsb25lID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSk7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgICAgICBjbG9uZVtwcm9wXSA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzSW50KSh2YWx1ZSkgPyBjb252ZXJ0KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5mcmVlemUoY2xvbmUpO1xuICAgIHJldHVybiBjbG9uZTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICBjcmVhdGVEYXRlVGltZVdpdGhab25lSWRUcmFuc2Zvcm1lcjogY3JlYXRlRGF0ZVRpbWVXaXRoWm9uZUlkVHJhbnNmb3JtZXIsXG4gICAgY3JlYXRlRGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXI6IGNyZWF0ZURhdGVUaW1lV2l0aE9mZnNldFRyYW5zZm9ybWVyXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v5x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_1 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_1;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"supportsReAuth\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filters.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplete)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var state = {};\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                state.metadata = metadata;\n                return _this._onLoginCompleted(metadata);\n            }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello5x1(userAgent, this._serversideRouting), observer, false);\n        return this.logon({\n            authToken: authToken,\n            onComplete: function (metadata) { return onComplete(__assign(__assign({}, metadata), state.metadata)); },\n            onError: onError,\n            flush: true\n        });\n    };\n    /**\n     * Performs login of the underlying connection\n     *\n     * @param {Object} args\n     * @param {Object} args.authToken the authentication token.\n     * @param {function(err: Error)} args.onError the callback to invoke on error.\n     * @param {function()} args.onComplete the callback to invoke on completion.\n     * @param {boolean} args.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.logon = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, authToken = _b.authToken, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LoginObserver({\n            onCompleted: function () { return _this._onLoginCompleted(null, authToken, onComplete); },\n            onError: function (error) { return _this._onLoginError(error, onError); }\n        });\n        this.write(request_message_1.default.logon(authToken), observer, flush);\n        return observer;\n    };\n    /**\n     * Performs logoff of the underlying connection\n     *\n     * @param {Object} param\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @param {boolean} param.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n    */\n    BoltProtocol.prototype.logoff = function (_a) {\n        var _b = _a === void 0 ? {} : _a, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LogoffObserver({\n            onCompleted: onComplete,\n            onError: onError\n        });\n        this.write(request_message_1.default.logoff(), observer, flush);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x0_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJCQUEyQixtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RCx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0Qsd0NBQXdDLG1CQUFPLENBQUMsd0dBQW1CO0FBQ25FLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLHNCQUFzQjtBQUNyQyxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzQ0FBc0MsZ0NBQWdDO0FBQ3BIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFNBQVM7QUFDeEI7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHVDQUF1Qyw4REFBOEQ7QUFDckcsd0NBQXdDO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsU0FBUztBQUN4QjtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgxLmpzP2NkOWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NXgwXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgwXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3V0aWxfMSA9IHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdXRpbFwiKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDFfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDEudHJhbnNmb3JtZXJcIikpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJPTFRfUFJPVE9DT0xfVjVfMSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjVfMTtcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjVfMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInRyYW5zZm9ybWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhib2x0X3Byb3RvY29sX3Y1eDFfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJzdXBwb3J0c1JlQXV0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBzZXJ2ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzIFRoZSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXJncy51c2VyQWdlbnQgVGhlIHVzZXIgYWdlbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gYXJncy5hdXRoVG9rZW4gVGhlIGF1dGggdG9rZW5cbiAgICAgKiBAcGFyYW0ge05vdGlmaWNhdGlvbkZpbHRlcn0gYXJncy5ub3RpZmljYXRpb25GaWx0ZXIgVGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXJzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyb3IpfSBhcmdzLm9uRXJyb3IgT24gZXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG9uQ29tcGxldGUpfSBhcmdzLm9uQ29tcGxldGUgT24gY29tcGxldGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7TG9naW5PYnNlcnZlcn0gVGhlIExvZ2luIG9ic2VydmVyXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCB1c2VyQWdlbnQgPSBfYi51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9iLmJvbHRBZ2VudCwgYXV0aFRva2VuID0gX2IuYXV0aFRva2VuLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZTtcbiAgICAgICAgdmFyIHN0YXRlID0ge307XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9naW5PYnNlcnZlcih7XG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luRXJyb3IoZXJyb3IsIG9uRXJyb3IpOyB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9vbkxvZ2luQ29tcGxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHBhc3Npbmcgbm90aWZpY2F0aW9uIGZpbHRlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KShub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQuaGVsbG81eDEodXNlckFnZW50LCB0aGlzLl9zZXJ2ZXJzaWRlUm91dGluZyksIG9ic2VydmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ29uKHtcbiAgICAgICAgICAgIGF1dGhUb2tlbjogYXV0aFRva2VuLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBvbkNvbXBsZXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXRhZGF0YSksIHN0YXRlLm1ldGFkYXRhKSk7IH0sXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgZmx1c2g6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBsb2dpbiBvZiB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJnc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzLmF1dGhUb2tlbiB0aGUgYXV0aGVudGljYXRpb24gdG9rZW4uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gYXJncy5vbkVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBhcmdzLm9uQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBvbiBjb21wbGV0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXJncy5mbHVzaCB3aGV0aGVyIHRvIGZsdXNoIHRoZSBidWZmZXJlZCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmxvZ29uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlLCBvbkVycm9yID0gX2Iub25FcnJvciwgZmx1c2ggPSBfYi5mbHVzaDtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dpbk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZChudWxsLCBhdXRoVG9rZW4sIG9uQ29tcGxldGUpOyB9LFxuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmxvZ29uKGF1dGhUb2tlbiksIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGxvZ29mZiBvZiB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5vbkNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gY29tcGxldGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLmZsdXNoIHdoZXRoZXIgdG8gZmx1c2ggdGhlIGJ1ZmZlcmVkIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmVhbU9ic2VydmVyfSB0aGUgc3RyZWFtIG9ic2VydmVyIHRoYXQgbW9uaXRvcnMgdGhlIGNvcnJlc3BvbmRpbmcgc2VydmVyIHJlc3BvbnNlLlxuICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5sb2dvZmYgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlLCBvbkVycm9yID0gX2Iub25FcnJvciwgZmx1c2ggPSBfYi5mbHVzaDtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dvZmZPYnNlcnZlcih7XG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogb25Db21wbGV0ZSxcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3JcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5sb2dvZmYoKSwgb2JzZXJ2ZXIsIGZsdXNoKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NXgwXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x0_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDEudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgxLnRyYW5zZm9ybWVyLmpzPzk4MTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDBfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDAudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4MF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js\"));\nvar bolt_protocol_v5x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V5_2 = _a.BOLT_PROTOCOL_V5_2, FETCH_ALL = _a.FETCH_ALL;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"supportsReAuth\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {string} args.boltAgent The bolt agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filters.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplete)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var state = {};\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                state.metadata = metadata;\n                return _this._onLoginCompleted(metadata);\n            }\n        });\n        this.write(\n        // if useragent is null then for all versions before 5.3 it should be bolt agent by default\n        request_message_1.default.hello5x2(userAgent, notificationFilter, this._serversideRouting), observer, false);\n        return this.logon({\n            authToken: authToken,\n            onComplete: function (metadata) { return onComplete(__assign(__assign({}, metadata), state.metadata)); },\n            onError: onError,\n            flush: true\n        });\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode, impersonatedUser: impersonatedUser, notificationFilter: notificationFilter }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser,\n            notificationFilter: notificationFilter\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x1_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSwyQ0FBMkM7QUFDekw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLHNCQUFzQjtBQUNyQyxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzQ0FBc0MsZ0NBQWdDO0FBQ3BIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxREFBcUQsc0pBQXNKO0FBQzNNO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDIuanM/MzBiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3Y1eDFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDFcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4Ml90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4Mi50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgcmVxdWVzdF9tZXNzYWdlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcmVxdWVzdC1tZXNzYWdlXCIpKTtcbnZhciBzdHJlYW1fb2JzZXJ2ZXJzXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tb2JzZXJ2ZXJzXCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cywgQk9MVF9QUk9UT0NPTF9WNV8yID0gX2EuQk9MVF9QUk9UT0NPTF9WNV8yLCBGRVRDSF9BTEwgPSBfYS5GRVRDSF9BTEw7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y1XzI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NXgyX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwic3VwcG9ydHNSZUF1dGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyBUaGUgcGFyYW1zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ3MudXNlckFnZW50IFRoZSB1c2VyIGFnZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ3MuYm9sdEFnZW50IFRoZSBib2x0IGFnZW50XG4gICAgICogQHBhcmFtIHthbnl9IGFyZ3MuYXV0aFRva2VuIFRoZSBhdXRoIHRva2VuXG4gICAgICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IGFyZ3Mubm90aWZpY2F0aW9uRmlsdGVyIFRoZSBub3RpZmljYXRpb24gZmlsdGVycy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycm9yKX0gYXJncy5vbkVycm9yIE9uIGVycm9yIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihvbkNvbXBsZXRlKX0gYXJncy5vbkNvbXBsZXRlIE9uIGNvbXBsZXRlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge0xvZ2luT2JzZXJ2ZXJ9IFRoZSBMb2dpbiBvYnNlcnZlclxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdXNlckFnZW50ID0gX2IudXNlckFnZW50LCBib2x0QWdlbnQgPSBfYi5ib2x0QWdlbnQsIGF1dGhUb2tlbiA9IF9iLmF1dGhUb2tlbiwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGU7XG4gICAgICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndyaXRlKFxuICAgICAgICAvLyBpZiB1c2VyYWdlbnQgaXMgbnVsbCB0aGVuIGZvciBhbGwgdmVyc2lvbnMgYmVmb3JlIDUuMyBpdCBzaG91bGQgYmUgYm9sdCBhZ2VudCBieSBkZWZhdWx0XG4gICAgICAgIHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQuaGVsbG81eDIodXNlckFnZW50LCBub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX3NlcnZlcnNpZGVSb3V0aW5nKSwgb2JzZXJ2ZXIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nb24oe1xuICAgICAgICAgICAgYXV0aFRva2VuOiBhdXRoVG9rZW4sXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIG9uQ29tcGxldGUoX19hc3NpZ24oX19hc3NpZ24oe30sIG1ldGFkYXRhKSwgc3RhdGUubWV0YWRhdGEpKTsgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgICBmbHVzaDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuYmVnaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGVcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlKCk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5iZWdpbih7IGJvb2ttYXJrczogYm9va21hcmtzLCB0eENvbmZpZzogdHhDb25maWcsIGRhdGFiYXNlOiBkYXRhYmFzZSwgbW9kZTogbW9kZSwgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyOiBub3RpZmljYXRpb25GaWx0ZXIgfSksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAocXVlcnksIHBhcmFtZXRlcnMsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBiZWZvcmVLZXlzID0gX2IuYmVmb3JlS2V5cywgYWZ0ZXJLZXlzID0gX2IuYWZ0ZXJLZXlzLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGUsIF9jID0gX2IuZmx1c2gsIGZsdXNoID0gX2MgPT09IHZvaWQgMCA/IHRydWUgOiBfYywgX2QgPSBfYi5yZWFjdGl2ZSwgcmVhY3RpdmUgPSBfZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZCwgX2UgPSBfYi5mZXRjaFNpemUsIGZldGNoU2l6ZSA9IF9lID09PSB2b2lkIDAgPyBGRVRDSF9BTEwgOiBfZSwgX2YgPSBfYi5oaWdoUmVjb3JkV2F0ZXJtYXJrLCBoaWdoUmVjb3JkV2F0ZXJtYXJrID0gX2YgPT09IHZvaWQgMCA/IE51bWJlci5NQVhfVkFMVUUgOiBfZiwgX2cgPSBfYi5sb3dSZWNvcmRXYXRlcm1hcmssIGxvd1JlY29yZFdhdGVybWFyayA9IF9nID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2c7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUmVzdWx0U3RyZWFtT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgc2VydmVyOiB0aGlzLl9zZXJ2ZXIsXG4gICAgICAgICAgICByZWFjdGl2ZTogcmVhY3RpdmUsXG4gICAgICAgICAgICBmZXRjaFNpemU6IGZldGNoU2l6ZSxcbiAgICAgICAgICAgIG1vcmVGdW5jdGlvbjogdGhpcy5fcmVxdWVzdE1vcmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGRpc2NhcmRGdW5jdGlvbjogdGhpcy5fcmVxdWVzdERpc2NhcmQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGJlZm9yZUtleXM6IGJlZm9yZUtleXMsXG4gICAgICAgICAgICBhZnRlcktleXM6IGFmdGVyS2V5cyxcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlLFxuICAgICAgICAgICAgaGlnaFJlY29yZFdhdGVybWFyazogaGlnaFJlY29yZFdhdGVybWFyayxcbiAgICAgICAgICAgIGxvd1JlY29yZFdhdGVybWFyazogbG93UmVjb3JkV2F0ZXJtYXJrXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmx1c2hSdW4gPSByZWFjdGl2ZTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJ1bldpdGhNZXRhZGF0YShxdWVyeSwgcGFyYW1ldGVycywge1xuICAgICAgICAgICAgYm9va21hcmtzOiBib29rbWFya3MsXG4gICAgICAgICAgICB0eENvbmZpZzogdHhDb25maWcsXG4gICAgICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UsXG4gICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlcixcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkZpbHRlcjogbm90aWZpY2F0aW9uRmlsdGVyXG4gICAgICAgIH0pLCBvYnNlcnZlciwgZmx1c2hSdW4gJiYgZmx1c2gpO1xuICAgICAgICBpZiAoIXJlYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucHVsbCh7IG46IGZldGNoU2l6ZSB9KSwgb2JzZXJ2ZXIsIGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3Y1eDFfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x1_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDIudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgyLnRyYW5zZm9ybWVyLmpzP2EyMGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDFfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDEudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4MV90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js\"));\nvar bolt_protocol_v5x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_3;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filters.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplete)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var state = {};\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                state.metadata = metadata;\n                return _this._onLoginCompleted(metadata);\n            }\n        });\n        this.write(request_message_1.default.hello5x3(userAgent, boltAgent, notificationFilter, this._serversideRouting), observer, false);\n        return this.logon({\n            authToken: authToken,\n            onComplete: function (metadata) { return onComplete(__assign(__assign({}, metadata), state.metadata)); },\n            onError: onError,\n            flush: true\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x2_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSwyQ0FBMkM7QUFDekw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxLQUFLO0FBQ3BCLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsaUJBQWlCO0FBQ2hDLGVBQWUsc0JBQXNCO0FBQ3JDLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0Esd0NBQXdDLDZDQUE2QztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsc0NBQXNDLGdDQUFnQztBQUNwSDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgzLmpzPzE4NmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NXgyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgyXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDNfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDMudHJhbnNmb3JtZXJcIikpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJPTFRfUFJPVE9DT0xfVjVfMyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjVfMztcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjVfMztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInRyYW5zZm9ybWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhib2x0X3Byb3RvY29sX3Y1eDNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBzZXJ2ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzIFRoZSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXJncy51c2VyQWdlbnQgVGhlIHVzZXIgYWdlbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gYXJncy5hdXRoVG9rZW4gVGhlIGF1dGggdG9rZW5cbiAgICAgKiBAcGFyYW0ge05vdGlmaWNhdGlvbkZpbHRlcn0gYXJncy5ub3RpZmljYXRpb25GaWx0ZXIgVGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXJzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyb3IpfSBhcmdzLm9uRXJyb3IgT24gZXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG9uQ29tcGxldGUpfSBhcmdzLm9uQ29tcGxldGUgT24gY29tcGxldGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7TG9naW5PYnNlcnZlcn0gVGhlIExvZ2luIG9ic2VydmVyXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCB1c2VyQWdlbnQgPSBfYi51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9iLmJvbHRBZ2VudCwgYXV0aFRva2VuID0gX2IuYXV0aFRva2VuLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZTtcbiAgICAgICAgdmFyIHN0YXRlID0ge307XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9naW5PYnNlcnZlcih7XG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luRXJyb3IoZXJyb3IsIG9uRXJyb3IpOyB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9vbkxvZ2luQ29tcGxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5oZWxsbzV4Myh1c2VyQWdlbnQsIGJvbHRBZ2VudCwgbm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9zZXJ2ZXJzaWRlUm91dGluZyksIG9ic2VydmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ29uKHtcbiAgICAgICAgICAgIGF1dGhUb2tlbjogYXV0aFRva2VuLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBvbkNvbXBsZXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXRhZGF0YSksIHN0YXRlLm1ldGFkYXRhKSk7IH0sXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgZmx1c2g6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3Y1eDJfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x2_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDMudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgzLnRyYW5zZm9ybWVyLmpzPzJiOTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDJfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDIudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4Ml90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js\"));\nvar bolt_protocol_v5x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_4 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_4;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x4_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send a TELEMETRY through the underlying connection.\n     *\n     * @param {object} param0 Message params\n     * @param {number} param0.api The API called\n     * @param {object} param1 Configuration and callbacks callbacks\n     * @param {function()} param1.onCompleted Called when completed\n     * @param {function()} param1.onError Called when error\n     * @return {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.telemetry = function (_a, _b) {\n        var api = _a.api;\n        var _c = _b === void 0 ? {} : _b, onError = _c.onError, onCompleted = _c.onCompleted;\n        var observer = new stream_observers_1.TelemetryObserver({ onCompleted: onCompleted, onError: onError });\n        this.write(request_message_1.default.telemetry({ api: api }), observer, false);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x3_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcsd0NBQXdDLG1CQUFPLENBQUMsd0dBQW1CO0FBQ25FLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFlBQVk7QUFDM0IsZUFBZSxZQUFZO0FBQzNCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLGtFQUFrRSw0Q0FBNEM7QUFDOUcseURBQXlELFVBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4NC5qcz8wNjJjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NXgzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgzXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDRfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDQudHJhbnNmb3JtZXJcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJPTFRfUFJPVE9DT0xfVjVfNCA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjVfNDtcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjVfNDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInRyYW5zZm9ybWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhib2x0X3Byb3RvY29sX3Y1eDRfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgVEVMRU1FVFJZIHRocm91Z2ggdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbTAgTWVzc2FnZSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFyYW0wLmFwaSBUaGUgQVBJIGNhbGxlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbTEgQ29uZmlndXJhdGlvbiBhbmQgY2FsbGJhY2tzIGNhbGxiYWNrc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0xLm9uQ29tcGxldGVkIENhbGxlZCB3aGVuIGNvbXBsZXRlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0xLm9uRXJyb3IgQ2FsbGVkIHdoZW4gZXJyb3JcbiAgICAgKiBAcmV0dXJuIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnRlbGVtZXRyeSA9IGZ1bmN0aW9uIChfYSwgX2IpIHtcbiAgICAgICAgdmFyIGFwaSA9IF9hLmFwaTtcbiAgICAgICAgdmFyIF9jID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2IsIG9uRXJyb3IgPSBfYy5vbkVycm9yLCBvbkNvbXBsZXRlZCA9IF9jLm9uQ29tcGxldGVkO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlRlbGVtZXRyeU9ic2VydmVyKHsgb25Db21wbGV0ZWQ6IG9uQ29tcGxldGVkLCBvbkVycm9yOiBvbkVycm9yIH0pO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQudGVsZW1ldHJ5KHsgYXBpOiBhcGkgfSksIG9ic2VydmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjV4M18xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x3_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDQudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXg0LnRyYW5zZm9ybWVyLmpzPzVjMzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDNfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDMudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4M190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x4_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x4 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js\"));\nvar bolt_protocol_v5x5_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x5.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V5_5 = _a.BOLT_PROTOCOL_V5_5, FETCH_ALL = _a.FETCH_ALL;\nvar DEFAULT_DIAGNOSTIC_RECORD = Object.freeze({\n    OPERATION: '',\n    OPERATION_CODE: '0',\n    CURRENT_SCHEMA: '/'\n});\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_5;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x5_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filters.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplete)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var state = {};\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                state.metadata = metadata;\n                return _this._onLoginCompleted(metadata);\n            }\n        });\n        this.write(request_message_1.default.hello5x5(userAgent, boltAgent, notificationFilter, this._serversideRouting), observer, false);\n        return this.logon({\n            authToken: authToken,\n            onComplete: function (metadata) { return onComplete(__assign(__assign({}, metadata), state.metadata)); },\n            onError: onError,\n            flush: true\n        });\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.begin5x5({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode, impersonatedUser: impersonatedUser, notificationFilter: notificationFilter }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark,\n            enrichMetadata: this._enrichMetadata\n        });\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata5x5(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser,\n            notificationFilter: notificationFilter\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    /**\n     *\n     * @param {object} metadata\n     * @returns {object}\n     */\n    BoltProtocol.prototype._enrichMetadata = function (metadata) {\n        if (Array.isArray(metadata.statuses)) {\n            metadata.statuses = metadata.statuses.map(function (status) { return (__assign(__assign({}, status), { description: status.neo4j_code != null ? status.status_description : status.description, diagnostic_record: status.diagnostic_record !== null ? __assign(__assign({}, DEFAULT_DIAGNOSTIC_RECORD), status.diagnostic_record) : null })); });\n        }\n        return metadata;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x4_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSwyQ0FBMkM7QUFDekw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxLQUFLO0FBQ3BCLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsaUJBQWlCO0FBQ2hDLGVBQWUsc0JBQXNCO0FBQ3JDLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0Esd0NBQXdDLDZDQUE2QztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsc0NBQXNDLGdDQUFnQztBQUNwSDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0RBQXdELHNKQUFzSjtBQUM5TTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsNEJBQTRCLGFBQWEsb0tBQW9LLGdFQUFnRSxLQUFLO0FBQzVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4NS5qcz85NGExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4NF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4NFwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXg1X3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXg1LnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBCT0xUX1BST1RPQ09MX1Y1XzUgPSBfYS5CT0xUX1BST1RPQ09MX1Y1XzUsIEZFVENIX0FMTCA9IF9hLkZFVENIX0FMTDtcbnZhciBERUZBVUxUX0RJQUdOT1NUSUNfUkVDT1JEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgT1BFUkFUSU9OOiAnJyxcbiAgICBPUEVSQVRJT05fQ09ERTogJzAnLFxuICAgIENVUlJFTlRfU0NIRU1BOiAnLydcbn0pO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNV81O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjV4NV90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBjb25uZWN0aW9uIHdpdGggdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgVGhlIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdzLnVzZXJBZ2VudCBUaGUgdXNlciBhZ2VudFxuICAgICAqIEBwYXJhbSB7YW55fSBhcmdzLmF1dGhUb2tlbiBUaGUgYXV0aCB0b2tlblxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBhcmdzLm5vdGlmaWNhdGlvbkZpbHRlciBUaGUgbm90aWZpY2F0aW9uIGZpbHRlcnMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnJvcil9IGFyZ3Mub25FcnJvciBPbiBlcnJvciBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24ob25Db21wbGV0ZSl9IGFyZ3Mub25Db21wbGV0ZSBPbiBjb21wbGV0ZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtMb2dpbk9ic2VydmVyfSBUaGUgTG9naW4gb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHVzZXJBZ2VudCA9IF9iLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2IuYm9sdEFnZW50LCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dpbk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuX29uTG9naW5FcnJvcihlcnJvciwgb25FcnJvcik7IH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX29uTG9naW5Db21wbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmhlbGxvNXg1KHVzZXJBZ2VudCwgYm9sdEFnZW50LCBub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX3NlcnZlcnNpZGVSb3V0aW5nKSwgb2JzZXJ2ZXIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nb24oe1xuICAgICAgICAgICAgYXV0aFRva2VuOiBhdXRoVG9rZW4sXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIG9uQ29tcGxldGUoX19hc3NpZ24oX19hc3NpZ24oe30sIG1ldGFkYXRhKSwgc3RhdGUubWV0YWRhdGEpKTsgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgICBmbHVzaDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuYmVnaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGVcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlKCk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5iZWdpbjV4NSh7IGJvb2ttYXJrczogYm9va21hcmtzLCB0eENvbmZpZzogdHhDb25maWcsIGRhdGFiYXNlOiBkYXRhYmFzZSwgbW9kZTogbW9kZSwgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyOiBub3RpZmljYXRpb25GaWx0ZXIgfSksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAocXVlcnksIHBhcmFtZXRlcnMsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBiZWZvcmVLZXlzID0gX2IuYmVmb3JlS2V5cywgYWZ0ZXJLZXlzID0gX2IuYWZ0ZXJLZXlzLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGUsIF9jID0gX2IuZmx1c2gsIGZsdXNoID0gX2MgPT09IHZvaWQgMCA/IHRydWUgOiBfYywgX2QgPSBfYi5yZWFjdGl2ZSwgcmVhY3RpdmUgPSBfZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZCwgX2UgPSBfYi5mZXRjaFNpemUsIGZldGNoU2l6ZSA9IF9lID09PSB2b2lkIDAgPyBGRVRDSF9BTEwgOiBfZSwgX2YgPSBfYi5oaWdoUmVjb3JkV2F0ZXJtYXJrLCBoaWdoUmVjb3JkV2F0ZXJtYXJrID0gX2YgPT09IHZvaWQgMCA/IE51bWJlci5NQVhfVkFMVUUgOiBfZiwgX2cgPSBfYi5sb3dSZWNvcmRXYXRlcm1hcmssIGxvd1JlY29yZFdhdGVybWFyayA9IF9nID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2c7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUmVzdWx0U3RyZWFtT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgc2VydmVyOiB0aGlzLl9zZXJ2ZXIsXG4gICAgICAgICAgICByZWFjdGl2ZTogcmVhY3RpdmUsXG4gICAgICAgICAgICBmZXRjaFNpemU6IGZldGNoU2l6ZSxcbiAgICAgICAgICAgIG1vcmVGdW5jdGlvbjogdGhpcy5fcmVxdWVzdE1vcmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGRpc2NhcmRGdW5jdGlvbjogdGhpcy5fcmVxdWVzdERpc2NhcmQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGJlZm9yZUtleXM6IGJlZm9yZUtleXMsXG4gICAgICAgICAgICBhZnRlcktleXM6IGFmdGVyS2V5cyxcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlLFxuICAgICAgICAgICAgaGlnaFJlY29yZFdhdGVybWFyazogaGlnaFJlY29yZFdhdGVybWFyayxcbiAgICAgICAgICAgIGxvd1JlY29yZFdhdGVybWFyazogbG93UmVjb3JkV2F0ZXJtYXJrLFxuICAgICAgICAgICAgZW5yaWNoTWV0YWRhdGE6IHRoaXMuX2VucmljaE1ldGFkYXRhXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmx1c2hSdW4gPSByZWFjdGl2ZTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJ1bldpdGhNZXRhZGF0YTV4NShxdWVyeSwgcGFyYW1ldGVycywge1xuICAgICAgICAgICAgYm9va21hcmtzOiBib29rbWFya3MsXG4gICAgICAgICAgICB0eENvbmZpZzogdHhDb25maWcsXG4gICAgICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UsXG4gICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlcixcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkZpbHRlcjogbm90aWZpY2F0aW9uRmlsdGVyXG4gICAgICAgIH0pLCBvYnNlcnZlciwgZmx1c2hSdW4gJiYgZmx1c2gpO1xuICAgICAgICBpZiAoIXJlYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucHVsbCh7IG46IGZldGNoU2l6ZSB9KSwgb2JzZXJ2ZXIsIGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtZXRhZGF0YVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5fZW5yaWNoTWV0YWRhdGEgPSBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWV0YWRhdGEuc3RhdHVzZXMpKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5zdGF0dXNlcyA9IG1ldGFkYXRhLnN0YXR1c2VzLm1hcChmdW5jdGlvbiAoc3RhdHVzKSB7IHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXR1cyksIHsgZGVzY3JpcHRpb246IHN0YXR1cy5uZW80al9jb2RlICE9IG51bGwgPyBzdGF0dXMuc3RhdHVzX2Rlc2NyaXB0aW9uIDogc3RhdHVzLmRlc2NyaXB0aW9uLCBkaWFnbm9zdGljX3JlY29yZDogc3RhdHVzLmRpYWdub3N0aWNfcmVjb3JkICE9PSBudWxsID8gX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfRElBR05PU1RJQ19SRUNPUkQpLCBzdGF0dXMuZGlhZ25vc3RpY19yZWNvcmQpIDogbnVsbCB9KSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjV4NF8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x4_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDUudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXg1LnRyYW5zZm9ybWVyLmpzPzgxMzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDRfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDQudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4NF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x5_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x5 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.js\"));\nvar bolt_protocol_v5x6_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x6.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_6 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_6;\nvar DEFAULT_DIAGNOSTIC_RECORD = Object.freeze({\n    OPERATION: '',\n    OPERATION_CODE: '0',\n    CURRENT_SCHEMA: '/'\n});\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_6;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x6_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     *\n     * @param {object} metadata\n     * @returns {object}\n     */\n    BoltProtocol.prototype._enrichMetadata = function (metadata) {\n        if (Array.isArray(metadata.statuses)) {\n            metadata.statuses = metadata.statuses.map(function (status) { return (__assign(__assign({}, status), { diagnostic_record: status.diagnostic_record !== null ? __assign(__assign({}, DEFAULT_DIAGNOSTIC_RECORD), status.diagnostic_record) : null })); });\n        }\n        return metadata;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x5_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDYuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsNEJBQTRCLGFBQWEsMkVBQTJFLGdFQUFnRSxLQUFLO0FBQ25RO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4Ni5qcz8wNzQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4NV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4NVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXg2X3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXg2LnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJPTFRfUFJPVE9DT0xfVjVfNiA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjVfNjtcbnZhciBERUZBVUxUX0RJQUdOT1NUSUNfUkVDT1JEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgT1BFUkFUSU9OOiAnJyxcbiAgICBPUEVSQVRJT05fQ09ERTogJzAnLFxuICAgIENVUlJFTlRfU0NIRU1BOiAnLydcbn0pO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNV82O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjV4Nl90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9lbnJpY2hNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhZGF0YS5zdGF0dXNlcykpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLnN0YXR1c2VzID0gbWV0YWRhdGEuc3RhdHVzZXMubWFwKGZ1bmN0aW9uIChzdGF0dXMpIHsgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhdHVzKSwgeyBkaWFnbm9zdGljX3JlY29yZDogc3RhdHVzLmRpYWdub3N0aWNfcmVjb3JkICE9PSBudWxsID8gX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfRElBR05PU1RJQ19SRUNPUkQpLCBzdGF0dXMuZGlhZ25vc3RpY19yZWNvcmQpIDogbnVsbCB9KSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjV4NV8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x5_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x5.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x5_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDYudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXg2LnRyYW5zZm9ybWVyLmpzP2E1NDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDVfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDUudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4NV90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x6_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x6 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.js\"));\nvar bolt_protocol_v5x7_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x7.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_7 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_7;\nvar DEFAULT_DIAGNOSTIC_RECORD = Object.freeze({\n    OPERATION: '',\n    OPERATION_CODE: '0',\n    CURRENT_SCHEMA: '/'\n});\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_7;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x7_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     *\n     * @param {object} metadata\n     * @returns {object}\n     */\n    BoltProtocol.prototype.enrichErrorMetadata = function (metadata) {\n        return __assign(__assign({}, metadata), { cause: (metadata.cause !== null && metadata.cause !== undefined) ? this.enrichErrorMetadata(metadata.cause) : null, code: metadata.neo4j_code, diagnostic_record: metadata.diagnostic_record !== null ? __assign(__assign({}, DEFAULT_DIAGNOSTIC_RECORD), metadata.diagnostic_record) : null });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x6_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsbUNBQW1DLGVBQWUsNE5BQTROLGtFQUFrRTtBQUNoVjtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4Ny5qcz9hZjJlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4Nl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4NlwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXg3X3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXg3LnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJPTFRfUFJPVE9DT0xfVjVfNyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjVfNztcbnZhciBERUZBVUxUX0RJQUdOT1NUSUNfUkVDT1JEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgT1BFUkFUSU9OOiAnJyxcbiAgICBPUEVSQVRJT05fQ09ERTogJzAnLFxuICAgIENVUlJFTlRfU0NIRU1BOiAnLydcbn0pO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNV83O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjV4N190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmVucmljaEVycm9yTWV0YWRhdGEgPSBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXRhZGF0YSksIHsgY2F1c2U6IChtZXRhZGF0YS5jYXVzZSAhPT0gbnVsbCAmJiBtZXRhZGF0YS5jYXVzZSAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuZW5yaWNoRXJyb3JNZXRhZGF0YShtZXRhZGF0YS5jYXVzZSkgOiBudWxsLCBjb2RlOiBtZXRhZGF0YS5uZW80al9jb2RlLCBkaWFnbm9zdGljX3JlY29yZDogbWV0YWRhdGEuZGlhZ25vc3RpY19yZWNvcmQgIT09IG51bGwgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9ESUFHTk9TVElDX1JFQ09SRCksIG1ldGFkYXRhLmRpYWdub3N0aWNfcmVjb3JkKSA6IG51bGwgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3Y1eDZfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x6_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x6.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x6_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDcudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXg3LnRyYW5zZm9ybWVyLmpzP2JhNmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDZfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDYudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4Nl90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x7_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x7 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.js\"));\nvar bolt_protocol_v5x8_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x8.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V5_8 = _a.BOLT_PROTOCOL_V5_8, FETCH_ALL = _a.FETCH_ALL;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x8_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g, onDb = _b.onDb;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark,\n            enrichMetadata: this._enrichMetadata,\n            onDb: onDb\n        });\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata5x5(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser,\n            notificationFilter: notificationFilter\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x7_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0Qsd0NBQXdDLG1CQUFPLENBQUMsd0dBQW1CO0FBQ25FLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXg4LmpzP2RjYmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3Y1eDdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDdcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4OF90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4OC50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgcmVxdWVzdF9tZXNzYWdlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcmVxdWVzdC1tZXNzYWdlXCIpKTtcbnZhciBzdHJlYW1fb2JzZXJ2ZXJzXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tb2JzZXJ2ZXJzXCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cywgQk9MVF9QUk9UT0NPTF9WNV84ID0gX2EuQk9MVF9QUk9UT0NPTF9WNV84LCBGRVRDSF9BTEwgPSBfYS5GRVRDSF9BTEw7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y1Xzg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NXg4X3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAocXVlcnksIHBhcmFtZXRlcnMsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBiZWZvcmVLZXlzID0gX2IuYmVmb3JlS2V5cywgYWZ0ZXJLZXlzID0gX2IuYWZ0ZXJLZXlzLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGUsIF9jID0gX2IuZmx1c2gsIGZsdXNoID0gX2MgPT09IHZvaWQgMCA/IHRydWUgOiBfYywgX2QgPSBfYi5yZWFjdGl2ZSwgcmVhY3RpdmUgPSBfZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZCwgX2UgPSBfYi5mZXRjaFNpemUsIGZldGNoU2l6ZSA9IF9lID09PSB2b2lkIDAgPyBGRVRDSF9BTEwgOiBfZSwgX2YgPSBfYi5oaWdoUmVjb3JkV2F0ZXJtYXJrLCBoaWdoUmVjb3JkV2F0ZXJtYXJrID0gX2YgPT09IHZvaWQgMCA/IE51bWJlci5NQVhfVkFMVUUgOiBfZiwgX2cgPSBfYi5sb3dSZWNvcmRXYXRlcm1hcmssIGxvd1JlY29yZFdhdGVybWFyayA9IF9nID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2csIG9uRGIgPSBfYi5vbkRiO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgcmVhY3RpdmU6IHJlYWN0aXZlLFxuICAgICAgICAgICAgZmV0Y2hTaXplOiBmZXRjaFNpemUsXG4gICAgICAgICAgICBtb3JlRnVuY3Rpb246IHRoaXMuX3JlcXVlc3RNb3JlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBkaXNjYXJkRnVuY3Rpb246IHRoaXMuX3JlcXVlc3REaXNjYXJkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBiZWZvcmVLZXlzOiBiZWZvcmVLZXlzLFxuICAgICAgICAgICAgYWZ0ZXJLZXlzOiBhZnRlcktleXMsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZSxcbiAgICAgICAgICAgIGhpZ2hSZWNvcmRXYXRlcm1hcms6IGhpZ2hSZWNvcmRXYXRlcm1hcmssXG4gICAgICAgICAgICBsb3dSZWNvcmRXYXRlcm1hcms6IGxvd1JlY29yZFdhdGVybWFyayxcbiAgICAgICAgICAgIGVucmljaE1ldGFkYXRhOiB0aGlzLl9lbnJpY2hNZXRhZGF0YSxcbiAgICAgICAgICAgIG9uRGI6IG9uRGJcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBmbHVzaFJ1biA9IHJlYWN0aXZlO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucnVuV2l0aE1ldGFkYXRhNXg1KHF1ZXJ5LCBwYXJhbWV0ZXJzLCB7XG4gICAgICAgICAgICBib29rbWFya3M6IGJvb2ttYXJrcyxcbiAgICAgICAgICAgIHR4Q29uZmlnOiB0eENvbmZpZyxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBkYXRhYmFzZSxcbiAgICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgICBpbXBlcnNvbmF0ZWRVc2VyOiBpbXBlcnNvbmF0ZWRVc2VyLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uRmlsdGVyOiBub3RpZmljYXRpb25GaWx0ZXJcbiAgICAgICAgfSksIG9ic2VydmVyLCBmbHVzaFJ1biAmJiBmbHVzaCk7XG4gICAgICAgIGlmICghcmVhY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5wdWxsKHsgbjogZmV0Y2hTaXplIH0pLCBvYnNlcnZlciwgZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjV4N18xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x7_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x7.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x7_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDgudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXg4LnRyYW5zZm9ybWVyLmpzP2I1YzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDdfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDcudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjV4N190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js":
/*!**********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js\"));\nvar bolt_protocol_v2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js\"));\nvar bolt_protocol_v3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js\"));\nvar bolt_protocol_v4x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js\"));\nvar bolt_protocol_v4x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js\"));\nvar bolt_protocol_v4x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js\"));\nvar bolt_protocol_v4x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\"));\nvar bolt_protocol_v4x4_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js\"));\nvar bolt_protocol_v5x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js\"));\nvar bolt_protocol_v5x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js\"));\nvar bolt_protocol_v5x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js\"));\nvar bolt_protocol_v5x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js\"));\nvar bolt_protocol_v5x4_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x4 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js\"));\nvar bolt_protocol_v5x5_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x5 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x5.js\"));\nvar bolt_protocol_v5x6_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x6 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x6.js\"));\nvar bolt_protocol_v5x7_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x7 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x7.js\"));\nvar bolt_protocol_v5x8_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x8 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x8.js\"));\n// eslint-disable-next-line no-unused-vars\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar response_handler_1 = __importDefault(__webpack_require__(/*! ./response-handler */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js\"));\n/**\n * Creates a protocol with a given version\n *\n * @param {object} config\n * @param {number} config.version The version of the protocol\n * @param {channel} config.channel The channel\n * @param {Chunker} config.chunker The chunker\n * @param {Dechunker} config.dechunker The dechunker\n * @param {Logger} config.log The logger\n * @param {ResponseHandler~Observer} config.observer Observer\n * @param {boolean} config.disableLosslessIntegers Disable the lossless integers\n * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n * @param {boolean} config.serversideRouting It's using server side routing\n */\nfunction create(_a) {\n    var _b = _a === void 0 ? {} : _a, version = _b.version, chunker = _b.chunker, dechunker = _b.dechunker, channel = _b.channel, disableLosslessIntegers = _b.disableLosslessIntegers, useBigInt = _b.useBigInt, serversideRouting = _b.serversideRouting, server = _b.server, // server info\n    log = _b.log, observer = _b.observer;\n    var createResponseHandler = function (protocol) {\n        var responseHandler = new response_handler_1.default({\n            transformMetadata: protocol.transformMetadata.bind(protocol),\n            enrichErrorMetadata: protocol.enrichErrorMetadata.bind(protocol),\n            log: log,\n            observer: observer\n        });\n        // reset the error handler to just handle errors and forget about the handshake promise\n        channel.onerror = observer.onError.bind(observer);\n        // Ok, protocol running. Simply forward all messages to the dechunker\n        channel.onmessage = function (buf) { return dechunker.write(buf); };\n        // setup dechunker to dechunk messages and forward them to the message handler\n        dechunker.onmessage = function (buf) {\n            try {\n                responseHandler.handleResponse(protocol.unpack(buf));\n            }\n            catch (e) {\n                return observer.onError(e);\n            }\n        };\n        return responseHandler;\n    };\n    return createProtocol(version, server, chunker, { disableLosslessIntegers: disableLosslessIntegers, useBigInt: useBigInt }, serversideRouting, createResponseHandler, observer.onProtocolError.bind(observer), log);\n}\nexports[\"default\"] = create;\nfunction createProtocol(version, server, chunker, packingConfig, serversideRouting, createResponseHandler, onProtocolError, log) {\n    switch (version) {\n        case 1:\n            return new bolt_protocol_v1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 2:\n            return new bolt_protocol_v2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 3:\n            return new bolt_protocol_v3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 4.0:\n            return new bolt_protocol_v4x0_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 4.1:\n            return new bolt_protocol_v4x1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.2:\n            return new bolt_protocol_v4x2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.3:\n            return new bolt_protocol_v4x3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.4:\n            return new bolt_protocol_v4x4_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.0:\n            return new bolt_protocol_v5x0_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.1:\n            return new bolt_protocol_v5x1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.2:\n            return new bolt_protocol_v5x2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.3:\n            return new bolt_protocol_v5x3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.4:\n            return new bolt_protocol_v5x4_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.5:\n            return new bolt_protocol_v5x5_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.6:\n            return new bolt_protocol_v5x6_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.7:\n            return new bolt_protocol_v5x7_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.8:\n            return new bolt_protocol_v5x8_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        default:\n            throw (0, neo4j_driver_core_1.newError)('Unknown Bolt protocol version: ' + version);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9jcmVhdGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCx5Q0FBeUMsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckUseUNBQXlDLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JFLHlDQUF5QyxtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsMEZBQVk7QUFDcEMseUNBQXlDLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsMEJBQTBCO0FBQ3JDLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsd0VBQXdFO0FBQzlIO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9jcmVhdGUuanM/NDAzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBib2x0X3Byb3RvY29sX3YxXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12MVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92Ml8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjJcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYzXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDBfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDBcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4MV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4MVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NHgyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgyXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDNcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4NF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4NFwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgwXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgwXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDFcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4Ml8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4MlwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgzXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDRcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4NV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4NVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXg2XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXg2XCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDdcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4OF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4OFwiKSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBjaGFubmVsXzEgPSByZXF1aXJlKFwiLi4vY2hhbm5lbFwiKTtcbnZhciByZXNwb25zZV9oYW5kbGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcmVzcG9uc2UtaGFuZGxlclwiKSk7XG4vKipcbiAqIENyZWF0ZXMgYSBwcm90b2NvbCB3aXRoIGEgZ2l2ZW4gdmVyc2lvblxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25maWcudmVyc2lvbiBUaGUgdmVyc2lvbiBvZiB0aGUgcHJvdG9jb2xcbiAqIEBwYXJhbSB7Y2hhbm5lbH0gY29uZmlnLmNoYW5uZWwgVGhlIGNoYW5uZWxcbiAqIEBwYXJhbSB7Q2h1bmtlcn0gY29uZmlnLmNodW5rZXIgVGhlIGNodW5rZXJcbiAqIEBwYXJhbSB7RGVjaHVua2VyfSBjb25maWcuZGVjaHVua2VyIFRoZSBkZWNodW5rZXJcbiAqIEBwYXJhbSB7TG9nZ2VyfSBjb25maWcubG9nIFRoZSBsb2dnZXJcbiAqIEBwYXJhbSB7UmVzcG9uc2VIYW5kbGVyfk9ic2VydmVyfSBjb25maWcub2JzZXJ2ZXIgT2JzZXJ2ZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY29uZmlnLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzIERpc2FibGUgdGhlIGxvc3NsZXNzIGludGVnZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhY2tzdHJlYW1Db25maWcudXNlQmlnSW50IGlmIHRoaXMgY29ubmVjdGlvbiBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEJpZ0ludCBudW1iZXJzLlxuICogQHBhcmFtIHtib29sZWFufSBjb25maWcuc2VydmVyc2lkZVJvdXRpbmcgSXQncyB1c2luZyBzZXJ2ZXIgc2lkZSByb3V0aW5nXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZShfYSkge1xuICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCB2ZXJzaW9uID0gX2IudmVyc2lvbiwgY2h1bmtlciA9IF9iLmNodW5rZXIsIGRlY2h1bmtlciA9IF9iLmRlY2h1bmtlciwgY2hhbm5lbCA9IF9iLmNoYW5uZWwsIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gX2IuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCA9IF9iLnVzZUJpZ0ludCwgc2VydmVyc2lkZVJvdXRpbmcgPSBfYi5zZXJ2ZXJzaWRlUm91dGluZywgc2VydmVyID0gX2Iuc2VydmVyLCAvLyBzZXJ2ZXIgaW5mb1xuICAgIGxvZyA9IF9iLmxvZywgb2JzZXJ2ZXIgPSBfYi5vYnNlcnZlcjtcbiAgICB2YXIgY3JlYXRlUmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKHByb3RvY29sKSB7XG4gICAgICAgIHZhciByZXNwb25zZUhhbmRsZXIgPSBuZXcgcmVzcG9uc2VfaGFuZGxlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgdHJhbnNmb3JtTWV0YWRhdGE6IHByb3RvY29sLnRyYW5zZm9ybU1ldGFkYXRhLmJpbmQocHJvdG9jb2wpLFxuICAgICAgICAgICAgZW5yaWNoRXJyb3JNZXRhZGF0YTogcHJvdG9jb2wuZW5yaWNoRXJyb3JNZXRhZGF0YS5iaW5kKHByb3RvY29sKSxcbiAgICAgICAgICAgIGxvZzogbG9nLFxuICAgICAgICAgICAgb2JzZXJ2ZXI6IG9ic2VydmVyXG4gICAgICAgIH0pO1xuICAgICAgICAvLyByZXNldCB0aGUgZXJyb3IgaGFuZGxlciB0byBqdXN0IGhhbmRsZSBlcnJvcnMgYW5kIGZvcmdldCBhYm91dCB0aGUgaGFuZHNoYWtlIHByb21pc2VcbiAgICAgICAgY2hhbm5lbC5vbmVycm9yID0gb2JzZXJ2ZXIub25FcnJvci5iaW5kKG9ic2VydmVyKTtcbiAgICAgICAgLy8gT2ssIHByb3RvY29sIHJ1bm5pbmcuIFNpbXBseSBmb3J3YXJkIGFsbCBtZXNzYWdlcyB0byB0aGUgZGVjaHVua2VyXG4gICAgICAgIGNoYW5uZWwub25tZXNzYWdlID0gZnVuY3Rpb24gKGJ1ZikgeyByZXR1cm4gZGVjaHVua2VyLndyaXRlKGJ1Zik7IH07XG4gICAgICAgIC8vIHNldHVwIGRlY2h1bmtlciB0byBkZWNodW5rIG1lc3NhZ2VzIGFuZCBmb3J3YXJkIHRoZW0gdG8gdGhlIG1lc3NhZ2UgaGFuZGxlclxuICAgICAgICBkZWNodW5rZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXNwb25zZUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UocHJvdG9jb2wudW5wYWNrKGJ1ZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIub25FcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlSGFuZGxlcjtcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVQcm90b2NvbCh2ZXJzaW9uLCBzZXJ2ZXIsIGNodW5rZXIsIHsgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnM6IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQ6IHVzZUJpZ0ludCB9LCBzZXJ2ZXJzaWRlUm91dGluZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBvYnNlcnZlci5vblByb3RvY29sRXJyb3IuYmluZChvYnNlcnZlciksIGxvZyk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGU7XG5mdW5jdGlvbiBjcmVhdGVQcm90b2NvbCh2ZXJzaW9uLCBzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIHNlcnZlcnNpZGVSb3V0aW5nLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIG9uUHJvdG9jb2xFcnJvciwgbG9nKSB7XG4gICAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92MV8xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yKTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3YyXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IpO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjNfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvcik7XG4gICAgICAgIGNhc2UgNC4wOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y0eDBfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvcik7XG4gICAgICAgIGNhc2UgNC4xOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y0eDFfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBjYXNlIDQuMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92NHgyXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKTtcbiAgICAgICAgY2FzZSA0LjM6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjR4M18xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yLCBzZXJ2ZXJzaWRlUm91dGluZyk7XG4gICAgICAgIGNhc2UgNC40OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y0eDRfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBjYXNlIDUuMDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92NXgwXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKTtcbiAgICAgICAgY2FzZSA1LjE6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjV4MV8xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yLCBzZXJ2ZXJzaWRlUm91dGluZyk7XG4gICAgICAgIGNhc2UgNS4yOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y1eDJfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBjYXNlIDUuMzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92NXgzXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKTtcbiAgICAgICAgY2FzZSA1LjQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjV4NF8xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yLCBzZXJ2ZXJzaWRlUm91dGluZyk7XG4gICAgICAgIGNhc2UgNS41OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y1eDVfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBjYXNlIDUuNjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92NXg2XzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKTtcbiAgICAgICAgY2FzZSA1Ljc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjV4N18xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yLCBzZXJ2ZXJzaWRlUm91dGluZyk7XG4gICAgICAgIGNhc2UgNS44OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y1eDhfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdVbmtub3duIEJvbHQgcHJvdG9jb2wgdmVyc2lvbjogJyArIHZlcnNpb24pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js":
/*!*************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_MAGIC_PREAMBLE = 0x6060b017;\nvar AVAILABLE_BOLT_PROTOCOLS = ['5.8', '5.7', '5.6', '5.4', '5.3', '5.2', '5.1', '5.0', '4.4', '4.3', '4.2', '3.0']; // bolt protocols the client will accept, ordered by preference\nvar DESIRED_CAPABILITES = 0;\nfunction version(major, minor) {\n    return {\n        major: major,\n        minor: minor\n    };\n}\nfunction createHandshakeMessage(versions) {\n    if (versions.length > 4) {\n        throw (0, neo4j_driver_core_1.newError)('It should not have more than 4 versions of the protocol');\n    }\n    var handshakeBuffer = (0, channel_1.alloc)(5 * 4);\n    handshakeBuffer.writeInt32(BOLT_MAGIC_PREAMBLE);\n    versions.forEach(function (version) {\n        if (version instanceof Array) {\n            var _a = version[0], major = _a.major, minor = _a.minor;\n            var minMinor = version[1].minor;\n            var range = minor - minMinor;\n            handshakeBuffer.writeInt32((range << 16) | (minor << 8) | major);\n        }\n        else {\n            var major = version.major, minor = version.minor;\n            handshakeBuffer.writeInt32((minor << 8) | major);\n        }\n    });\n    handshakeBuffer.reset();\n    return handshakeBuffer;\n}\nfunction parseNegotiatedResponse(buffer, log) {\n    var h = [\n        buffer.readUInt8(),\n        buffer.readUInt8(),\n        buffer.readUInt8(),\n        buffer.readUInt8()\n    ];\n    if (h[0] === 0x48 && h[1] === 0x54 && h[2] === 0x54 && h[3] === 0x50) {\n        log.error('Handshake failed since server responded with HTTP.');\n        throw (0, neo4j_driver_core_1.newError)('Server responded HTTP. Make sure you are not trying to connect to the http endpoint ' +\n            '(HTTP defaults to port 7474 whereas BOLT defaults to port 7687)');\n    }\n    return Number(h[3] + '.' + h[2]);\n}\nfunction handshakeNegotiationV2(channel, buffer, log) {\n    var numVersions = buffer.readVarInt();\n    var versions = [];\n    for (var i = 0; i < numVersions; i++) {\n        var versionRange = [\n            buffer.readUInt8(),\n            buffer.readUInt8(),\n            buffer.readUInt8(),\n            buffer.readUInt8()\n        ];\n        versions = versions.concat(getVersions(versionRange));\n    }\n    var capabilityBitMask = buffer.readVarInt();\n    var capabilites = selectCapabilites(capabilityBitMask);\n    var major = 0;\n    var minor = 0;\n    versions.sort(function (a, b) {\n        if (Number(a.major) !== Number(b.major)) {\n            return Number(b.major) - Number(a.major);\n        }\n        else {\n            return Number(b.minor) - Number(a.minor);\n        }\n    });\n    for (var i = 0; i < versions.length; i++) {\n        var version_1 = versions[i];\n        if (AVAILABLE_BOLT_PROTOCOLS.includes(version_1.major + '.' + version_1.minor)) {\n            major = version_1.major;\n            minor = version_1.minor;\n            break;\n        }\n    }\n    return new Promise(function (resolve, reject) {\n        try {\n            var selectionBuffer = (0, channel_1.alloc)(5);\n            selectionBuffer.writeInt32((minor << 8) | major);\n            selectionBuffer.writeVarInt(capabilites);\n            channel.write(selectionBuffer);\n            resolve({\n                protocolVersion: Number(major + '.' + minor),\n                capabilites: capabilites,\n                consumeRemainingBuffer: function (consumer) {\n                    if (buffer.hasRemaining()) {\n                        consumer(buffer.readSlice(buffer.remaining()));\n                    }\n                }\n            });\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n}\n/**\n * @return {BaseBuffer}\n * @private\n */\nfunction newHandshakeBuffer() {\n    return createHandshakeMessage([\n        version(255, 1),\n        [version(5, 8), version(5, 0)],\n        [version(4, 4), version(4, 2)],\n        version(3, 0)\n    ]);\n}\n/**\n * This callback is displayed as a global member.\n * @callback BufferConsumerCallback\n * @param {buffer} buffer the remaining buffer\n */\n/**\n * @typedef HandshakeResult\n * @property {number} protocolVersion The protocol version negotiated in the handshake\n * @property {number} capabilites A bitmask representing the capabilities negotiated in the handshake\n * @property {function(BufferConsumerCallback)} consumeRemainingBuffer A function to consume the remaining buffer if it exists\n */\n/**\n * Shake hands using the channel and return the protocol version\n *\n * @param {Channel} channel the channel use to shake hands\n * @param {Logger} log the log object\n * @returns {Promise<HandshakeResult>} Promise of protocol version and consumeRemainingBuffer\n */\nfunction handshake(channel, log) {\n    return initialHandshake(channel, log).then(function (result) {\n        if (result.protocolVersion === 255.1) {\n            return handshakeNegotiationV2(channel, result.buffer, log);\n        }\n        else {\n            return result;\n        }\n    });\n}\nexports[\"default\"] = handshake;\n/**\n * Shake hands using the channel and return the protocol version, or the improved handshake protocol if communicating with a newer server.\n *\n * @param {Channel} channel the channel use to shake hands\n * @param {Logger} log the log object\n * @returns {Promise<HandshakeResult>} Promise of protocol version and consumeRemainingBuffer\n */\nfunction initialHandshake(channel, log) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n        var handshakeErrorHandler = function (error) {\n            reject(error);\n        };\n        channel.onerror = handshakeErrorHandler.bind(_this);\n        if (channel._error) {\n            handshakeErrorHandler(channel._error);\n        }\n        channel.onmessage = function (buffer) {\n            try {\n                // read the response buffer and initialize the protocol\n                var protocolVersion = parseNegotiatedResponse(buffer, log);\n                resolve({\n                    protocolVersion: protocolVersion,\n                    capabilites: 0,\n                    buffer: buffer,\n                    consumeRemainingBuffer: function (consumer) {\n                        if (buffer.hasRemaining()) {\n                            consumer(buffer.readSlice(buffer.remaining()));\n                        }\n                    }\n                });\n            }\n            catch (e) {\n                reject(e);\n            }\n        };\n        channel.write(newHandshakeBuffer());\n    });\n}\nfunction getVersions(versionArray) {\n    var resultArr = [];\n    var major = versionArray[3];\n    var minor = versionArray[2];\n    for (var i = 0; i <= versionArray[1]; i++) {\n        resultArr.push({ major: major, minor: minor - i });\n    }\n    return resultArr;\n}\nfunction selectCapabilites(capabilityBitMask) {\n    return DESIRED_CAPABILITES; // capabilites are currently unused and will always be 0.\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9oYW5kc2hha2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQywwRkFBWTtBQUNwQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQSxxSEFBcUg7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLGtDQUFrQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsYUFBYSwwQkFBMEI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsMEJBQTBCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUMseUJBQXlCLGdDQUFnQztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9oYW5kc2hha2UuanM/MDhmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4uL2NoYW5uZWxcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCT0xUX01BR0lDX1BSRUFNQkxFID0gMHg2MDYwYjAxNztcbnZhciBBVkFJTEFCTEVfQk9MVF9QUk9UT0NPTFMgPSBbJzUuOCcsICc1LjcnLCAnNS42JywgJzUuNCcsICc1LjMnLCAnNS4yJywgJzUuMScsICc1LjAnLCAnNC40JywgJzQuMycsICc0LjInLCAnMy4wJ107IC8vIGJvbHQgcHJvdG9jb2xzIHRoZSBjbGllbnQgd2lsbCBhY2NlcHQsIG9yZGVyZWQgYnkgcHJlZmVyZW5jZVxudmFyIERFU0lSRURfQ0FQQUJJTElURVMgPSAwO1xuZnVuY3Rpb24gdmVyc2lvbihtYWpvciwgbWlub3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtYWpvcjogbWFqb3IsXG4gICAgICAgIG1pbm9yOiBtaW5vclxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVIYW5kc2hha2VNZXNzYWdlKHZlcnNpb25zKSB7XG4gICAgaWYgKHZlcnNpb25zLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdJdCBzaG91bGQgbm90IGhhdmUgbW9yZSB0aGFuIDQgdmVyc2lvbnMgb2YgdGhlIHByb3RvY29sJyk7XG4gICAgfVxuICAgIHZhciBoYW5kc2hha2VCdWZmZXIgPSAoMCwgY2hhbm5lbF8xLmFsbG9jKSg1ICogNCk7XG4gICAgaGFuZHNoYWtlQnVmZmVyLndyaXRlSW50MzIoQk9MVF9NQUdJQ19QUkVBTUJMRSk7XG4gICAgdmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB2ZXJzaW9uWzBdLCBtYWpvciA9IF9hLm1ham9yLCBtaW5vciA9IF9hLm1pbm9yO1xuICAgICAgICAgICAgdmFyIG1pbk1pbm9yID0gdmVyc2lvblsxXS5taW5vcjtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG1pbm9yIC0gbWluTWlub3I7XG4gICAgICAgICAgICBoYW5kc2hha2VCdWZmZXIud3JpdGVJbnQzMigocmFuZ2UgPDwgMTYpIHwgKG1pbm9yIDw8IDgpIHwgbWFqb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1ham9yID0gdmVyc2lvbi5tYWpvciwgbWlub3IgPSB2ZXJzaW9uLm1pbm9yO1xuICAgICAgICAgICAgaGFuZHNoYWtlQnVmZmVyLndyaXRlSW50MzIoKG1pbm9yIDw8IDgpIHwgbWFqb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaGFuZHNoYWtlQnVmZmVyLnJlc2V0KCk7XG4gICAgcmV0dXJuIGhhbmRzaGFrZUJ1ZmZlcjtcbn1cbmZ1bmN0aW9uIHBhcnNlTmVnb3RpYXRlZFJlc3BvbnNlKGJ1ZmZlciwgbG9nKSB7XG4gICAgdmFyIGggPSBbXG4gICAgICAgIGJ1ZmZlci5yZWFkVUludDgoKSxcbiAgICAgICAgYnVmZmVyLnJlYWRVSW50OCgpLFxuICAgICAgICBidWZmZXIucmVhZFVJbnQ4KCksXG4gICAgICAgIGJ1ZmZlci5yZWFkVUludDgoKVxuICAgIF07XG4gICAgaWYgKGhbMF0gPT09IDB4NDggJiYgaFsxXSA9PT0gMHg1NCAmJiBoWzJdID09PSAweDU0ICYmIGhbM10gPT09IDB4NTApIHtcbiAgICAgICAgbG9nLmVycm9yKCdIYW5kc2hha2UgZmFpbGVkIHNpbmNlIHNlcnZlciByZXNwb25kZWQgd2l0aCBIVFRQLicpO1xuICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1NlcnZlciByZXNwb25kZWQgSFRUUC4gTWFrZSBzdXJlIHlvdSBhcmUgbm90IHRyeWluZyB0byBjb25uZWN0IHRvIHRoZSBodHRwIGVuZHBvaW50ICcgK1xuICAgICAgICAgICAgJyhIVFRQIGRlZmF1bHRzIHRvIHBvcnQgNzQ3NCB3aGVyZWFzIEJPTFQgZGVmYXVsdHMgdG8gcG9ydCA3Njg3KScpO1xuICAgIH1cbiAgICByZXR1cm4gTnVtYmVyKGhbM10gKyAnLicgKyBoWzJdKTtcbn1cbmZ1bmN0aW9uIGhhbmRzaGFrZU5lZ290aWF0aW9uVjIoY2hhbm5lbCwgYnVmZmVyLCBsb2cpIHtcbiAgICB2YXIgbnVtVmVyc2lvbnMgPSBidWZmZXIucmVhZFZhckludCgpO1xuICAgIHZhciB2ZXJzaW9ucyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtVmVyc2lvbnM7IGkrKykge1xuICAgICAgICB2YXIgdmVyc2lvblJhbmdlID0gW1xuICAgICAgICAgICAgYnVmZmVyLnJlYWRVSW50OCgpLFxuICAgICAgICAgICAgYnVmZmVyLnJlYWRVSW50OCgpLFxuICAgICAgICAgICAgYnVmZmVyLnJlYWRVSW50OCgpLFxuICAgICAgICAgICAgYnVmZmVyLnJlYWRVSW50OCgpXG4gICAgICAgIF07XG4gICAgICAgIHZlcnNpb25zID0gdmVyc2lvbnMuY29uY2F0KGdldFZlcnNpb25zKHZlcnNpb25SYW5nZSkpO1xuICAgIH1cbiAgICB2YXIgY2FwYWJpbGl0eUJpdE1hc2sgPSBidWZmZXIucmVhZFZhckludCgpO1xuICAgIHZhciBjYXBhYmlsaXRlcyA9IHNlbGVjdENhcGFiaWxpdGVzKGNhcGFiaWxpdHlCaXRNYXNrKTtcbiAgICB2YXIgbWFqb3IgPSAwO1xuICAgIHZhciBtaW5vciA9IDA7XG4gICAgdmVyc2lvbnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoTnVtYmVyKGEubWFqb3IpICE9PSBOdW1iZXIoYi5tYWpvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoYi5tYWpvcikgLSBOdW1iZXIoYS5tYWpvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKGIubWlub3IpIC0gTnVtYmVyKGEubWlub3IpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdmVyc2lvbl8xID0gdmVyc2lvbnNbaV07XG4gICAgICAgIGlmIChBVkFJTEFCTEVfQk9MVF9QUk9UT0NPTFMuaW5jbHVkZXModmVyc2lvbl8xLm1ham9yICsgJy4nICsgdmVyc2lvbl8xLm1pbm9yKSkge1xuICAgICAgICAgICAgbWFqb3IgPSB2ZXJzaW9uXzEubWFqb3I7XG4gICAgICAgICAgICBtaW5vciA9IHZlcnNpb25fMS5taW5vcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uQnVmZmVyID0gKDAsIGNoYW5uZWxfMS5hbGxvYykoNSk7XG4gICAgICAgICAgICBzZWxlY3Rpb25CdWZmZXIud3JpdGVJbnQzMigobWlub3IgPDwgOCkgfCBtYWpvcik7XG4gICAgICAgICAgICBzZWxlY3Rpb25CdWZmZXIud3JpdGVWYXJJbnQoY2FwYWJpbGl0ZXMpO1xuICAgICAgICAgICAgY2hhbm5lbC53cml0ZShzZWxlY3Rpb25CdWZmZXIpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgcHJvdG9jb2xWZXJzaW9uOiBOdW1iZXIobWFqb3IgKyAnLicgKyBtaW5vciksXG4gICAgICAgICAgICAgICAgY2FwYWJpbGl0ZXM6IGNhcGFiaWxpdGVzLFxuICAgICAgICAgICAgICAgIGNvbnN1bWVSZW1haW5pbmdCdWZmZXI6IGZ1bmN0aW9uIChjb25zdW1lcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmhhc1JlbWFpbmluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdW1lcihidWZmZXIucmVhZFNsaWNlKGJ1ZmZlci5yZW1haW5pbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcmV0dXJuIHtCYXNlQnVmZmVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbmV3SGFuZHNoYWtlQnVmZmVyKCkge1xuICAgIHJldHVybiBjcmVhdGVIYW5kc2hha2VNZXNzYWdlKFtcbiAgICAgICAgdmVyc2lvbigyNTUsIDEpLFxuICAgICAgICBbdmVyc2lvbig1LCA4KSwgdmVyc2lvbig1LCAwKV0sXG4gICAgICAgIFt2ZXJzaW9uKDQsIDQpLCB2ZXJzaW9uKDQsIDIpXSxcbiAgICAgICAgdmVyc2lvbigzLCAwKVxuICAgIF0pO1xufVxuLyoqXG4gKiBUaGlzIGNhbGxiYWNrIGlzIGRpc3BsYXllZCBhcyBhIGdsb2JhbCBtZW1iZXIuXG4gKiBAY2FsbGJhY2sgQnVmZmVyQ29uc3VtZXJDYWxsYmFja1xuICogQHBhcmFtIHtidWZmZXJ9IGJ1ZmZlciB0aGUgcmVtYWluaW5nIGJ1ZmZlclxuICovXG4vKipcbiAqIEB0eXBlZGVmIEhhbmRzaGFrZVJlc3VsdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHByb3RvY29sVmVyc2lvbiBUaGUgcHJvdG9jb2wgdmVyc2lvbiBuZWdvdGlhdGVkIGluIHRoZSBoYW5kc2hha2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYXBhYmlsaXRlcyBBIGJpdG1hc2sgcmVwcmVzZW50aW5nIHRoZSBjYXBhYmlsaXRpZXMgbmVnb3RpYXRlZCBpbiB0aGUgaGFuZHNoYWtlXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKEJ1ZmZlckNvbnN1bWVyQ2FsbGJhY2spfSBjb25zdW1lUmVtYWluaW5nQnVmZmVyIEEgZnVuY3Rpb24gdG8gY29uc3VtZSB0aGUgcmVtYWluaW5nIGJ1ZmZlciBpZiBpdCBleGlzdHNcbiAqL1xuLyoqXG4gKiBTaGFrZSBoYW5kcyB1c2luZyB0aGUgY2hhbm5lbCBhbmQgcmV0dXJuIHRoZSBwcm90b2NvbCB2ZXJzaW9uXG4gKlxuICogQHBhcmFtIHtDaGFubmVsfSBjaGFubmVsIHRoZSBjaGFubmVsIHVzZSB0byBzaGFrZSBoYW5kc1xuICogQHBhcmFtIHtMb2dnZXJ9IGxvZyB0aGUgbG9nIG9iamVjdFxuICogQHJldHVybnMge1Byb21pc2U8SGFuZHNoYWtlUmVzdWx0Pn0gUHJvbWlzZSBvZiBwcm90b2NvbCB2ZXJzaW9uIGFuZCBjb25zdW1lUmVtYWluaW5nQnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGhhbmRzaGFrZShjaGFubmVsLCBsb2cpIHtcbiAgICByZXR1cm4gaW5pdGlhbEhhbmRzaGFrZShjaGFubmVsLCBsb2cpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0LnByb3RvY29sVmVyc2lvbiA9PT0gMjU1LjEpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kc2hha2VOZWdvdGlhdGlvblYyKGNoYW5uZWwsIHJlc3VsdC5idWZmZXIsIGxvZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBoYW5kc2hha2U7XG4vKipcbiAqIFNoYWtlIGhhbmRzIHVzaW5nIHRoZSBjaGFubmVsIGFuZCByZXR1cm4gdGhlIHByb3RvY29sIHZlcnNpb24sIG9yIHRoZSBpbXByb3ZlZCBoYW5kc2hha2UgcHJvdG9jb2wgaWYgY29tbXVuaWNhdGluZyB3aXRoIGEgbmV3ZXIgc2VydmVyLlxuICpcbiAqIEBwYXJhbSB7Q2hhbm5lbH0gY2hhbm5lbCB0aGUgY2hhbm5lbCB1c2UgdG8gc2hha2UgaGFuZHNcbiAqIEBwYXJhbSB7TG9nZ2VyfSBsb2cgdGhlIGxvZyBvYmplY3RcbiAqIEByZXR1cm5zIHtQcm9taXNlPEhhbmRzaGFrZVJlc3VsdD59IFByb21pc2Ugb2YgcHJvdG9jb2wgdmVyc2lvbiBhbmQgY29uc3VtZVJlbWFpbmluZ0J1ZmZlclxuICovXG5mdW5jdGlvbiBpbml0aWFsSGFuZHNoYWtlKGNoYW5uZWwsIGxvZykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGhhbmRzaGFrZUVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2hhbm5lbC5vbmVycm9yID0gaGFuZHNoYWtlRXJyb3JIYW5kbGVyLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAoY2hhbm5lbC5fZXJyb3IpIHtcbiAgICAgICAgICAgIGhhbmRzaGFrZUVycm9ySGFuZGxlcihjaGFubmVsLl9lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbm5lbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIHJlYWQgdGhlIHJlc3BvbnNlIGJ1ZmZlciBhbmQgaW5pdGlhbGl6ZSB0aGUgcHJvdG9jb2xcbiAgICAgICAgICAgICAgICB2YXIgcHJvdG9jb2xWZXJzaW9uID0gcGFyc2VOZWdvdGlhdGVkUmVzcG9uc2UoYnVmZmVyLCBsb2cpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBwcm90b2NvbFZlcnNpb246IHByb3RvY29sVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY2FwYWJpbGl0ZXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICBjb25zdW1lUmVtYWluaW5nQnVmZmVyOiBmdW5jdGlvbiAoY29uc3VtZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIuaGFzUmVtYWluaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdW1lcihidWZmZXIucmVhZFNsaWNlKGJ1ZmZlci5yZW1haW5pbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2hhbm5lbC53cml0ZShuZXdIYW5kc2hha2VCdWZmZXIoKSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRWZXJzaW9ucyh2ZXJzaW9uQXJyYXkpIHtcbiAgICB2YXIgcmVzdWx0QXJyID0gW107XG4gICAgdmFyIG1ham9yID0gdmVyc2lvbkFycmF5WzNdO1xuICAgIHZhciBtaW5vciA9IHZlcnNpb25BcnJheVsyXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSB2ZXJzaW9uQXJyYXlbMV07IGkrKykge1xuICAgICAgICByZXN1bHRBcnIucHVzaCh7IG1ham9yOiBtYWpvciwgbWlub3I6IG1pbm9yIC0gaSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdEFycjtcbn1cbmZ1bmN0aW9uIHNlbGVjdENhcGFiaWxpdGVzKGNhcGFiaWxpdHlCaXRNYXNrKSB7XG4gICAgcmV0dXJuIERFU0lSRURfQ0FQQUJJTElURVM7IC8vIGNhcGFiaWxpdGVzIGFyZSBjdXJyZW50bHkgdW51c2VkIGFuZCB3aWxsIGFsd2F5cyBiZSAwLlxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RawRoutingTable = exports.BoltProtocol = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar handshake_1 = __importDefault(__webpack_require__(/*! ./handshake */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js\"));\nvar create_1 = __importDefault(__webpack_require__(/*! ./create */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js\"));\nvar bolt_protocol_v4x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\"));\nvar routing_table_raw_1 = __importDefault(__webpack_require__(/*! ./routing-table-raw */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js\"));\n__exportStar(__webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\"), exports);\nexports.BoltProtocol = bolt_protocol_v4x3_1.default;\nexports.RawRoutingTable = routing_table_raw_1.default;\nexports[\"default\"] = {\n    handshake: handshake_1.default,\n    create: create_1.default\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLG9CQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLDRGQUFhO0FBQ3ZELCtCQUErQixtQkFBTyxDQUFDLHNGQUFVO0FBQ2pELDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwwQ0FBMEMsbUJBQU8sQ0FBQyw0R0FBcUI7QUFDdkUsYUFBYSxtQkFBTyxDQUFDLDBHQUFvQjtBQUN6QyxvQkFBb0I7QUFDcEIsdUJBQXVCO0FBQ3ZCLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2luZGV4LmpzPzNjMGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmF3Um91dGluZ1RhYmxlID0gZXhwb3J0cy5Cb2x0UHJvdG9jb2wgPSB2b2lkIDA7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGhhbmRzaGFrZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2hhbmRzaGFrZVwiKSk7XG52YXIgY3JlYXRlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY3JlYXRlXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDNcIikpO1xudmFyIHJvdXRpbmdfdGFibGVfcmF3XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcm91dGluZy10YWJsZS1yYXdcIikpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIiksIGV4cG9ydHMpO1xuZXhwb3J0cy5Cb2x0UHJvdG9jb2wgPSBib2x0X3Byb3RvY29sX3Y0eDNfMS5kZWZhdWx0O1xuZXhwb3J0cy5SYXdSb3V0aW5nVGFibGUgPSByb3V0aW5nX3RhYmxlX3Jhd18xLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgaGFuZHNoYWtlOiBoYW5kc2hha2VfMS5kZWZhdWx0LFxuICAgIGNyZWF0ZTogY3JlYXRlXzEuZGVmYXVsdFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SIGNATURES = void 0;\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, ACCESS_MODE_READ = _a.ACCESS_MODE_READ, FETCH_ALL = _a.FETCH_ALL, assertString = neo4j_driver_core_1.internal.util.assertString;\n/* eslint-disable no-unused-vars */\n// Signature bytes for each request message type\nvar INIT = 0x01; // 0000 0001 // INIT <user_agent> <authentication_token>\nvar ACK_FAILURE = 0x0e; // 0000 1110 // ACK_FAILURE - unused\nvar RESET = 0x0f; // 0000 1111 // RESET\nvar RUN = 0x10; // 0001 0000 // RUN <query> <parameters>\nvar DISCARD_ALL = 0x2f; // 0010 1111 // DISCARD_ALL - unused\nvar PULL_ALL = 0x3f; // 0011 1111 // PULL_ALL\nvar HELLO = 0x01; // 0000 0001 // HELLO <metadata>\nvar GOODBYE = 0x02; // 0000 0010 // GOODBYE\nvar BEGIN = 0x11; // 0001 0001 // BEGIN <metadata>\nvar COMMIT = 0x12; // 0001 0010 // COMMIT\nvar ROLLBACK = 0x13; // 0001 0011 // ROLLBACK\nvar TELEMETRY = 0x54; // 0101 0100 // TELEMETRY <api>\nvar ROUTE = 0x66; // 0110 0110 // ROUTE\nvar LOGON = 0x6A; // LOGON\nvar LOGOFF = 0x6B; // LOGOFF\nvar DISCARD = 0x2f; // 0010 1111 // DISCARD\nvar PULL = 0x3f; // 0011 1111 // PULL\nvar READ_MODE = 'r';\n/* eslint-enable no-unused-vars */\nvar NO_STATEMENT_ID = -1;\nvar SIGNATURES = Object.freeze({\n    INIT: INIT,\n    RESET: RESET,\n    RUN: RUN,\n    PULL_ALL: PULL_ALL,\n    HELLO: HELLO,\n    GOODBYE: GOODBYE,\n    BEGIN: BEGIN,\n    COMMIT: COMMIT,\n    ROLLBACK: ROLLBACK,\n    TELEMETRY: TELEMETRY,\n    ROUTE: ROUTE,\n    LOGON: LOGON,\n    LOGOFF: LOGOFF,\n    DISCARD: DISCARD,\n    PULL: PULL\n});\nexports.SIGNATURES = SIGNATURES;\nvar RequestMessage = /** @class */ (function () {\n    function RequestMessage(signature, fields, toString) {\n        this.signature = signature;\n        this.fields = fields;\n        this.toString = toString;\n    }\n    /**\n     * Create a new INIT message.\n     * @param {string} clientName the client name.\n     * @param {Object} authToken the authentication token.\n     * @return {RequestMessage} new INIT message.\n     */\n    RequestMessage.init = function (clientName, authToken) {\n        return new RequestMessage(INIT, [clientName, authToken], function () { return \"INIT \".concat(clientName, \" {...}\"); });\n    };\n    /**\n     * Create a new RUN message.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @return {RequestMessage} new RUN message.\n     */\n    RequestMessage.run = function (query, parameters) {\n        return new RequestMessage(RUN, [query, parameters], function () { return \"RUN \".concat(query, \" \").concat(neo4j_driver_core_1.json.stringify(parameters)); });\n    };\n    /**\n     * Get a PULL_ALL message.\n     * @return {RequestMessage} the PULL_ALL message.\n     */\n    RequestMessage.pullAll = function () {\n        return PULL_ALL_MESSAGE;\n    };\n    /**\n     * Get a RESET message.\n     * @return {RequestMessage} the RESET message.\n     */\n    RequestMessage.reset = function () {\n        return RESET_MESSAGE;\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {Object} authToken the authentication token.\n     * @param {Object} optional server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello = function (userAgent, authToken, routing, patchs) {\n        if (routing === void 0) { routing = null; }\n        if (patchs === void 0) { patchs = null; }\n        var metadata = Object.assign({ user_agent: userAgent }, authToken);\n        if (routing) {\n            metadata.routing = routing;\n        }\n        if (patchs) {\n            metadata.patch_bolt = patchs;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO {user_agent: '\".concat(userAgent, \"', ...}\"); });\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {Object} optional server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello5x1 = function (userAgent, routing) {\n        if (routing === void 0) { routing = null; }\n        var metadata = { user_agent: userAgent };\n        if (routing) {\n            metadata.routing = routing;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO {user_agent: '\".concat(userAgent, \"', ...}\"); });\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {NotificationFilter} notificationFilter the notification filter configured\n     * @param {Object} routing server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello5x2 = function (userAgent, notificationFilter, routing) {\n        if (notificationFilter === void 0) { notificationFilter = null; }\n        if (routing === void 0) { routing = null; }\n        var metadata = { user_agent: userAgent };\n        appendLegacyNotificationFilterToMetadata(metadata, notificationFilter);\n        if (routing) {\n            metadata.routing = routing;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {string} boltAgent the bolt agent.\n     * @param {NotificationFilter} notificationFilter the notification filter configured\n     * @param {Object} routing server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello5x3 = function (userAgent, boltAgent, notificationFilter, routing) {\n        if (notificationFilter === void 0) { notificationFilter = null; }\n        if (routing === void 0) { routing = null; }\n        var metadata = {};\n        if (userAgent) {\n            metadata.user_agent = userAgent;\n        }\n        if (boltAgent) {\n            metadata.bolt_agent = {\n                product: boltAgent.product,\n                platform: boltAgent.platform,\n                language: boltAgent.language,\n                language_details: boltAgent.languageDetails\n            };\n        }\n        appendLegacyNotificationFilterToMetadata(metadata, notificationFilter);\n        if (routing) {\n            metadata.routing = routing;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {string} boltAgent the bolt agent.\n     * @param {NotificationFilter} notificationFilter the notification filter configured\n     * @param {Object} routing server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello5x5 = function (userAgent, boltAgent, notificationFilter, routing) {\n        if (notificationFilter === void 0) { notificationFilter = null; }\n        if (routing === void 0) { routing = null; }\n        var metadata = {};\n        if (userAgent) {\n            metadata.user_agent = userAgent;\n        }\n        if (boltAgent) {\n            metadata.bolt_agent = {\n                product: boltAgent.product,\n                platform: boltAgent.platform,\n                language: boltAgent.language,\n                language_details: boltAgent.languageDetails\n            };\n        }\n        appendGqlNotificationFilterToMetadata(metadata, notificationFilter);\n        if (routing) {\n            metadata.routing = routing;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Create a new LOGON message.\n     *\n     * @param {object} authToken The auth token\n     * @returns {RequestMessage} new LOGON message\n     */\n    RequestMessage.logon = function (authToken) {\n        return new RequestMessage(LOGON, [authToken], function () { return 'LOGON { ... }'; });\n    };\n    /**\n     * Create a new LOGOFF message.\n     *\n     * @returns {RequestMessage} new LOGOFF message\n     */\n    RequestMessage.logoff = function () {\n        return new RequestMessage(LOGOFF, [], function () { return 'LOGOFF'; });\n    };\n    /**\n     * Create a new BEGIN message.\n     * @param {Bookmarks} bookmarks the bookmarks.\n     * @param {TxConfig} txConfig the configuration.\n     * @param {string} database the database name.\n     * @param {string} mode the access mode.\n     * @param {string} impersonatedUser the impersonated user.\n     * @param {NotificationFilter} notificationFilter the notification filter\n     * @return {RequestMessage} new BEGIN message.\n     */\n    RequestMessage.begin = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter);\n        return new RequestMessage(BEGIN, [metadata], function () { return \"BEGIN \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Create a new BEGIN message.\n     * @param {Bookmarks} bookmarks the bookmarks.\n     * @param {TxConfig} txConfig the configuration.\n     * @param {string} database the database name.\n     * @param {string} mode the access mode.\n     * @param {string} impersonatedUser the impersonated user.\n     * @param {NotificationFilter} notificationFilter the notification filter\n     * @return {RequestMessage} new BEGIN message.\n     */\n    RequestMessage.begin5x5 = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter, {\n            appendNotificationFilter: appendGqlNotificationFilterToMetadata\n        });\n        return new RequestMessage(BEGIN, [metadata], function () { return \"BEGIN \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Get a COMMIT message.\n     * @return {RequestMessage} the COMMIT message.\n     */\n    RequestMessage.commit = function () {\n        return COMMIT_MESSAGE;\n    };\n    /**\n     * Get a ROLLBACK message.\n     * @return {RequestMessage} the ROLLBACK message.\n     */\n    RequestMessage.rollback = function () {\n        return ROLLBACK_MESSAGE;\n    };\n    /**\n     * Create a new RUN message with additional metadata.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @param {Object} extra - extra params\n     * @param {Bookmarks} extra.bookmarks the bookmarks.\n     * @param {TxConfig} extra.txConfig the configuration.\n     * @param {string} extra.database the database name.\n     * @param {string} extra.mode the access mode.\n     * @param {string} extra.impersonatedUser the impersonated user.\n     * @param {notificationFilter} extra.notificationFilter the notification filter\n     * @return {RequestMessage} new RUN message with additional metadata.\n     */\n    RequestMessage.runWithMetadata = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter);\n        return new RequestMessage(RUN, [query, parameters, metadata], function () {\n            return \"RUN \".concat(query, \" \").concat(neo4j_driver_core_1.json.stringify(parameters), \" \").concat(neo4j_driver_core_1.json.stringify(metadata));\n        });\n    };\n    /**\n     * Create a new RUN message with additional metadata.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @param {Object} extra - extra params\n     * @param {Bookmarks} extra.bookmarks the bookmarks.\n     * @param {TxConfig} extra.txConfig the configuration.\n     * @param {string} extra.database the database name.\n     * @param {string} extra.mode the access mode.\n     * @param {string} extra.impersonatedUser the impersonated user.\n     * @param {notificationFilter} extra.notificationFilter the notification filter\n     * @return {RequestMessage} new RUN message with additional metadata.\n     */\n    RequestMessage.runWithMetadata5x5 = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter, {\n            appendNotificationFilter: appendGqlNotificationFilterToMetadata\n        });\n        return new RequestMessage(RUN, [query, parameters, metadata], function () {\n            return \"RUN \".concat(query, \" \").concat(neo4j_driver_core_1.json.stringify(parameters), \" \").concat(neo4j_driver_core_1.json.stringify(metadata));\n        });\n    };\n    /**\n     * Get a GOODBYE message.\n     * @return {RequestMessage} the GOODBYE message.\n     */\n    RequestMessage.goodbye = function () {\n        return GOODBYE_MESSAGE;\n    };\n    /**\n     * Generates a new PULL message with additional metadata.\n     * @param {Integer|number} stmtId\n     * @param {Integer|number} n\n     * @return {RequestMessage} the PULL message.\n     */\n    RequestMessage.pull = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.stmtId, stmtId = _c === void 0 ? NO_STATEMENT_ID : _c, _d = _b.n, n = _d === void 0 ? FETCH_ALL : _d;\n        var metadata = buildStreamMetadata(stmtId === null || stmtId === undefined ? NO_STATEMENT_ID : stmtId, n || FETCH_ALL);\n        return new RequestMessage(PULL, [metadata], function () { return \"PULL \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Generates a new DISCARD message with additional metadata.\n     * @param {Integer|number} stmtId\n     * @param {Integer|number} n\n     * @return {RequestMessage} the PULL message.\n     */\n    RequestMessage.discard = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.stmtId, stmtId = _c === void 0 ? NO_STATEMENT_ID : _c, _d = _b.n, n = _d === void 0 ? FETCH_ALL : _d;\n        var metadata = buildStreamMetadata(stmtId === null || stmtId === undefined ? NO_STATEMENT_ID : stmtId, n || FETCH_ALL);\n        return new RequestMessage(DISCARD, [metadata], function () { return \"DISCARD \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    RequestMessage.telemetry = function (_a) {\n        var api = _a.api;\n        var parsedApi = (0, neo4j_driver_core_1.int)(api);\n        return new RequestMessage(TELEMETRY, [parsedApi], function () { return \"TELEMETRY \".concat(parsedApi.toString()); });\n    };\n    /**\n     * Generate the ROUTE message, this message is used to fetch the routing table from the server\n     *\n     * @param {object} routingContext The routing context used to define the routing table. Multi-datacenter deployments is one of its use cases\n     * @param {string[]} bookmarks The list of the bookmarks should be used\n     * @param {string} databaseName The name of the database to get the routing table for.\n     * @return {RequestMessage} the ROUTE message.\n     */\n    RequestMessage.route = function (routingContext, bookmarks, databaseName) {\n        if (routingContext === void 0) { routingContext = {}; }\n        if (bookmarks === void 0) { bookmarks = []; }\n        if (databaseName === void 0) { databaseName = null; }\n        return new RequestMessage(ROUTE, [routingContext, bookmarks, databaseName], function () {\n            return \"ROUTE \".concat(neo4j_driver_core_1.json.stringify(routingContext), \" \").concat(neo4j_driver_core_1.json.stringify(bookmarks), \" \").concat(databaseName);\n        });\n    };\n    /**\n     * Generate the ROUTE message, this message is used to fetch the routing table from the server\n     *\n     * @param {object} routingContext The routing context used to define the routing table. Multi-datacenter deployments is one of its use cases\n     * @param {string[]} bookmarks The list of the bookmarks should be used\n     * @param {object} databaseContext The context inforamtion of the database to get the routing table for.\n     * @param {string} databaseContext.databaseName The name of the database to get the routing table.\n     * @param {string} databaseContext.impersonatedUser The name of the user to impersonation when getting the routing table.\n     * @return {RequestMessage} the ROUTE message.\n     */\n    RequestMessage.routeV4x4 = function (routingContext, bookmarks, databaseContext) {\n        if (routingContext === void 0) { routingContext = {}; }\n        if (bookmarks === void 0) { bookmarks = []; }\n        if (databaseContext === void 0) { databaseContext = {}; }\n        var dbContext = {};\n        if (databaseContext.databaseName) {\n            dbContext.db = databaseContext.databaseName;\n        }\n        if (databaseContext.impersonatedUser) {\n            dbContext.imp_user = databaseContext.impersonatedUser;\n        }\n        return new RequestMessage(ROUTE, [routingContext, bookmarks, dbContext], function () {\n            return \"ROUTE \".concat(neo4j_driver_core_1.json.stringify(routingContext), \" \").concat(neo4j_driver_core_1.json.stringify(bookmarks), \" \").concat(neo4j_driver_core_1.json.stringify(dbContext));\n        });\n    };\n    return RequestMessage;\n}());\nexports[\"default\"] = RequestMessage;\n/**\n * Create an object that represent transaction metadata.\n * @param {Bookmarks} bookmarks the bookmarks.\n * @param {TxConfig} txConfig the configuration.\n * @param {string} database the database name.\n * @param {string} mode the access mode.\n * @param {string} impersonatedUser the impersonated user mode.\n * @param {notificationFilter} notificationFilter the notification filter\n * @param {Object} functions Transformation functions applied to metadata\n * @param {function(metadata,notificationFilter):void} functions.appendNotificationFilter Changes metadata by appending the Notification Filter to it.\n * @return {Object} a metadata object.\n */\nfunction buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter, functions) {\n    var _a;\n    if (functions === void 0) { functions = {}; }\n    var metadata = {};\n    if (!bookmarks.isEmpty()) {\n        metadata.bookmarks = bookmarks.values();\n    }\n    if (txConfig.timeout !== null) {\n        metadata.tx_timeout = txConfig.timeout;\n    }\n    if (txConfig.metadata) {\n        metadata.tx_metadata = txConfig.metadata;\n    }\n    if (database) {\n        metadata.db = assertString(database, 'database');\n    }\n    if (impersonatedUser) {\n        metadata.imp_user = assertString(impersonatedUser, 'impersonatedUser');\n    }\n    if (mode === ACCESS_MODE_READ) {\n        metadata.mode = READ_MODE;\n    }\n    var appendNotificationFilter = (_a = functions.appendNotificationFilter) !== null && _a !== void 0 ? _a : appendLegacyNotificationFilterToMetadata;\n    appendNotificationFilter(metadata, notificationFilter);\n    return metadata;\n}\n/**\n * Create an object that represents streaming metadata.\n * @param {Integer|number} stmtId The query id to stream its results.\n * @param {Integer|number} n The number of records to stream.\n * @returns {Object} a metadata object.\n */\nfunction buildStreamMetadata(stmtId, n) {\n    var metadata = { n: (0, neo4j_driver_core_1.int)(n) };\n    if (stmtId !== NO_STATEMENT_ID) {\n        metadata.qid = (0, neo4j_driver_core_1.int)(stmtId);\n    }\n    return metadata;\n}\nfunction appendLegacyNotificationFilterToMetadata(metadata, notificationFilter) {\n    if (notificationFilter) {\n        if (notificationFilter.minimumSeverityLevel) {\n            metadata.notifications_minimum_severity = notificationFilter.minimumSeverityLevel;\n        }\n        if (notificationFilter.disabledCategories) {\n            metadata.notifications_disabled_categories = notificationFilter.disabledCategories;\n        }\n        if (notificationFilter.disabledClassifications) {\n            metadata.notifications_disabled_categories = notificationFilter.disabledClassifications;\n        }\n    }\n}\nfunction appendGqlNotificationFilterToMetadata(metadata, notificationFilter) {\n    if (notificationFilter) {\n        if (notificationFilter.minimumSeverityLevel) {\n            metadata.notifications_minimum_severity = notificationFilter.minimumSeverityLevel;\n        }\n        if (notificationFilter.disabledCategories) {\n            metadata.notifications_disabled_classifications = notificationFilter.disabledCategories;\n        }\n        if (notificationFilter.disabledClassifications) {\n            metadata.notifications_disabled_classifications = notificationFilter.disabledClassifications;\n        }\n    }\n}\n// constants for messages that never change\nvar PULL_ALL_MESSAGE = new RequestMessage(PULL_ALL, [], function () { return 'PULL_ALL'; });\nvar RESET_MESSAGE = new RequestMessage(RESET, [], function () { return 'RESET'; });\nvar COMMIT_MESSAGE = new RequestMessage(COMMIT, [], function () { return 'COMMIT'; });\nvar ROLLBACK_MESSAGE = new RequestMessage(ROLLBACK, [], function () { return 'ROLLBACK'; });\nvar GOODBYE_MESSAGE = new RequestMessage(GOODBYE, [], function () { return 'GOODBYE'; });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yZXF1ZXN0LW1lc3NhZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix3QkFBd0I7QUFDeEIsa0JBQWtCO0FBQ2xCLGdCQUFnQjtBQUNoQix3QkFBd0I7QUFDeEIscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQixvQkFBb0I7QUFDcEIsa0JBQWtCO0FBQ2xCLG1CQUFtQjtBQUNuQixxQkFBcUI7QUFDckIsc0JBQXNCO0FBQ3RCLGtCQUFrQjtBQUNsQixrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLG9CQUFvQjtBQUNwQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLCtFQUErRSxxQ0FBcUMsSUFBSSxLQUFLO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0EsMEVBQTBFLDBGQUEwRjtBQUNwSztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGlDQUFpQztBQUNqQyx1Q0FBdUMsdUJBQXVCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxlQUFlLHlDQUF5QyxLQUFLO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZUFBZSx5Q0FBeUMsS0FBSztBQUNoSTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxrQ0FBa0M7QUFDbEMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHVFQUF1RTtBQUMxSTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0Msa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHVFQUF1RTtBQUMxSTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0Msa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHVFQUF1RTtBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxvRUFBb0UsZ0JBQWdCLEtBQUssSUFBSTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBLDREQUE0RCxrQkFBa0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0EsZUFBZSxXQUFXO0FBQzFCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLG9CQUFvQjtBQUNuQyxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSxtRUFBbUUsdUVBQXVFO0FBQzFJO0FBQ0E7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQixlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUVBQW1FLHVFQUF1RTtBQUMxSTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxXQUFXO0FBQzFCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLG9CQUFvQjtBQUNuQyxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsV0FBVztBQUMxQixlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsZ0JBQWdCO0FBQy9CLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLGtFQUFrRSxzRUFBc0U7QUFDeEk7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxnQkFBZ0I7QUFDL0IsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EscUVBQXFFLHlFQUF5RTtBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxtREFBbUQ7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxVQUFVO0FBQ3pCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsb0NBQW9DO0FBQ3BDLHVDQUF1QztBQUN2QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsb0NBQW9DO0FBQ3BDLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsUUFBUTtBQUNuQixXQUFXLDRDQUE0QztBQUN2RCxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxvQkFBb0I7QUFDMUYsZ0VBQWdFLGlCQUFpQjtBQUNqRixrRUFBa0Usa0JBQWtCO0FBQ3BGLHNFQUFzRSxvQkFBb0I7QUFDMUYsb0VBQW9FLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yZXF1ZXN0LW1lc3NhZ2UuanM/NWY3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNJR05BVFVSRVMgPSB2b2lkIDA7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBBQ0NFU1NfTU9ERV9SRUFEID0gX2EuQUNDRVNTX01PREVfUkVBRCwgRkVUQ0hfQUxMID0gX2EuRkVUQ0hfQUxMLCBhc3NlcnRTdHJpbmcgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnV0aWwuYXNzZXJ0U3RyaW5nO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8vIFNpZ25hdHVyZSBieXRlcyBmb3IgZWFjaCByZXF1ZXN0IG1lc3NhZ2UgdHlwZVxudmFyIElOSVQgPSAweDAxOyAvLyAwMDAwIDAwMDEgLy8gSU5JVCA8dXNlcl9hZ2VudD4gPGF1dGhlbnRpY2F0aW9uX3Rva2VuPlxudmFyIEFDS19GQUlMVVJFID0gMHgwZTsgLy8gMDAwMCAxMTEwIC8vIEFDS19GQUlMVVJFIC0gdW51c2VkXG52YXIgUkVTRVQgPSAweDBmOyAvLyAwMDAwIDExMTEgLy8gUkVTRVRcbnZhciBSVU4gPSAweDEwOyAvLyAwMDAxIDAwMDAgLy8gUlVOIDxxdWVyeT4gPHBhcmFtZXRlcnM+XG52YXIgRElTQ0FSRF9BTEwgPSAweDJmOyAvLyAwMDEwIDExMTEgLy8gRElTQ0FSRF9BTEwgLSB1bnVzZWRcbnZhciBQVUxMX0FMTCA9IDB4M2Y7IC8vIDAwMTEgMTExMSAvLyBQVUxMX0FMTFxudmFyIEhFTExPID0gMHgwMTsgLy8gMDAwMCAwMDAxIC8vIEhFTExPIDxtZXRhZGF0YT5cbnZhciBHT09EQllFID0gMHgwMjsgLy8gMDAwMCAwMDEwIC8vIEdPT0RCWUVcbnZhciBCRUdJTiA9IDB4MTE7IC8vIDAwMDEgMDAwMSAvLyBCRUdJTiA8bWV0YWRhdGE+XG52YXIgQ09NTUlUID0gMHgxMjsgLy8gMDAwMSAwMDEwIC8vIENPTU1JVFxudmFyIFJPTExCQUNLID0gMHgxMzsgLy8gMDAwMSAwMDExIC8vIFJPTExCQUNLXG52YXIgVEVMRU1FVFJZID0gMHg1NDsgLy8gMDEwMSAwMTAwIC8vIFRFTEVNRVRSWSA8YXBpPlxudmFyIFJPVVRFID0gMHg2NjsgLy8gMDExMCAwMTEwIC8vIFJPVVRFXG52YXIgTE9HT04gPSAweDZBOyAvLyBMT0dPTlxudmFyIExPR09GRiA9IDB4NkI7IC8vIExPR09GRlxudmFyIERJU0NBUkQgPSAweDJmOyAvLyAwMDEwIDExMTEgLy8gRElTQ0FSRFxudmFyIFBVTEwgPSAweDNmOyAvLyAwMDExIDExMTEgLy8gUFVMTFxudmFyIFJFQURfTU9ERSA9ICdyJztcbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBOT19TVEFURU1FTlRfSUQgPSAtMTtcbnZhciBTSUdOQVRVUkVTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgSU5JVDogSU5JVCxcbiAgICBSRVNFVDogUkVTRVQsXG4gICAgUlVOOiBSVU4sXG4gICAgUFVMTF9BTEw6IFBVTExfQUxMLFxuICAgIEhFTExPOiBIRUxMTyxcbiAgICBHT09EQllFOiBHT09EQllFLFxuICAgIEJFR0lOOiBCRUdJTixcbiAgICBDT01NSVQ6IENPTU1JVCxcbiAgICBST0xMQkFDSzogUk9MTEJBQ0ssXG4gICAgVEVMRU1FVFJZOiBURUxFTUVUUlksXG4gICAgUk9VVEU6IFJPVVRFLFxuICAgIExPR09OOiBMT0dPTixcbiAgICBMT0dPRkY6IExPR09GRixcbiAgICBESVNDQVJEOiBESVNDQVJELFxuICAgIFBVTEw6IFBVTExcbn0pO1xuZXhwb3J0cy5TSUdOQVRVUkVTID0gU0lHTkFUVVJFUztcbnZhciBSZXF1ZXN0TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXF1ZXN0TWVzc2FnZShzaWduYXR1cmUsIGZpZWxkcywgdG9TdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gICAgICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICAgICAgICB0aGlzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBJTklUIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsaWVudE5hbWUgdGhlIGNsaWVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgSU5JVCBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLmluaXQgPSBmdW5jdGlvbiAoY2xpZW50TmFtZSwgYXV0aFRva2VuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoSU5JVCwgW2NsaWVudE5hbWUsIGF1dGhUb2tlbl0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiSU5JVCBcIi5jb25jYXQoY2xpZW50TmFtZSwgXCIgey4uLn1cIik7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFJVTiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSB0aGUgY3lwaGVyIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIHRoZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgUlVOIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoUlVOLCBbcXVlcnksIHBhcmFtZXRlcnNdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIlJVTiBcIi5jb25jYXQocXVlcnksIFwiIFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShwYXJhbWV0ZXJzKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgUFVMTF9BTEwgbWVzc2FnZS5cbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gdGhlIFBVTExfQUxMIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UucHVsbEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFBVTExfQUxMX01FU1NBR0U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBSRVNFVCBtZXNzYWdlLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSB0aGUgUkVTRVQgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFJFU0VUX01FU1NBR0U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSEVMTE8gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlckFnZW50IHRoZSB1c2VyIGFnZW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25hbCBzZXJ2ZXIgc2lkZSByb3V0aW5nLCBzZXQgdG8gcm91dGluZyBjb250ZXh0IHRvIHR1cm4gb24gc2VydmVyIHNpZGUgcm91dGluZyAoPiA0LjEpXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IG5ldyBIRUxMTyBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLmhlbGxvID0gZnVuY3Rpb24gKHVzZXJBZ2VudCwgYXV0aFRva2VuLCByb3V0aW5nLCBwYXRjaHMpIHtcbiAgICAgICAgaWYgKHJvdXRpbmcgPT09IHZvaWQgMCkgeyByb3V0aW5nID0gbnVsbDsgfVxuICAgICAgICBpZiAocGF0Y2hzID09PSB2b2lkIDApIHsgcGF0Y2hzID0gbnVsbDsgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBPYmplY3QuYXNzaWduKHsgdXNlcl9hZ2VudDogdXNlckFnZW50IH0sIGF1dGhUb2tlbik7XG4gICAgICAgIGlmIChyb3V0aW5nKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5yb3V0aW5nID0gcm91dGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hzKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5wYXRjaF9ib2x0ID0gcGF0Y2hzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoSEVMTE8sIFttZXRhZGF0YV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiSEVMTE8ge3VzZXJfYWdlbnQ6ICdcIi5jb25jYXQodXNlckFnZW50LCBcIicsIC4uLn1cIik7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uYWwgc2VydmVyIHNpZGUgcm91dGluZywgc2V0IHRvIHJvdXRpbmcgY29udGV4dCB0byB0dXJuIG9uIHNlcnZlciBzaWRlIHJvdXRpbmcgKD4gNC4xKVxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgSEVMTE8gbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5oZWxsbzV4MSA9IGZ1bmN0aW9uICh1c2VyQWdlbnQsIHJvdXRpbmcpIHtcbiAgICAgICAgaWYgKHJvdXRpbmcgPT09IHZvaWQgMCkgeyByb3V0aW5nID0gbnVsbDsgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSB7IHVzZXJfYWdlbnQ6IHVzZXJBZ2VudCB9O1xuICAgICAgICBpZiAocm91dGluZykge1xuICAgICAgICAgICAgbWV0YWRhdGEucm91dGluZyA9IHJvdXRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShIRUxMTywgW21ldGFkYXRhXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJIRUxMTyB7dXNlcl9hZ2VudDogJ1wiLmNvbmNhdCh1c2VyQWdlbnQsIFwiJywgLi4ufVwiKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSEVMTE8gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlckFnZW50IHRoZSB1c2VyIGFnZW50LlxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXIgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByb3V0aW5nIHNlcnZlciBzaWRlIHJvdXRpbmcsIHNldCB0byByb3V0aW5nIGNvbnRleHQgdG8gdHVybiBvbiBzZXJ2ZXIgc2lkZSByb3V0aW5nICg+IDQuMSlcbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UuaGVsbG81eDIgPSBmdW5jdGlvbiAodXNlckFnZW50LCBub3RpZmljYXRpb25GaWx0ZXIsIHJvdXRpbmcpIHtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlciA9PT0gdm9pZCAwKSB7IG5vdGlmaWNhdGlvbkZpbHRlciA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJvdXRpbmcgPT09IHZvaWQgMCkgeyByb3V0aW5nID0gbnVsbDsgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSB7IHVzZXJfYWdlbnQ6IHVzZXJBZ2VudCB9O1xuICAgICAgICBhcHBlbmRMZWdhY3lOb3RpZmljYXRpb25GaWx0ZXJUb01ldGFkYXRhKG1ldGFkYXRhLCBub3RpZmljYXRpb25GaWx0ZXIpO1xuICAgICAgICBpZiAocm91dGluZykge1xuICAgICAgICAgICAgbWV0YWRhdGEucm91dGluZyA9IHJvdXRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShIRUxMTywgW21ldGFkYXRhXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJIRUxMTyBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtZXRhZGF0YSkpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBIRUxMTyBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWdlbnQgdGhlIHVzZXIgYWdlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJvbHRBZ2VudCB0aGUgYm9sdCBhZ2VudC5cbiAgICAgKiBAcGFyYW0ge05vdGlmaWNhdGlvbkZpbHRlcn0gbm90aWZpY2F0aW9uRmlsdGVyIHRoZSBub3RpZmljYXRpb24gZmlsdGVyIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcm91dGluZyBzZXJ2ZXIgc2lkZSByb3V0aW5nLCBzZXQgdG8gcm91dGluZyBjb250ZXh0IHRvIHR1cm4gb24gc2VydmVyIHNpZGUgcm91dGluZyAoPiA0LjEpXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IG5ldyBIRUxMTyBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLmhlbGxvNXgzID0gZnVuY3Rpb24gKHVzZXJBZ2VudCwgYm9sdEFnZW50LCBub3RpZmljYXRpb25GaWx0ZXIsIHJvdXRpbmcpIHtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlciA9PT0gdm9pZCAwKSB7IG5vdGlmaWNhdGlvbkZpbHRlciA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJvdXRpbmcgPT09IHZvaWQgMCkgeyByb3V0aW5nID0gbnVsbDsgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSB7fTtcbiAgICAgICAgaWYgKHVzZXJBZ2VudCkge1xuICAgICAgICAgICAgbWV0YWRhdGEudXNlcl9hZ2VudCA9IHVzZXJBZ2VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9sdEFnZW50KSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5ib2x0X2FnZW50ID0ge1xuICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGJvbHRBZ2VudC5wcm9kdWN0LFxuICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBib2x0QWdlbnQucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGJvbHRBZ2VudC5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICBsYW5ndWFnZV9kZXRhaWxzOiBib2x0QWdlbnQubGFuZ3VhZ2VEZXRhaWxzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGFwcGVuZExlZ2FjeU5vdGlmaWNhdGlvbkZpbHRlclRvTWV0YWRhdGEobWV0YWRhdGEsIG5vdGlmaWNhdGlvbkZpbHRlcik7XG4gICAgICAgIGlmIChyb3V0aW5nKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5yb3V0aW5nID0gcm91dGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKEhFTExPLCBbbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkhFTExPIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1ldGFkYXRhKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYm9sdEFnZW50IHRoZSBib2x0IGFnZW50LlxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXIgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByb3V0aW5nIHNlcnZlciBzaWRlIHJvdXRpbmcsIHNldCB0byByb3V0aW5nIGNvbnRleHQgdG8gdHVybiBvbiBzZXJ2ZXIgc2lkZSByb3V0aW5nICg+IDQuMSlcbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UuaGVsbG81eDUgPSBmdW5jdGlvbiAodXNlckFnZW50LCBib2x0QWdlbnQsIG5vdGlmaWNhdGlvbkZpbHRlciwgcm91dGluZykge1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyID09PSB2b2lkIDApIHsgbm90aWZpY2F0aW9uRmlsdGVyID0gbnVsbDsgfVxuICAgICAgICBpZiAocm91dGluZyA9PT0gdm9pZCAwKSB7IHJvdXRpbmcgPSBudWxsOyB9XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHt9O1xuICAgICAgICBpZiAodXNlckFnZW50KSB7XG4gICAgICAgICAgICBtZXRhZGF0YS51c2VyX2FnZW50ID0gdXNlckFnZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2x0QWdlbnQpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLmJvbHRfYWdlbnQgPSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdDogYm9sdEFnZW50LnByb2R1Y3QsXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IGJvbHRBZ2VudC5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBsYW5ndWFnZTogYm9sdEFnZW50Lmxhbmd1YWdlLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlX2RldGFpbHM6IGJvbHRBZ2VudC5sYW5ndWFnZURldGFpbHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgYXBwZW5kR3FsTm90aWZpY2F0aW9uRmlsdGVyVG9NZXRhZGF0YShtZXRhZGF0YSwgbm90aWZpY2F0aW9uRmlsdGVyKTtcbiAgICAgICAgaWYgKHJvdXRpbmcpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLnJvdXRpbmcgPSByb3V0aW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoSEVMTE8sIFttZXRhZGF0YV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiSEVMTE8gXCIuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkobWV0YWRhdGEpKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTE9HT04gbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhdXRoVG9rZW4gVGhlIGF1dGggdG9rZW5cbiAgICAgKiBAcmV0dXJucyB7UmVxdWVzdE1lc3NhZ2V9IG5ldyBMT0dPTiBtZXNzYWdlXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UubG9nb24gPSBmdW5jdGlvbiAoYXV0aFRva2VuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoTE9HT04sIFthdXRoVG9rZW5dLCBmdW5jdGlvbiAoKSB7IHJldHVybiAnTE9HT04geyAuLi4gfSc7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IExPR09GRiBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1JlcXVlc3RNZXNzYWdlfSBuZXcgTE9HT0ZGIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5sb2dvZmYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoTE9HT0ZGLCBbXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0xPR09GRic7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJFR0lOIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtCb29rbWFya3N9IGJvb2ttYXJrcyB0aGUgYm9va21hcmtzLlxuICAgICAqIEBwYXJhbSB7VHhDb25maWd9IHR4Q29uZmlnIHRoZSBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZSB0aGUgZGF0YWJhc2UgbmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSB0aGUgYWNjZXNzIG1vZGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltcGVyc29uYXRlZFVzZXIgdGhlIGltcGVyc29uYXRlZCB1c2VyLlxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXJcbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gbmV3IEJFR0lOIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UuYmVnaW4gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgbW9kZSA9IF9iLm1vZGUsIGltcGVyc29uYXRlZFVzZXIgPSBfYi5pbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXI7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGJ1aWxkVHhNZXRhZGF0YShib29rbWFya3MsIHR4Q29uZmlnLCBkYXRhYmFzZSwgbW9kZSwgaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShCRUdJTiwgW21ldGFkYXRhXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJCRUdJTiBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtZXRhZGF0YSkpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCRUdJTiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7Qm9va21hcmtzfSBib29rbWFya3MgdGhlIGJvb2ttYXJrcy5cbiAgICAgKiBAcGFyYW0ge1R4Q29uZmlnfSB0eENvbmZpZyB0aGUgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YWJhc2UgdGhlIGRhdGFiYXNlIG5hbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgdGhlIGFjY2VzcyBtb2RlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbXBlcnNvbmF0ZWRVc2VyIHRoZSBpbXBlcnNvbmF0ZWQgdXNlci5cbiAgICAgKiBAcGFyYW0ge05vdGlmaWNhdGlvbkZpbHRlcn0gbm90aWZpY2F0aW9uRmlsdGVyIHRoZSBub3RpZmljYXRpb24gZmlsdGVyXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IG5ldyBCRUdJTiBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLmJlZ2luNXg1ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyO1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBidWlsZFR4TWV0YWRhdGEoYm9va21hcmtzLCB0eENvbmZpZywgZGF0YWJhc2UsIG1vZGUsIGltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciwge1xuICAgICAgICAgICAgYXBwZW5kTm90aWZpY2F0aW9uRmlsdGVyOiBhcHBlbmRHcWxOb3RpZmljYXRpb25GaWx0ZXJUb01ldGFkYXRhXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKEJFR0lOLCBbbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkJFR0lOIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1ldGFkYXRhKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgQ09NTUlUIG1lc3NhZ2UuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBDT01NSVQgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5jb21taXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBDT01NSVRfTUVTU0FHRTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIFJPTExCQUNLIG1lc3NhZ2UuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBST0xMQkFDSyBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLnJvbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUk9MTEJBQ0tfTUVTU0FHRTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBSVU4gbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IHRoZSBjeXBoZXIgcXVlcnkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV4dHJhIC0gZXh0cmEgcGFyYW1zXG4gICAgICogQHBhcmFtIHtCb29rbWFya3N9IGV4dHJhLmJvb2ttYXJrcyB0aGUgYm9va21hcmtzLlxuICAgICAqIEBwYXJhbSB7VHhDb25maWd9IGV4dHJhLnR4Q29uZmlnIHRoZSBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRyYS5kYXRhYmFzZSB0aGUgZGF0YWJhc2UgbmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0cmEubW9kZSB0aGUgYWNjZXNzIG1vZGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dHJhLmltcGVyc29uYXRlZFVzZXIgdGhlIGltcGVyc29uYXRlZCB1c2VyLlxuICAgICAqIEBwYXJhbSB7bm90aWZpY2F0aW9uRmlsdGVyfSBleHRyYS5ub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXJcbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gbmV3IFJVTiBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5ydW5XaXRoTWV0YWRhdGEgPSBmdW5jdGlvbiAocXVlcnksIHBhcmFtZXRlcnMsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyO1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBidWlsZFR4TWV0YWRhdGEoYm9va21hcmtzLCB0eENvbmZpZywgZGF0YWJhc2UsIG1vZGUsIGltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlcik7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoUlVOLCBbcXVlcnksIHBhcmFtZXRlcnMsIG1ldGFkYXRhXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiUlVOIFwiLmNvbmNhdChxdWVyeSwgXCIgXCIpLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KHBhcmFtZXRlcnMpLCBcIiBcIikuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkobWV0YWRhdGEpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgUlVOIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSB0aGUgY3lwaGVyIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIHRoZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBleHRyYSAtIGV4dHJhIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7Qm9va21hcmtzfSBleHRyYS5ib29rbWFya3MgdGhlIGJvb2ttYXJrcy5cbiAgICAgKiBAcGFyYW0ge1R4Q29uZmlnfSBleHRyYS50eENvbmZpZyB0aGUgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0cmEuZGF0YWJhc2UgdGhlIGRhdGFiYXNlIG5hbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dHJhLm1vZGUgdGhlIGFjY2VzcyBtb2RlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRyYS5pbXBlcnNvbmF0ZWRVc2VyIHRoZSBpbXBlcnNvbmF0ZWQgdXNlci5cbiAgICAgKiBAcGFyYW0ge25vdGlmaWNhdGlvbkZpbHRlcn0gZXh0cmEubm90aWZpY2F0aW9uRmlsdGVyIHRoZSBub3RpZmljYXRpb24gZmlsdGVyXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IG5ldyBSVU4gbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgbWV0YWRhdGEuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UucnVuV2l0aE1ldGFkYXRhNXg1ID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlcjtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gYnVpbGRUeE1ldGFkYXRhKGJvb2ttYXJrcywgdHhDb25maWcsIGRhdGFiYXNlLCBtb2RlLCBpbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIsIHtcbiAgICAgICAgICAgIGFwcGVuZE5vdGlmaWNhdGlvbkZpbHRlcjogYXBwZW5kR3FsTm90aWZpY2F0aW9uRmlsdGVyVG9NZXRhZGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShSVU4sIFtxdWVyeSwgcGFyYW1ldGVycywgbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJSVU4gXCIuY29uY2F0KHF1ZXJ5LCBcIiBcIikuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocGFyYW1ldGVycyksIFwiIFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtZXRhZGF0YSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIEdPT0RCWUUgbWVzc2FnZS5cbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gdGhlIEdPT0RCWUUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5nb29kYnllID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gR09PREJZRV9NRVNTQUdFO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgbmV3IFBVTEwgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcn0gc3RtdElkXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcn0gblxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSB0aGUgUFVMTCBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLnB1bGwgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9jID0gX2Iuc3RtdElkLCBzdG10SWQgPSBfYyA9PT0gdm9pZCAwID8gTk9fU1RBVEVNRU5UX0lEIDogX2MsIF9kID0gX2IubiwgbiA9IF9kID09PSB2b2lkIDAgPyBGRVRDSF9BTEwgOiBfZDtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gYnVpbGRTdHJlYW1NZXRhZGF0YShzdG10SWQgPT09IG51bGwgfHwgc3RtdElkID09PSB1bmRlZmluZWQgPyBOT19TVEFURU1FTlRfSUQgOiBzdG10SWQsIG4gfHwgRkVUQ0hfQUxMKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShQVUxMLCBbbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIlBVTEwgXCIuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkobWV0YWRhdGEpKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBuZXcgRElTQ0FSRCBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfSBzdG10SWRcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfSBuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBQVUxMIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UuZGlzY2FyZCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5zdG10SWQsIHN0bXRJZCA9IF9jID09PSB2b2lkIDAgPyBOT19TVEFURU1FTlRfSUQgOiBfYywgX2QgPSBfYi5uLCBuID0gX2QgPT09IHZvaWQgMCA/IEZFVENIX0FMTCA6IF9kO1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBidWlsZFN0cmVhbU1ldGFkYXRhKHN0bXRJZCA9PT0gbnVsbCB8fCBzdG10SWQgPT09IHVuZGVmaW5lZCA/IE5PX1NUQVRFTUVOVF9JRCA6IHN0bXRJZCwgbiB8fCBGRVRDSF9BTEwpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKERJU0NBUkQsIFttZXRhZGF0YV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiRElTQ0FSRCBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtZXRhZGF0YSkpOyB9KTtcbiAgICB9O1xuICAgIFJlcXVlc3RNZXNzYWdlLnRlbGVtZXRyeSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgYXBpID0gX2EuYXBpO1xuICAgICAgICB2YXIgcGFyc2VkQXBpID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShhcGkpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKFRFTEVNRVRSWSwgW3BhcnNlZEFwaV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiVEVMRU1FVFJZIFwiLmNvbmNhdChwYXJzZWRBcGkudG9TdHJpbmcoKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIFJPVVRFIG1lc3NhZ2UsIHRoaXMgbWVzc2FnZSBpcyB1c2VkIHRvIGZldGNoIHRoZSByb3V0aW5nIHRhYmxlIGZyb20gdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJvdXRpbmdDb250ZXh0IFRoZSByb3V0aW5nIGNvbnRleHQgdXNlZCB0byBkZWZpbmUgdGhlIHJvdXRpbmcgdGFibGUuIE11bHRpLWRhdGFjZW50ZXIgZGVwbG95bWVudHMgaXMgb25lIG9mIGl0cyB1c2UgY2FzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBib29rbWFya3MgVGhlIGxpc3Qgb2YgdGhlIGJvb2ttYXJrcyBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZU5hbWUgVGhlIG5hbWUgb2YgdGhlIGRhdGFiYXNlIHRvIGdldCB0aGUgcm91dGluZyB0YWJsZSBmb3IuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBST1VURSBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLnJvdXRlID0gZnVuY3Rpb24gKHJvdXRpbmdDb250ZXh0LCBib29rbWFya3MsIGRhdGFiYXNlTmFtZSkge1xuICAgICAgICBpZiAocm91dGluZ0NvbnRleHQgPT09IHZvaWQgMCkgeyByb3V0aW5nQ29udGV4dCA9IHt9OyB9XG4gICAgICAgIGlmIChib29rbWFya3MgPT09IHZvaWQgMCkgeyBib29rbWFya3MgPSBbXTsgfVxuICAgICAgICBpZiAoZGF0YWJhc2VOYW1lID09PSB2b2lkIDApIHsgZGF0YWJhc2VOYW1lID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKFJPVVRFLCBbcm91dGluZ0NvbnRleHQsIGJvb2ttYXJrcywgZGF0YWJhc2VOYW1lXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiUk9VVEUgXCIuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocm91dGluZ0NvbnRleHQpLCBcIiBcIikuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkoYm9va21hcmtzKSwgXCIgXCIpLmNvbmNhdChkYXRhYmFzZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSBST1VURSBtZXNzYWdlLCB0aGlzIG1lc3NhZ2UgaXMgdXNlZCB0byBmZXRjaCB0aGUgcm91dGluZyB0YWJsZSBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByb3V0aW5nQ29udGV4dCBUaGUgcm91dGluZyBjb250ZXh0IHVzZWQgdG8gZGVmaW5lIHRoZSByb3V0aW5nIHRhYmxlLiBNdWx0aS1kYXRhY2VudGVyIGRlcGxveW1lbnRzIGlzIG9uZSBvZiBpdHMgdXNlIGNhc2VzXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gYm9va21hcmtzIFRoZSBsaXN0IG9mIHRoZSBib29rbWFya3Mgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YWJhc2VDb250ZXh0IFRoZSBjb250ZXh0IGluZm9yYW10aW9uIG9mIHRoZSBkYXRhYmFzZSB0byBnZXQgdGhlIHJvdXRpbmcgdGFibGUgZm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZUNvbnRleHQuZGF0YWJhc2VOYW1lIFRoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSB0byBnZXQgdGhlIHJvdXRpbmcgdGFibGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFiYXNlQ29udGV4dC5pbXBlcnNvbmF0ZWRVc2VyIFRoZSBuYW1lIG9mIHRoZSB1c2VyIHRvIGltcGVyc29uYXRpb24gd2hlbiBnZXR0aW5nIHRoZSByb3V0aW5nIHRhYmxlLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSB0aGUgUk9VVEUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5yb3V0ZVY0eDQgPSBmdW5jdGlvbiAocm91dGluZ0NvbnRleHQsIGJvb2ttYXJrcywgZGF0YWJhc2VDb250ZXh0KSB7XG4gICAgICAgIGlmIChyb3V0aW5nQ29udGV4dCA9PT0gdm9pZCAwKSB7IHJvdXRpbmdDb250ZXh0ID0ge307IH1cbiAgICAgICAgaWYgKGJvb2ttYXJrcyA9PT0gdm9pZCAwKSB7IGJvb2ttYXJrcyA9IFtdOyB9XG4gICAgICAgIGlmIChkYXRhYmFzZUNvbnRleHQgPT09IHZvaWQgMCkgeyBkYXRhYmFzZUNvbnRleHQgPSB7fTsgfVxuICAgICAgICB2YXIgZGJDb250ZXh0ID0ge307XG4gICAgICAgIGlmIChkYXRhYmFzZUNvbnRleHQuZGF0YWJhc2VOYW1lKSB7XG4gICAgICAgICAgICBkYkNvbnRleHQuZGIgPSBkYXRhYmFzZUNvbnRleHQuZGF0YWJhc2VOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhYmFzZUNvbnRleHQuaW1wZXJzb25hdGVkVXNlcikge1xuICAgICAgICAgICAgZGJDb250ZXh0LmltcF91c2VyID0gZGF0YWJhc2VDb250ZXh0LmltcGVyc29uYXRlZFVzZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShST1VURSwgW3JvdXRpbmdDb250ZXh0LCBib29rbWFya3MsIGRiQ29udGV4dF0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlJPVVRFIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KHJvdXRpbmdDb250ZXh0KSwgXCIgXCIpLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KGJvb2ttYXJrcyksIFwiIFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShkYkNvbnRleHQpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVxdWVzdE1lc3NhZ2U7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUmVxdWVzdE1lc3NhZ2U7XG4vKipcbiAqIENyZWF0ZSBhbiBvYmplY3QgdGhhdCByZXByZXNlbnQgdHJhbnNhY3Rpb24gbWV0YWRhdGEuXG4gKiBAcGFyYW0ge0Jvb2ttYXJrc30gYm9va21hcmtzIHRoZSBib29rbWFya3MuXG4gKiBAcGFyYW0ge1R4Q29uZmlnfSB0eENvbmZpZyB0aGUgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZSB0aGUgZGF0YWJhc2UgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIHRoZSBhY2Nlc3MgbW9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpbXBlcnNvbmF0ZWRVc2VyIHRoZSBpbXBlcnNvbmF0ZWQgdXNlciBtb2RlLlxuICogQHBhcmFtIHtub3RpZmljYXRpb25GaWx0ZXJ9IG5vdGlmaWNhdGlvbkZpbHRlciB0aGUgbm90aWZpY2F0aW9uIGZpbHRlclxuICogQHBhcmFtIHtPYmplY3R9IGZ1bmN0aW9ucyBUcmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgYXBwbGllZCB0byBtZXRhZGF0YVxuICogQHBhcmFtIHtmdW5jdGlvbihtZXRhZGF0YSxub3RpZmljYXRpb25GaWx0ZXIpOnZvaWR9IGZ1bmN0aW9ucy5hcHBlbmROb3RpZmljYXRpb25GaWx0ZXIgQ2hhbmdlcyBtZXRhZGF0YSBieSBhcHBlbmRpbmcgdGhlIE5vdGlmaWNhdGlvbiBGaWx0ZXIgdG8gaXQuXG4gKiBAcmV0dXJuIHtPYmplY3R9IGEgbWV0YWRhdGEgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBidWlsZFR4TWV0YWRhdGEoYm9va21hcmtzLCB0eENvbmZpZywgZGF0YWJhc2UsIG1vZGUsIGltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciwgZnVuY3Rpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChmdW5jdGlvbnMgPT09IHZvaWQgMCkgeyBmdW5jdGlvbnMgPSB7fTsgfVxuICAgIHZhciBtZXRhZGF0YSA9IHt9O1xuICAgIGlmICghYm9va21hcmtzLmlzRW1wdHkoKSkge1xuICAgICAgICBtZXRhZGF0YS5ib29rbWFya3MgPSBib29rbWFya3MudmFsdWVzKCk7XG4gICAgfVxuICAgIGlmICh0eENvbmZpZy50aW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgIG1ldGFkYXRhLnR4X3RpbWVvdXQgPSB0eENvbmZpZy50aW1lb3V0O1xuICAgIH1cbiAgICBpZiAodHhDb25maWcubWV0YWRhdGEpIHtcbiAgICAgICAgbWV0YWRhdGEudHhfbWV0YWRhdGEgPSB0eENvbmZpZy5tZXRhZGF0YTtcbiAgICB9XG4gICAgaWYgKGRhdGFiYXNlKSB7XG4gICAgICAgIG1ldGFkYXRhLmRiID0gYXNzZXJ0U3RyaW5nKGRhdGFiYXNlLCAnZGF0YWJhc2UnKTtcbiAgICB9XG4gICAgaWYgKGltcGVyc29uYXRlZFVzZXIpIHtcbiAgICAgICAgbWV0YWRhdGEuaW1wX3VzZXIgPSBhc3NlcnRTdHJpbmcoaW1wZXJzb25hdGVkVXNlciwgJ2ltcGVyc29uYXRlZFVzZXInKTtcbiAgICB9XG4gICAgaWYgKG1vZGUgPT09IEFDQ0VTU19NT0RFX1JFQUQpIHtcbiAgICAgICAgbWV0YWRhdGEubW9kZSA9IFJFQURfTU9ERTtcbiAgICB9XG4gICAgdmFyIGFwcGVuZE5vdGlmaWNhdGlvbkZpbHRlciA9IChfYSA9IGZ1bmN0aW9ucy5hcHBlbmROb3RpZmljYXRpb25GaWx0ZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGFwcGVuZExlZ2FjeU5vdGlmaWNhdGlvbkZpbHRlclRvTWV0YWRhdGE7XG4gICAgYXBwZW5kTm90aWZpY2F0aW9uRmlsdGVyKG1ldGFkYXRhLCBub3RpZmljYXRpb25GaWx0ZXIpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgc3RyZWFtaW5nIG1ldGFkYXRhLlxuICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcn0gc3RtdElkIFRoZSBxdWVyeSBpZCB0byBzdHJlYW0gaXRzIHJlc3VsdHMuXG4gKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgcmVjb3JkcyB0byBzdHJlYW0uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBhIG1ldGFkYXRhIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gYnVpbGRTdHJlYW1NZXRhZGF0YShzdG10SWQsIG4pIHtcbiAgICB2YXIgbWV0YWRhdGEgPSB7IG46ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkobikgfTtcbiAgICBpZiAoc3RtdElkICE9PSBOT19TVEFURU1FTlRfSUQpIHtcbiAgICAgICAgbWV0YWRhdGEucWlkID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShzdG10SWQpO1xuICAgIH1cbiAgICByZXR1cm4gbWV0YWRhdGE7XG59XG5mdW5jdGlvbiBhcHBlbmRMZWdhY3lOb3RpZmljYXRpb25GaWx0ZXJUb01ldGFkYXRhKG1ldGFkYXRhLCBub3RpZmljYXRpb25GaWx0ZXIpIHtcbiAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyKSB7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25GaWx0ZXIubWluaW11bVNldmVyaXR5TGV2ZWwpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLm5vdGlmaWNhdGlvbnNfbWluaW11bV9zZXZlcml0eSA9IG5vdGlmaWNhdGlvbkZpbHRlci5taW5pbXVtU2V2ZXJpdHlMZXZlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyLmRpc2FibGVkQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgbWV0YWRhdGEubm90aWZpY2F0aW9uc19kaXNhYmxlZF9jYXRlZ29yaWVzID0gbm90aWZpY2F0aW9uRmlsdGVyLmRpc2FibGVkQ2F0ZWdvcmllcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyLmRpc2FibGVkQ2xhc3NpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5ub3RpZmljYXRpb25zX2Rpc2FibGVkX2NhdGVnb3JpZXMgPSBub3RpZmljYXRpb25GaWx0ZXIuZGlzYWJsZWRDbGFzc2lmaWNhdGlvbnM7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhcHBlbmRHcWxOb3RpZmljYXRpb25GaWx0ZXJUb01ldGFkYXRhKG1ldGFkYXRhLCBub3RpZmljYXRpb25GaWx0ZXIpIHtcbiAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyKSB7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25GaWx0ZXIubWluaW11bVNldmVyaXR5TGV2ZWwpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLm5vdGlmaWNhdGlvbnNfbWluaW11bV9zZXZlcml0eSA9IG5vdGlmaWNhdGlvbkZpbHRlci5taW5pbXVtU2V2ZXJpdHlMZXZlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyLmRpc2FibGVkQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgbWV0YWRhdGEubm90aWZpY2F0aW9uc19kaXNhYmxlZF9jbGFzc2lmaWNhdGlvbnMgPSBub3RpZmljYXRpb25GaWx0ZXIuZGlzYWJsZWRDYXRlZ29yaWVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RpZmljYXRpb25GaWx0ZXIuZGlzYWJsZWRDbGFzc2lmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLm5vdGlmaWNhdGlvbnNfZGlzYWJsZWRfY2xhc3NpZmljYXRpb25zID0gbm90aWZpY2F0aW9uRmlsdGVyLmRpc2FibGVkQ2xhc3NpZmljYXRpb25zO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gY29uc3RhbnRzIGZvciBtZXNzYWdlcyB0aGF0IG5ldmVyIGNoYW5nZVxudmFyIFBVTExfQUxMX01FU1NBR0UgPSBuZXcgUmVxdWVzdE1lc3NhZ2UoUFVMTF9BTEwsIFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiAnUFVMTF9BTEwnOyB9KTtcbnZhciBSRVNFVF9NRVNTQUdFID0gbmV3IFJlcXVlc3RNZXNzYWdlKFJFU0VULCBbXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gJ1JFU0VUJzsgfSk7XG52YXIgQ09NTUlUX01FU1NBR0UgPSBuZXcgUmVxdWVzdE1lc3NhZ2UoQ09NTUlULCBbXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0NPTU1JVCc7IH0pO1xudmFyIFJPTExCQUNLX01FU1NBR0UgPSBuZXcgUmVxdWVzdE1lc3NhZ2UoUk9MTEJBQ0ssIFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiAnUk9MTEJBQ0snOyB9KTtcbnZhciBHT09EQllFX01FU1NBR0UgPSBuZXcgUmVxdWVzdE1lc3NhZ2UoR09PREJZRSwgW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuICdHT09EQllFJzsgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\n// Signature bytes for each response message type\nvar SUCCESS = 0x70; // 0111 0000 // SUCCESS <metadata>\nvar RECORD = 0x71; // 0111 0001 // RECORD <value>\nvar IGNORED = 0x7e; // 0111 1110 // IGNORED <metadata>\nvar FAILURE = 0x7f; // 0111 1111 // FAILURE <metadata>\nfunction NO_OP() { }\nfunction NO_OP_IDENTITY(subject) {\n    return subject;\n}\nvar NO_OP_OBSERVER = {\n    onNext: NO_OP,\n    onCompleted: NO_OP,\n    onError: NO_OP\n};\n/**\n * Treat the protocol responses and notify the observers\n */\nvar ResponseHandler = /** @class */ (function () {\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~Observer~OnErrorApplyTransformation\n     * @param {any} error The error\n     * @returns {any} The new error\n     */\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~Observer~OnError\n     * @param {any} error The error\n     */\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~MetadataTransformer\n     * @param {any} metadata The metadata got onSuccess\n     * @returns {any} The transformed metadata\n     */\n    /**\n     * @typedef {Object} ResponseHandler~Observer\n     * @property {ResponseHandler~Observer~OnError} onError Invoke when a connection error occurs\n     * @property {ResponseHandler~Observer~OnError} onFailure Invoke when a protocol failure occurs\n     * @property {ResponseHandler~Observer~OnErrorApplyTransformation} onErrorApplyTransformation Invoke just after the failure occurs,\n     *  before notify to respective observer. This method should transform the failure reason to the approprited one.\n     */\n    /**\n     * Constructor\n     * @param {Object} param The params\n     * @param {ResponseHandler~MetadataTransformer} transformMetadata Transform metadata when the SUCCESS is received.\n     * @param {Channel} channel The channel used to exchange messages\n     * @param {Logger} log The logger\n     * @param {ResponseHandler~Observer} observer Object which will be notified about errors\n     */\n    function ResponseHandler(_a) {\n        var _b = _a === void 0 ? {} : _a, transformMetadata = _b.transformMetadata, enrichErrorMetadata = _b.enrichErrorMetadata, log = _b.log, observer = _b.observer;\n        this._pendingObservers = [];\n        this._log = log;\n        this._transformMetadata = transformMetadata || NO_OP_IDENTITY;\n        this._enrichErrorMetadata = enrichErrorMetadata || NO_OP_IDENTITY;\n        this._observer = Object.assign({\n            onObserversCountChange: NO_OP,\n            onError: NO_OP,\n            onFailure: NO_OP,\n            onErrorApplyTransformation: NO_OP_IDENTITY\n        }, observer);\n    }\n    Object.defineProperty(ResponseHandler.prototype, \"currentFailure\", {\n        get: function () {\n            return this._currentFailure;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ResponseHandler.prototype.handleResponse = function (msg) {\n        var payload = msg.fields[0];\n        switch (msg.signature) {\n            case RECORD:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: RECORD \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                this._currentObserver.onNext(payload);\n                break;\n            case SUCCESS:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: SUCCESS \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    var metadata = this._transformMetadata(payload);\n                    this._currentObserver.onCompleted(metadata);\n                }\n                finally {\n                    this._updateCurrentObserver();\n                }\n                break;\n            case FAILURE:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: FAILURE \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    this._currentFailure = this._handleErrorPayload(this._enrichErrorMetadata(payload));\n                    this._currentObserver.onError(this._currentFailure);\n                }\n                finally {\n                    this._updateCurrentObserver();\n                    // Things are now broken. Pending observers will get FAILURE messages routed until we are done handling this failure.\n                    this._observer.onFailure(this._currentFailure);\n                }\n                break;\n            case IGNORED:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: IGNORED \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    if (this._currentFailure && this._currentObserver.onError) {\n                        this._currentObserver.onError(this._currentFailure);\n                    }\n                    else if (this._currentObserver.onError) {\n                        this._currentObserver.onError((0, neo4j_driver_core_1.newError)('Ignored either because of an error or RESET'));\n                    }\n                }\n                finally {\n                    this._updateCurrentObserver();\n                }\n                break;\n            default:\n                this._observer.onError((0, neo4j_driver_core_1.newError)('Unknown Bolt protocol message: ' + msg));\n        }\n    };\n    /*\n     * Pop next pending observer form the list of observers and make it current observer.\n     * @protected\n     */\n    ResponseHandler.prototype._updateCurrentObserver = function () {\n        this._currentObserver = this._pendingObservers.shift();\n        this._observer.onObserversCountChange(this._observersCount);\n    };\n    Object.defineProperty(ResponseHandler.prototype, \"_observersCount\", {\n        get: function () {\n            return this._currentObserver == null ? this._pendingObservers.length : this._pendingObservers.length + 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ResponseHandler.prototype._queueObserver = function (observer) {\n        observer = observer || NO_OP_OBSERVER;\n        observer.onCompleted = observer.onCompleted || NO_OP;\n        observer.onError = observer.onError || NO_OP;\n        observer.onNext = observer.onNext || NO_OP;\n        if (this._currentObserver === undefined) {\n            this._currentObserver = observer;\n        }\n        else {\n            this._pendingObservers.push(observer);\n        }\n        this._observer.onObserversCountChange(this._observersCount);\n        return true;\n    };\n    ResponseHandler.prototype._notifyErrorToObservers = function (error) {\n        if (this._currentObserver && this._currentObserver.onError) {\n            this._currentObserver.onError(error);\n        }\n        while (this._pendingObservers.length > 0) {\n            var observer = this._pendingObservers.shift();\n            if (observer && observer.onError) {\n                observer.onError(error);\n            }\n        }\n    };\n    ResponseHandler.prototype.hasOngoingObservableRequests = function () {\n        return this._currentObserver != null || this._pendingObservers.length > 0;\n    };\n    ResponseHandler.prototype._resetFailure = function () {\n        this._currentFailure = null;\n    };\n    ResponseHandler.prototype._handleErrorPayload = function (payload) {\n        var standardizedCode = _standardizeCode(payload.code);\n        var cause = payload.cause != null ? this._handleErrorCause(payload.cause) : undefined;\n        var error = (0, neo4j_driver_core_1.newError)(payload.message, standardizedCode, cause, payload.gql_status, payload.description, payload.diagnostic_record);\n        return this._observer.onErrorApplyTransformation(error);\n    };\n    ResponseHandler.prototype._handleErrorCause = function (payload) {\n        var cause = payload.cause != null ? this._handleErrorCause(payload.cause) : undefined;\n        var error = (0, neo4j_driver_core_1.newGQLError)(payload.message, cause, payload.gql_status, payload.description, payload.diagnostic_record);\n        return this._observer.onErrorApplyTransformation(error);\n    };\n    return ResponseHandler;\n}());\nexports[\"default\"] = ResponseHandler;\n/**\n * Standardize error classification that are different between 5.x and previous versions.\n *\n * The transient error were clean-up for being retrieable and because of this\n * `Terminated` and `LockClientStopped` were reclassified as `ClientError`.\n *\n * @param {string} code\n * @returns {string} the standardized error code\n */\nfunction _standardizeCode(code) {\n    if (code === 'Neo.TransientError.Transaction.Terminated') {\n        return 'Neo.ClientError.Transaction.Terminated';\n    }\n    else if (code === 'Neo.TransientError.Transaction.LockClientStopped') {\n        return 'Neo.ClientError.Transaction.LockClientStopped';\n    }\n    return code;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yZXNwb25zZS1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0Esb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQixvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQixLQUFLO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQixLQUFLO0FBQ3RCO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixrQkFBa0Isa0NBQWtDO0FBQ3BELGtCQUFrQixrQ0FBa0M7QUFDcEQsa0JBQWtCLHFEQUFxRDtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHFDQUFxQztBQUNwRCxlQUFlLFNBQVM7QUFDeEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsMEJBQTBCO0FBQ3pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L3Jlc3BvbnNlLWhhbmRsZXIuanM/Y2YyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbi8vIFNpZ25hdHVyZSBieXRlcyBmb3IgZWFjaCByZXNwb25zZSBtZXNzYWdlIHR5cGVcbnZhciBTVUNDRVNTID0gMHg3MDsgLy8gMDExMSAwMDAwIC8vIFNVQ0NFU1MgPG1ldGFkYXRhPlxudmFyIFJFQ09SRCA9IDB4NzE7IC8vIDAxMTEgMDAwMSAvLyBSRUNPUkQgPHZhbHVlPlxudmFyIElHTk9SRUQgPSAweDdlOyAvLyAwMTExIDExMTAgLy8gSUdOT1JFRCA8bWV0YWRhdGE+XG52YXIgRkFJTFVSRSA9IDB4N2Y7IC8vIDAxMTEgMTExMSAvLyBGQUlMVVJFIDxtZXRhZGF0YT5cbmZ1bmN0aW9uIE5PX09QKCkgeyB9XG5mdW5jdGlvbiBOT19PUF9JREVOVElUWShzdWJqZWN0KSB7XG4gICAgcmV0dXJuIHN1YmplY3Q7XG59XG52YXIgTk9fT1BfT0JTRVJWRVIgPSB7XG4gICAgb25OZXh0OiBOT19PUCxcbiAgICBvbkNvbXBsZXRlZDogTk9fT1AsXG4gICAgb25FcnJvcjogTk9fT1Bcbn07XG4vKipcbiAqIFRyZWF0IHRoZSBwcm90b2NvbCByZXNwb25zZXMgYW5kIG5vdGlmeSB0aGUgb2JzZXJ2ZXJzXG4gKi9cbnZhciBSZXNwb25zZUhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gc29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgY29ubmVjdGlvXG4gICAgICogQGNhbGxiYWNrIFJlc3BvbnNlSGFuZGxlcn5PYnNlcnZlcn5PbkVycm9yQXBwbHlUcmFuc2Zvcm1hdGlvblxuICAgICAqIEBwYXJhbSB7YW55fSBlcnJvciBUaGUgZXJyb3JcbiAgICAgKiBAcmV0dXJucyB7YW55fSBUaGUgbmV3IGVycm9yXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gc29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgY29ubmVjdGlvXG4gICAgICogQGNhbGxiYWNrIFJlc3BvbnNlSGFuZGxlcn5PYnNlcnZlcn5PbkVycm9yXG4gICAgICogQHBhcmFtIHthbnl9IGVycm9yIFRoZSBlcnJvclxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggdGhlIGNvbm5lY3Rpb1xuICAgICAqIEBjYWxsYmFjayBSZXNwb25zZUhhbmRsZXJ+TWV0YWRhdGFUcmFuc2Zvcm1lclxuICAgICAqIEBwYXJhbSB7YW55fSBtZXRhZGF0YSBUaGUgbWV0YWRhdGEgZ290IG9uU3VjY2Vzc1xuICAgICAqIEByZXR1cm5zIHthbnl9IFRoZSB0cmFuc2Zvcm1lZCBtZXRhZGF0YVxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFJlc3BvbnNlSGFuZGxlcn5PYnNlcnZlclxuICAgICAqIEBwcm9wZXJ0eSB7UmVzcG9uc2VIYW5kbGVyfk9ic2VydmVyfk9uRXJyb3J9IG9uRXJyb3IgSW52b2tlIHdoZW4gYSBjb25uZWN0aW9uIGVycm9yIG9jY3Vyc1xuICAgICAqIEBwcm9wZXJ0eSB7UmVzcG9uc2VIYW5kbGVyfk9ic2VydmVyfk9uRXJyb3J9IG9uRmFpbHVyZSBJbnZva2Ugd2hlbiBhIHByb3RvY29sIGZhaWx1cmUgb2NjdXJzXG4gICAgICogQHByb3BlcnR5IHtSZXNwb25zZUhhbmRsZXJ+T2JzZXJ2ZXJ+T25FcnJvckFwcGx5VHJhbnNmb3JtYXRpb259IG9uRXJyb3JBcHBseVRyYW5zZm9ybWF0aW9uIEludm9rZSBqdXN0IGFmdGVyIHRoZSBmYWlsdXJlIG9jY3VycyxcbiAgICAgKiAgYmVmb3JlIG5vdGlmeSB0byByZXNwZWN0aXZlIG9ic2VydmVyLiBUaGlzIG1ldGhvZCBzaG91bGQgdHJhbnNmb3JtIHRoZSBmYWlsdXJlIHJlYXNvbiB0byB0aGUgYXBwcm9wcml0ZWQgb25lLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIFRoZSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge1Jlc3BvbnNlSGFuZGxlcn5NZXRhZGF0YVRyYW5zZm9ybWVyfSB0cmFuc2Zvcm1NZXRhZGF0YSBUcmFuc2Zvcm0gbWV0YWRhdGEgd2hlbiB0aGUgU1VDQ0VTUyBpcyByZWNlaXZlZC5cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWx9IGNoYW5uZWwgVGhlIGNoYW5uZWwgdXNlZCB0byBleGNoYW5nZSBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSB7TG9nZ2VyfSBsb2cgVGhlIGxvZ2dlclxuICAgICAqIEBwYXJhbSB7UmVzcG9uc2VIYW5kbGVyfk9ic2VydmVyfSBvYnNlcnZlciBPYmplY3Qgd2hpY2ggd2lsbCBiZSBub3RpZmllZCBhYm91dCBlcnJvcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXNwb25zZUhhbmRsZXIoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHRyYW5zZm9ybU1ldGFkYXRhID0gX2IudHJhbnNmb3JtTWV0YWRhdGEsIGVucmljaEVycm9yTWV0YWRhdGEgPSBfYi5lbnJpY2hFcnJvck1ldGFkYXRhLCBsb2cgPSBfYi5sb2csIG9ic2VydmVyID0gX2Iub2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdPYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9nID0gbG9nO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1NZXRhZGF0YSA9IHRyYW5zZm9ybU1ldGFkYXRhIHx8IE5PX09QX0lERU5USVRZO1xuICAgICAgICB0aGlzLl9lbnJpY2hFcnJvck1ldGFkYXRhID0gZW5yaWNoRXJyb3JNZXRhZGF0YSB8fCBOT19PUF9JREVOVElUWTtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIG9uT2JzZXJ2ZXJzQ291bnRDaGFuZ2U6IE5PX09QLFxuICAgICAgICAgICAgb25FcnJvcjogTk9fT1AsXG4gICAgICAgICAgICBvbkZhaWx1cmU6IE5PX09QLFxuICAgICAgICAgICAgb25FcnJvckFwcGx5VHJhbnNmb3JtYXRpb246IE5PX09QX0lERU5USVRZXG4gICAgICAgIH0sIG9ic2VydmVyKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUsIFwiY3VycmVudEZhaWx1cmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50RmFpbHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0gbXNnLmZpZWxkc1swXTtcbiAgICAgICAgc3dpdGNoIChtc2cuc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBjYXNlIFJFQ09SRDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiUzogUkVDT1JEIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1zZykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudE9ic2VydmVyLm9uTmV4dChwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU1VDQ0VTUzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiUzogU1VDQ0VTUyBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtc2cpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXRhZGF0YSA9IHRoaXMuX3RyYW5zZm9ybU1ldGFkYXRhKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIub25Db21wbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ3VycmVudE9ic2VydmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGQUlMVVJFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb2cuaXNEZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoXCJTOiBGQUlMVVJFIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1zZykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEZhaWx1cmUgPSB0aGlzLl9oYW5kbGVFcnJvclBheWxvYWQodGhpcy5fZW5yaWNoRXJyb3JNZXRhZGF0YShwYXlsb2FkKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRPYnNlcnZlci5vbkVycm9yKHRoaXMuX2N1cnJlbnRGYWlsdXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUN1cnJlbnRPYnNlcnZlcigpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGluZ3MgYXJlIG5vdyBicm9rZW4uIFBlbmRpbmcgb2JzZXJ2ZXJzIHdpbGwgZ2V0IEZBSUxVUkUgbWVzc2FnZXMgcm91dGVkIHVudGlsIHdlIGFyZSBkb25lIGhhbmRsaW5nIHRoaXMgZmFpbHVyZS5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIub25GYWlsdXJlKHRoaXMuX2N1cnJlbnRGYWlsdXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIElHTk9SRUQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvZy5pc0RlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5kZWJ1ZyhcIlM6IElHTk9SRUQgXCIuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkobXNnKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEZhaWx1cmUgJiYgdGhpcy5fY3VycmVudE9ic2VydmVyLm9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRPYnNlcnZlci5vbkVycm9yKHRoaXMuX2N1cnJlbnRGYWlsdXJlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9jdXJyZW50T2JzZXJ2ZXIub25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudE9ic2VydmVyLm9uRXJyb3IoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdJZ25vcmVkIGVpdGhlciBiZWNhdXNlIG9mIGFuIGVycm9yIG9yIFJFU0VUJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50T2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX29ic2VydmVyLm9uRXJyb3IoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdVbmtub3duIEJvbHQgcHJvdG9jb2wgbWVzc2FnZTogJyArIG1zZykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxuICAgICAqIFBvcCBuZXh0IHBlbmRpbmcgb2JzZXJ2ZXIgZm9ybSB0aGUgbGlzdCBvZiBvYnNlcnZlcnMgYW5kIG1ha2UgaXQgY3VycmVudCBvYnNlcnZlci5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUmVzcG9uc2VIYW5kbGVyLnByb3RvdHlwZS5fdXBkYXRlQ3VycmVudE9ic2VydmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIgPSB0aGlzLl9wZW5kaW5nT2JzZXJ2ZXJzLnNoaWZ0KCk7XG4gICAgICAgIHRoaXMuX29ic2VydmVyLm9uT2JzZXJ2ZXJzQ291bnRDaGFuZ2UodGhpcy5fb2JzZXJ2ZXJzQ291bnQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUsIFwiX29ic2VydmVyc0NvdW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudE9ic2VydmVyID09IG51bGwgPyB0aGlzLl9wZW5kaW5nT2JzZXJ2ZXJzLmxlbmd0aCA6IHRoaXMuX3BlbmRpbmdPYnNlcnZlcnMubGVuZ3RoICsgMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUuX3F1ZXVlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgb2JzZXJ2ZXIgPSBvYnNlcnZlciB8fCBOT19PUF9PQlNFUlZFUjtcbiAgICAgICAgb2JzZXJ2ZXIub25Db21wbGV0ZWQgPSBvYnNlcnZlci5vbkNvbXBsZXRlZCB8fCBOT19PUDtcbiAgICAgICAgb2JzZXJ2ZXIub25FcnJvciA9IG9ic2VydmVyLm9uRXJyb3IgfHwgTk9fT1A7XG4gICAgICAgIG9ic2VydmVyLm9uTmV4dCA9IG9ic2VydmVyLm9uTmV4dCB8fCBOT19PUDtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRPYnNlcnZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdPYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIub25PYnNlcnZlcnNDb3VudENoYW5nZSh0aGlzLl9vYnNlcnZlcnNDb3VudCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgUmVzcG9uc2VIYW5kbGVyLnByb3RvdHlwZS5fbm90aWZ5RXJyb3JUb09ic2VydmVycyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudE9ic2VydmVyICYmIHRoaXMuX2N1cnJlbnRPYnNlcnZlci5vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIub25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuX3BlbmRpbmdPYnNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gdGhpcy5fcGVuZGluZ09ic2VydmVycy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyICYmIG9ic2VydmVyLm9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzcG9uc2VIYW5kbGVyLnByb3RvdHlwZS5oYXNPbmdvaW5nT2JzZXJ2YWJsZVJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudE9ic2VydmVyICE9IG51bGwgfHwgdGhpcy5fcGVuZGluZ09ic2VydmVycy5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgUmVzcG9uc2VIYW5kbGVyLnByb3RvdHlwZS5fcmVzZXRGYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50RmFpbHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICBSZXNwb25zZUhhbmRsZXIucHJvdG90eXBlLl9oYW5kbGVFcnJvclBheWxvYWQgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICB2YXIgc3RhbmRhcmRpemVkQ29kZSA9IF9zdGFuZGFyZGl6ZUNvZGUocGF5bG9hZC5jb2RlKTtcbiAgICAgICAgdmFyIGNhdXNlID0gcGF5bG9hZC5jYXVzZSAhPSBudWxsID8gdGhpcy5faGFuZGxlRXJyb3JDYXVzZShwYXlsb2FkLmNhdXNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKHBheWxvYWQubWVzc2FnZSwgc3RhbmRhcmRpemVkQ29kZSwgY2F1c2UsIHBheWxvYWQuZ3FsX3N0YXR1cywgcGF5bG9hZC5kZXNjcmlwdGlvbiwgcGF5bG9hZC5kaWFnbm9zdGljX3JlY29yZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9vYnNlcnZlci5vbkVycm9yQXBwbHlUcmFuc2Zvcm1hdGlvbihlcnJvcik7XG4gICAgfTtcbiAgICBSZXNwb25zZUhhbmRsZXIucHJvdG90eXBlLl9oYW5kbGVFcnJvckNhdXNlID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgdmFyIGNhdXNlID0gcGF5bG9hZC5jYXVzZSAhPSBudWxsID8gdGhpcy5faGFuZGxlRXJyb3JDYXVzZShwYXlsb2FkLmNhdXNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3R1FMRXJyb3IpKHBheWxvYWQubWVzc2FnZSwgY2F1c2UsIHBheWxvYWQuZ3FsX3N0YXR1cywgcGF5bG9hZC5kZXNjcmlwdGlvbiwgcGF5bG9hZC5kaWFnbm9zdGljX3JlY29yZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9vYnNlcnZlci5vbkVycm9yQXBwbHlUcmFuc2Zvcm1hdGlvbihlcnJvcik7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzcG9uc2VIYW5kbGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlc3BvbnNlSGFuZGxlcjtcbi8qKlxuICogU3RhbmRhcmRpemUgZXJyb3IgY2xhc3NpZmljYXRpb24gdGhhdCBhcmUgZGlmZmVyZW50IGJldHdlZW4gNS54IGFuZCBwcmV2aW91cyB2ZXJzaW9ucy5cbiAqXG4gKiBUaGUgdHJhbnNpZW50IGVycm9yIHdlcmUgY2xlYW4tdXAgZm9yIGJlaW5nIHJldHJpZWFibGUgYW5kIGJlY2F1c2Ugb2YgdGhpc1xuICogYFRlcm1pbmF0ZWRgIGFuZCBgTG9ja0NsaWVudFN0b3BwZWRgIHdlcmUgcmVjbGFzc2lmaWVkIGFzIGBDbGllbnRFcnJvcmAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBzdGFuZGFyZGl6ZWQgZXJyb3IgY29kZVxuICovXG5mdW5jdGlvbiBfc3RhbmRhcmRpemVDb2RlKGNvZGUpIHtcbiAgICBpZiAoY29kZSA9PT0gJ05lby5UcmFuc2llbnRFcnJvci5UcmFuc2FjdGlvbi5UZXJtaW5hdGVkJykge1xuICAgICAgICByZXR1cm4gJ05lby5DbGllbnRFcnJvci5UcmFuc2FjdGlvbi5UZXJtaW5hdGVkJztcbiAgICB9XG4gICAgZWxzZSBpZiAoY29kZSA9PT0gJ05lby5UcmFuc2llbnRFcnJvci5UcmFuc2FjdGlvbi5Mb2NrQ2xpZW50U3RvcHBlZCcpIHtcbiAgICAgICAgcmV0dXJuICdOZW8uQ2xpZW50RXJyb3IuVHJhbnNhY3Rpb24uTG9ja0NsaWVudFN0b3BwZWQnO1xuICAgIH1cbiAgICByZXR1cm4gY29kZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\nvar neo4j_driver_core_1 = __importDefault(__webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\"));\n/**\n * Represente the raw version of the routing table\n */\nvar RawRoutingTable = /** @class */ (function () {\n    function RawRoutingTable() {\n    }\n    /**\n     * Constructs the raw routing table for Record based result\n     * @param {Record} record The record which will be used get the raw routing table\n     * @returns {RawRoutingTable} The raw routing table\n     */\n    RawRoutingTable.ofRecord = function (record) {\n        if (record === null) {\n            return RawRoutingTable.ofNull();\n        }\n        return new RecordRawRoutingTable(record);\n    };\n    /**\n     * Constructs the raw routing table for Success result for a Routing Message\n     * @param {object} response The result\n     * @returns {RawRoutingTable} The raw routing table\n     */\n    RawRoutingTable.ofMessageResponse = function (response) {\n        if (response === null) {\n            return RawRoutingTable.ofNull();\n        }\n        return new ResponseRawRoutingTable(response);\n    };\n    /**\n     * Construct the raw routing table of a null response\n     *\n     * @returns {RawRoutingTable} the raw routing table\n     */\n    RawRoutingTable.ofNull = function () {\n        return new NullRawRoutingTable();\n    };\n    Object.defineProperty(RawRoutingTable.prototype, \"ttl\", {\n        /**\n         * Get raw ttl\n         *\n         * @returns {number|string} ttl Time to live\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"db\", {\n        /**\n         * Get raw db\n         *\n         * @returns {string?} The database name\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"servers\", {\n        /**\n         *\n         * @typedef {Object} ServerRole\n         * @property {string} role the role of the address on the cluster\n         * @property {string[]} addresses the address within the role\n         *\n         * @return {ServerRole[]} list of servers addresses\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"isNull\", {\n        /**\n         * Indicates the result is null\n         *\n         * @returns {boolean} Is null\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RawRoutingTable;\n}());\nexports[\"default\"] = RawRoutingTable;\n/**\n * Get the raw routing table information from route message response\n */\nvar ResponseRawRoutingTable = /** @class */ (function (_super) {\n    __extends(ResponseRawRoutingTable, _super);\n    function ResponseRawRoutingTable(response) {\n        var _this = _super.call(this) || this;\n        _this._response = response;\n        return _this;\n    }\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"ttl\", {\n        get: function () {\n            return this._response.rt.ttl;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"servers\", {\n        get: function () {\n            return this._response.rt.servers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"db\", {\n        get: function () {\n            return this._response.rt.db;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return this._response === null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ResponseRawRoutingTable;\n}(RawRoutingTable));\n/**\n * Null routing table\n */\nvar NullRawRoutingTable = /** @class */ (function (_super) {\n    __extends(NullRawRoutingTable, _super);\n    function NullRawRoutingTable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(NullRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NullRawRoutingTable;\n}(RawRoutingTable));\n/**\n * Get the raw routing table information from the record\n */\nvar RecordRawRoutingTable = /** @class */ (function (_super) {\n    __extends(RecordRawRoutingTable, _super);\n    function RecordRawRoutingTable(record) {\n        var _this = _super.call(this) || this;\n        _this._record = record;\n        return _this;\n    }\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"ttl\", {\n        get: function () {\n            return this._record.get('ttl');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"servers\", {\n        get: function () {\n            return this._record.get('servers');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"db\", {\n        get: function () {\n            return this._record.has('db') ? this._record.get('db') : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return this._record === null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RecordRawRoutingTable;\n}(RawRoutingTable));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yb3V0aW5nLXRhYmxlLXJhdy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QixzQkFBc0IsUUFBUTtBQUM5QixzQkFBc0IsVUFBVTtBQUNoQztBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yb3V0aW5nLXRhYmxlLXJhdy5qcz9kMDdjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKSk7XG4vKipcbiAqIFJlcHJlc2VudGUgdGhlIHJhdyB2ZXJzaW9uIG9mIHRoZSByb3V0aW5nIHRhYmxlXG4gKi9cbnZhciBSYXdSb3V0aW5nVGFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmF3Um91dGluZ1RhYmxlKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIHRoZSByYXcgcm91dGluZyB0YWJsZSBmb3IgUmVjb3JkIGJhc2VkIHJlc3VsdFxuICAgICAqIEBwYXJhbSB7UmVjb3JkfSByZWNvcmQgVGhlIHJlY29yZCB3aGljaCB3aWxsIGJlIHVzZWQgZ2V0IHRoZSByYXcgcm91dGluZyB0YWJsZVxuICAgICAqIEByZXR1cm5zIHtSYXdSb3V0aW5nVGFibGV9IFRoZSByYXcgcm91dGluZyB0YWJsZVxuICAgICAqL1xuICAgIFJhd1JvdXRpbmdUYWJsZS5vZlJlY29yZCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFJhd1JvdXRpbmdUYWJsZS5vZk51bGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlY29yZFJhd1JvdXRpbmdUYWJsZShyZWNvcmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyB0aGUgcmF3IHJvdXRpbmcgdGFibGUgZm9yIFN1Y2Nlc3MgcmVzdWx0IGZvciBhIFJvdXRpbmcgTWVzc2FnZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzdWx0XG4gICAgICogQHJldHVybnMge1Jhd1JvdXRpbmdUYWJsZX0gVGhlIHJhdyByb3V0aW5nIHRhYmxlXG4gICAgICovXG4gICAgUmF3Um91dGluZ1RhYmxlLm9mTWVzc2FnZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFJhd1JvdXRpbmdUYWJsZS5vZk51bGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlUmF3Um91dGluZ1RhYmxlKHJlc3BvbnNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCB0aGUgcmF3IHJvdXRpbmcgdGFibGUgb2YgYSBudWxsIHJlc3BvbnNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UmF3Um91dGluZ1RhYmxlfSB0aGUgcmF3IHJvdXRpbmcgdGFibGVcbiAgICAgKi9cbiAgICBSYXdSb3V0aW5nVGFibGUub2ZOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IE51bGxSYXdSb3V0aW5nVGFibGUoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcInR0bFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgcmF3IHR0bFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfHN0cmluZ30gdHRsIFRpbWUgdG8gbGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwiZGJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHJhdyBkYlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nP30gVGhlIGRhdGFiYXNlIG5hbWVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcInNlcnZlcnNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGVkZWYge09iamVjdH0gU2VydmVyUm9sZVxuICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gcm9sZSB0aGUgcm9sZSBvZiB0aGUgYWRkcmVzcyBvbiB0aGUgY2x1c3RlclxuICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ1tdfSBhZGRyZXNzZXMgdGhlIGFkZHJlc3Mgd2l0aGluIHRoZSByb2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge1NlcnZlclJvbGVbXX0gbGlzdCBvZiBzZXJ2ZXJzIGFkZHJlc3Nlc1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwiaXNOdWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGUgcmVzdWx0IGlzIG51bGxcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IElzIG51bGxcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSYXdSb3V0aW5nVGFibGU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUmF3Um91dGluZ1RhYmxlO1xuLyoqXG4gKiBHZXQgdGhlIHJhdyByb3V0aW5nIHRhYmxlIGluZm9ybWF0aW9uIGZyb20gcm91dGUgbWVzc2FnZSByZXNwb25zZVxuICovXG52YXIgUmVzcG9uc2VSYXdSb3V0aW5nVGFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlc3BvbnNlUmF3Um91dGluZ1RhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlc3BvbnNlUmF3Um91dGluZ1RhYmxlKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNwb25zZVJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwidHRsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2UucnQudHRsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlUmF3Um91dGluZ1RhYmxlLnByb3RvdHlwZSwgXCJzZXJ2ZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2UucnQuc2VydmVycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNwb25zZVJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwiZGJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZS5ydC5kYjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNwb25zZVJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwiaXNOdWxsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2UgPT09IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUmVzcG9uc2VSYXdSb3V0aW5nVGFibGU7XG59KFJhd1JvdXRpbmdUYWJsZSkpO1xuLyoqXG4gKiBOdWxsIHJvdXRpbmcgdGFibGVcbiAqL1xudmFyIE51bGxSYXdSb3V0aW5nVGFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE51bGxSYXdSb3V0aW5nVGFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTnVsbFJhd1JvdXRpbmdUYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTnVsbFJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwiaXNOdWxsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBOdWxsUmF3Um91dGluZ1RhYmxlO1xufShSYXdSb3V0aW5nVGFibGUpKTtcbi8qKlxuICogR2V0IHRoZSByYXcgcm91dGluZyB0YWJsZSBpbmZvcm1hdGlvbiBmcm9tIHRoZSByZWNvcmRcbiAqL1xudmFyIFJlY29yZFJhd1JvdXRpbmdUYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVjb3JkUmF3Um91dGluZ1RhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlY29yZFJhd1JvdXRpbmdUYWJsZShyZWNvcmQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3JlY29yZCA9IHJlY29yZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjb3JkUmF3Um91dGluZ1RhYmxlLnByb3RvdHlwZSwgXCJ0dGxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvcmQuZ2V0KCd0dGwnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWNvcmRSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcInNlcnZlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvcmQuZ2V0KCdzZXJ2ZXJzJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjb3JkUmF3Um91dGluZ1RhYmxlLnByb3RvdHlwZSwgXCJkYlwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29yZC5oYXMoJ2RiJykgPyB0aGlzLl9yZWNvcmQuZ2V0KCdkYicpIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWNvcmRSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcImlzTnVsbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29yZCA9PT0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSZWNvcmRSYXdSb3V0aW5nVGFibGU7XG59KFJhd1JvdXRpbmdUYWJsZSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TelemetryObserver = exports.ProcedureRouteObserver = exports.RouteObserver = exports.CompletedObserver = exports.FailedObserver = exports.ResetObserver = exports.LogoffObserver = exports.LoginObserver = exports.ResultStreamObserver = exports.StreamObserver = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar routing_table_raw_1 = __importDefault(__webpack_require__(/*! ./routing-table-raw */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js\"));\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\nvar FETCH_ALL = neo4j_driver_core_1.internal.constants.FETCH_ALL;\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar StreamObserver = /** @class */ (function () {\n    function StreamObserver() {\n    }\n    StreamObserver.prototype.onNext = function (rawRecord) { };\n    StreamObserver.prototype.onError = function (_error) { };\n    StreamObserver.prototype.onCompleted = function (meta) { };\n    return StreamObserver;\n}());\nexports.StreamObserver = StreamObserver;\n/**\n * Handles a RUN/PULL_ALL, or RUN/DISCARD_ALL requests, maps the responses\n * in a way that a user-provided observer can see these as a clean Stream\n * of records.\n * This class will queue up incoming messages until a user-provided observer\n * for the incoming stream is registered. Thus, we keep fields around\n * for tracking head/records/tail. These are only used if there is no\n * observer registered.\n * @access private\n */\nvar ResultStreamObserver = /** @class */ (function (_super) {\n    __extends(ResultStreamObserver, _super);\n    /**\n     *\n     * @param {Object} param\n     * @param {Object} param.server\n     * @param {boolean} param.reactive\n     * @param {function(stmtId: number|Integer, n: number|Integer, observer: StreamObserver)} param.moreFunction -\n     * @param {function(stmtId: number|Integer, observer: StreamObserver)} param.discardFunction -\n     * @param {number|Integer} param.fetchSize -\n     * @param {function(err: Error): Promise|void} param.beforeError -\n     * @param {function(err: Error): Promise|void} param.afterError -\n     * @param {function(keys: string[]): Promise|void} param.beforeKeys -\n     * @param {function(keys: string[]): Promise|void} param.afterKeys -\n     * @param {function(metadata: Object): Promise|void} param.beforeComplete -\n     * @param {function(metadata: Object): Promise|void} param.afterComplete -\n     * @param {function(metadata: Object): Promise|void} param.enrichMetadata -\n     */\n    function ResultStreamObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.reactive, reactive = _c === void 0 ? false : _c, moreFunction = _b.moreFunction, discardFunction = _b.discardFunction, _d = _b.fetchSize, fetchSize = _d === void 0 ? FETCH_ALL : _d, beforeError = _b.beforeError, afterError = _b.afterError, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, server = _b.server, _e = _b.highRecordWatermark, highRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e, _f = _b.lowRecordWatermark, lowRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, enrichMetadata = _b.enrichMetadata, onDb = _b.onDb;\n        var _this = _super.call(this) || this;\n        _this._fieldKeys = null;\n        _this._fieldLookup = null;\n        _this._head = null;\n        _this._queuedRecords = [];\n        _this._tail = null;\n        _this._error = null;\n        _this._observers = [];\n        _this._meta = {};\n        _this._server = server;\n        _this._beforeError = beforeError;\n        _this._afterError = afterError;\n        _this._beforeKeys = beforeKeys;\n        _this._afterKeys = afterKeys;\n        _this._beforeComplete = beforeComplete;\n        _this._afterComplete = afterComplete;\n        _this._enrichMetadata = enrichMetadata || lang_1.functional.identity;\n        _this._queryId = null;\n        _this._moreFunction = moreFunction;\n        _this._discardFunction = discardFunction;\n        _this._discard = false;\n        _this._fetchSize = fetchSize;\n        _this._lowRecordWatermark = lowRecordWatermark;\n        _this._highRecordWatermark = highRecordWatermark;\n        _this._setState(reactive ? _states.READY : _states.READY_STREAMING);\n        _this._setupAutoPull();\n        _this._paused = false;\n        _this._pulled = !reactive;\n        _this._haveRecordStreamed = false;\n        _this._onDb = onDb;\n        return _this;\n    }\n    /**\n     * Pause the record consuming\n     *\n     * This function will supend the record consuming. It will not cancel the stream and the already\n     * requested records will be sent to the subscriber.\n     */\n    ResultStreamObserver.prototype.pause = function () {\n        this._paused = true;\n    };\n    /**\n     * Resume the record consuming\n     *\n     * This function will resume the record consuming fetching more records from the server.\n     */\n    ResultStreamObserver.prototype.resume = function () {\n        this._paused = false;\n        this._setupAutoPull(true);\n        this._state.pull(this);\n    };\n    /**\n     * Will be called on every record that comes in and transform a raw record\n     * to a Object. If user-provided observer is present, pass transformed record\n     * to it's onNext method, otherwise, push to record que.\n     * @param {Array} rawRecord - An array with the raw record\n     */\n    ResultStreamObserver.prototype.onNext = function (rawRecord) {\n        this._haveRecordStreamed = true;\n        var record = new neo4j_driver_core_1.Record(this._fieldKeys, rawRecord, this._fieldLookup);\n        if (this._observers.some(function (o) { return o.onNext; })) {\n            this._observers.forEach(function (o) {\n                if (o.onNext) {\n                    o.onNext(record);\n                }\n            });\n        }\n        else {\n            this._queuedRecords.push(record);\n            if (this._queuedRecords.length > this._highRecordWatermark) {\n                this._autoPull = false;\n            }\n        }\n    };\n    ResultStreamObserver.prototype.onCompleted = function (meta) {\n        this._state.onSuccess(this, meta);\n    };\n    /**\n     * Will be called on errors.\n     * If user-provided observer is present, pass the error\n     * to it's onError method, otherwise set instance variable _error.\n     * @param {Object} error - An error object\n     */\n    ResultStreamObserver.prototype.onError = function (error) {\n        this._state.onError(this, error);\n    };\n    /**\n     * Cancel pending record stream\n     */\n    ResultStreamObserver.prototype.cancel = function () {\n        this._discard = true;\n    };\n    /**\n     * Stream observer defaults to handling responses for two messages: RUN + PULL_ALL or RUN + DISCARD_ALL.\n     * Response for RUN initializes query keys. Response for PULL_ALL / DISCARD_ALL exposes the result stream.\n     *\n     * However, some operations can be represented as a single message which receives full metadata in a single response.\n     * For example, operations to begin, commit and rollback an explicit transaction use two messages in Bolt V1 but a single message in Bolt V3.\n     * Messages are `RUN \"BEGIN\" {}` + `PULL_ALL` in Bolt V1 and `BEGIN` in Bolt V3.\n     *\n     * This function prepares the observer to only handle a single response message.\n     */\n    ResultStreamObserver.prototype.prepareToHandleSingleResponse = function () {\n        this._head = [];\n        this._fieldKeys = [];\n        this._setState(_states.STREAMING);\n    };\n    /**\n     * Mark this observer as if it has completed with no metadata.\n     */\n    ResultStreamObserver.prototype.markCompleted = function () {\n        this._head = [];\n        this._fieldKeys = [];\n        this._tail = {};\n        this._setState(_states.SUCCEEDED);\n    };\n    /**\n     * Subscribe to events with provided observer.\n     * @param {Object} observer - Observer object\n     * @param {function(keys: String[])} observer.onKeys - Handle stream header, field keys.\n     * @param {function(record: Object)} observer.onNext - Handle records, one by one.\n     * @param {function(metadata: Object)} observer.onCompleted - Handle stream tail, the metadata.\n     * @param {function(error: Object)} observer.onError - Handle errors, should always be provided.\n     */\n    ResultStreamObserver.prototype.subscribe = function (observer) {\n        if (this._head && observer.onKeys) {\n            observer.onKeys(this._head);\n        }\n        if (this._queuedRecords.length > 0 && observer.onNext) {\n            for (var i = 0; i < this._queuedRecords.length; i++) {\n                observer.onNext(this._queuedRecords[i]);\n                if (this._queuedRecords.length - i - 1 <= this._lowRecordWatermark) {\n                    this._autoPull = true;\n                    if (this._state === _states.READY) {\n                        this._handleStreaming();\n                    }\n                }\n            }\n        }\n        if (this._tail && observer.onCompleted) {\n            observer.onCompleted(this._tail);\n        }\n        if (this._error) {\n            observer.onError(this._error);\n        }\n        this._observers.push(observer);\n        if (this._state === _states.READY) {\n            this._handleStreaming();\n        }\n    };\n    ResultStreamObserver.prototype._handleHasMore = function (meta) {\n        // We've consumed current batch and server notified us that there're more\n        // records to stream. Let's invoke more or discard function based on whether\n        // the user wants to discard streaming or not\n        this._setState(_states.READY); // we've done streaming\n        this._handleStreaming();\n        delete meta.has_more;\n    };\n    ResultStreamObserver.prototype._handlePullSuccess = function (meta) {\n        var _this = this;\n        var completionMetadata = this._enrichMetadata(Object.assign(this._server ? { server: this._server } : {}, this._meta, {\n            stream_summary: {\n                have_records_streamed: this._haveRecordStreamed,\n                pulled: this._pulled,\n                has_keys: this._fieldKeys.length > 0\n            }\n        }, meta));\n        if (![undefined, null, 'r', 'w', 'rw', 's'].includes(completionMetadata.type)) {\n            this.onError((0, neo4j_driver_core_1.newError)(\"Server returned invalid query type. Expected one of [undefined, null, \\\"r\\\", \\\"w\\\", \\\"rw\\\", \\\"s\\\"] but got '\".concat(completionMetadata.type, \"'\"), PROTOCOL_ERROR));\n            return;\n        }\n        this._setState(_states.SUCCEEDED);\n        var beforeHandlerResult = null;\n        if (this._beforeComplete) {\n            beforeHandlerResult = this._beforeComplete(completionMetadata);\n        }\n        var continuation = function () {\n            // End of stream\n            _this._tail = completionMetadata;\n            if (_this._observers.some(function (o) { return o.onCompleted; })) {\n                _this._observers.forEach(function (o) {\n                    if (o.onCompleted) {\n                        o.onCompleted(completionMetadata);\n                    }\n                });\n            }\n            if (_this._afterComplete) {\n                _this._afterComplete(completionMetadata);\n            }\n        };\n        if (beforeHandlerResult) {\n            Promise.resolve(beforeHandlerResult).then(function () { return continuation(); });\n        }\n        else {\n            continuation();\n        }\n    };\n    ResultStreamObserver.prototype._handleRunSuccess = function (meta, afterSuccess) {\n        var _this = this;\n        if (this._fieldKeys === null) {\n            // Stream header, build a name->index field lookup table\n            // to be used by records. This is an optimization to make it\n            // faster to look up fields in a record by name, rather than by index.\n            // Since the records we get back via Bolt are just arrays of values.\n            this._fieldKeys = [];\n            this._fieldLookup = {};\n            if (meta.fields && meta.fields.length > 0) {\n                this._fieldKeys = meta.fields;\n                for (var i = 0; i < meta.fields.length; i++) {\n                    this._fieldLookup[meta.fields[i]] = i;\n                }\n            }\n            if (meta.db !== null && this._onDb !== undefined) {\n                this._onDb(meta.db);\n            }\n            if (meta.fields != null) {\n                // remove fields key from metadata object\n                delete meta.fields;\n            }\n            // Extract server generated query id for use in requestMore and discard\n            // functions\n            if (meta.qid !== null && meta.qid !== undefined) {\n                this._queryId = meta.qid;\n                // remove qid from metadata object\n                delete meta.qid;\n            }\n            this._storeMetadataForCompletion(meta);\n            var beforeHandlerResult = null;\n            if (this._beforeKeys) {\n                beforeHandlerResult = this._beforeKeys(this._fieldKeys);\n            }\n            var continuation_1 = function () {\n                _this._head = _this._fieldKeys;\n                if (_this._observers.some(function (o) { return o.onKeys; })) {\n                    _this._observers.forEach(function (o) {\n                        if (o.onKeys) {\n                            o.onKeys(_this._fieldKeys);\n                        }\n                    });\n                }\n                if (_this._afterKeys) {\n                    _this._afterKeys(_this._fieldKeys);\n                }\n                afterSuccess();\n            };\n            if (beforeHandlerResult) {\n                Promise.resolve(beforeHandlerResult).then(function () { return continuation_1(); });\n            }\n            else {\n                continuation_1();\n            }\n        }\n    };\n    ResultStreamObserver.prototype._handleError = function (error) {\n        var _this = this;\n        this._setState(_states.FAILED);\n        this._error = error;\n        var beforeHandlerResult = null;\n        if (this._beforeError) {\n            beforeHandlerResult = this._beforeError(error);\n        }\n        var continuation = function () {\n            if (_this._observers.some(function (o) { return o.onError; })) {\n                _this._observers.forEach(function (o) {\n                    if (o.onError) {\n                        o.onError(error);\n                    }\n                });\n            }\n            if (_this._afterError) {\n                _this._afterError(error);\n            }\n        };\n        if (beforeHandlerResult) {\n            Promise.resolve(beforeHandlerResult).then(function () { return continuation(); });\n        }\n        else {\n            continuation();\n        }\n    };\n    ResultStreamObserver.prototype._handleStreaming = function () {\n        if (this._head && this._observers.some(function (o) { return o.onNext || o.onCompleted; })) {\n            if (!this._paused && (this._discard || this._autoPull)) {\n                this._more();\n            }\n        }\n    };\n    ResultStreamObserver.prototype._more = function () {\n        if (this._discard) {\n            this._discardFunction(this._queryId, this);\n        }\n        else {\n            this._pulled = true;\n            this._moreFunction(this._queryId, this._fetchSize, this);\n        }\n        this._setState(_states.STREAMING);\n    };\n    ResultStreamObserver.prototype._storeMetadataForCompletion = function (meta) {\n        var keys = Object.keys(meta);\n        var index = keys.length;\n        var key = '';\n        while (index--) {\n            key = keys[index];\n            this._meta[key] = meta[key];\n        }\n    };\n    ResultStreamObserver.prototype._setState = function (state) {\n        this._state = state;\n    };\n    ResultStreamObserver.prototype._setupAutoPull = function () {\n        this._autoPull = true;\n    };\n    return ResultStreamObserver;\n}(StreamObserver));\nexports.ResultStreamObserver = ResultStreamObserver;\nvar LoginObserver = /** @class */ (function (_super) {\n    __extends(LoginObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onCompleted\n     */\n    function LoginObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    LoginObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when initializing ' + neo4j_driver_core_1.json.stringify(record)));\n    };\n    LoginObserver.prototype.onError = function (error) {\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    LoginObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(metadata);\n        }\n    };\n    return LoginObserver;\n}(StreamObserver));\nexports.LoginObserver = LoginObserver;\nvar LogoffObserver = /** @class */ (function (_super) {\n    __extends(LogoffObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onCompleted\n     */\n    function LogoffObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    LogoffObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when logging off ' + neo4j_driver_core_1.json.stringify(record)));\n    };\n    LogoffObserver.prototype.onError = function (error) {\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    LogoffObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(metadata);\n        }\n    };\n    return LogoffObserver;\n}(StreamObserver));\nexports.LogoffObserver = LogoffObserver;\nvar ResetObserver = /** @class */ (function (_super) {\n    __extends(ResetObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: String)} param.onProtocolError\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onComplete\n     */\n    function ResetObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onProtocolError = _b.onProtocolError, onError = _b.onError, onComplete = _b.onComplete;\n        var _this = _super.call(this) || this;\n        _this._onProtocolError = onProtocolError;\n        _this._onError = onError;\n        _this._onComplete = onComplete;\n        return _this;\n    }\n    ResetObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when resetting: received record is: ' +\n            neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    ResetObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    ResetObserver.prototype.onCompleted = function (metadata) {\n        if (this._onComplete) {\n            this._onComplete(metadata);\n        }\n    };\n    return ResetObserver;\n}(StreamObserver));\nexports.ResetObserver = ResetObserver;\nvar TelemetryObserver = /** @class */ (function (_super) {\n    __extends(TelemetryObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onCompleted\n     */\n    function TelemetryObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    TelemetryObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when sending telemetry ' + neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    TelemetryObserver.prototype.onError = function (error) {\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    TelemetryObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(metadata);\n        }\n    };\n    return TelemetryObserver;\n}(ResultStreamObserver));\nexports.TelemetryObserver = TelemetryObserver;\nvar FailedObserver = /** @class */ (function (_super) {\n    __extends(FailedObserver, _super);\n    function FailedObserver(_a) {\n        var error = _a.error, onError = _a.onError;\n        var _this = _super.call(this, { beforeError: onError }) || this;\n        _this.onError(error);\n        return _this;\n    }\n    return FailedObserver;\n}(ResultStreamObserver));\nexports.FailedObserver = FailedObserver;\nvar CompletedObserver = /** @class */ (function (_super) {\n    __extends(CompletedObserver, _super);\n    function CompletedObserver() {\n        var _this = _super.call(this) || this;\n        _super.prototype.markCompleted.call(_this);\n        return _this;\n    }\n    return CompletedObserver;\n}(ResultStreamObserver));\nexports.CompletedObserver = CompletedObserver;\nvar ProcedureRouteObserver = /** @class */ (function (_super) {\n    __extends(ProcedureRouteObserver, _super);\n    function ProcedureRouteObserver(_a) {\n        var resultObserver = _a.resultObserver, onProtocolError = _a.onProtocolError, onError = _a.onError, onCompleted = _a.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._resultObserver = resultObserver;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        _this._records = [];\n        _this._onProtocolError = onProtocolError;\n        resultObserver.subscribe(_this);\n        return _this;\n    }\n    ProcedureRouteObserver.prototype.onNext = function (record) {\n        this._records.push(record);\n    };\n    ProcedureRouteObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    ProcedureRouteObserver.prototype.onCompleted = function () {\n        if (this._records !== null && this._records.length !== 1) {\n            this.onError((0, neo4j_driver_core_1.newError)('Illegal response from router. Received ' +\n                this._records.length +\n                ' records but expected only one.\\n' +\n                neo4j_driver_core_1.json.stringify(this._records), PROTOCOL_ERROR));\n            return;\n        }\n        if (this._onCompleted) {\n            this._onCompleted(routing_table_raw_1.default.ofRecord(this._records[0]));\n        }\n    };\n    return ProcedureRouteObserver;\n}(StreamObserver));\nexports.ProcedureRouteObserver = ProcedureRouteObserver;\nvar RouteObserver = /** @class */ (function (_super) {\n    __extends(RouteObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: String)} param.onProtocolError\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     */\n    function RouteObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onProtocolError = _b.onProtocolError, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onProtocolError = onProtocolError;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    RouteObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when resetting: received record is: ' +\n            neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    RouteObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    RouteObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(routing_table_raw_1.default.ofMessageResponse(metadata));\n        }\n    };\n    return RouteObserver;\n}(StreamObserver));\nexports.RouteObserver = RouteObserver;\nvar _states = {\n    READY_STREAMING: {\n        // async start state\n        onSuccess: function (streamObserver, meta) {\n            streamObserver._handleRunSuccess(meta, function () {\n                streamObserver._setState(_states.STREAMING);\n            } // after run succeeded, async directly move to streaming\n            // state\n            );\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'READY_STREAMING';\n        },\n        pull: function () { }\n    },\n    READY: {\n        // reactive start state\n        onSuccess: function (streamObserver, meta) {\n            streamObserver._handleRunSuccess(meta, function () { return streamObserver._handleStreaming(); } // after run succeeded received, reactive shall start pulling\n            );\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'READY';\n        },\n        pull: function (streamObserver) { return streamObserver._more(); }\n    },\n    STREAMING: {\n        onSuccess: function (streamObserver, meta) {\n            if (meta.has_more) {\n                streamObserver._handleHasMore(meta);\n            }\n            else {\n                streamObserver._handlePullSuccess(meta);\n            }\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'STREAMING';\n        },\n        pull: function () { }\n    },\n    FAILED: {\n        onError: function (_error) {\n            // more errors are ignored\n        },\n        name: function () {\n            return 'FAILED';\n        },\n        pull: function () { }\n    },\n    SUCCEEDED: {\n        name: function () {\n            return 'SUCCEEDED';\n        },\n        pull: function () { }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9zdHJlYW0tb2JzZXJ2ZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsOEJBQThCLEdBQUcscUJBQXFCLEdBQUcseUJBQXlCLEdBQUcsc0JBQXNCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcscUJBQXFCLEdBQUcsNEJBQTRCLEdBQUcsc0JBQXNCO0FBQ3hRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELDBDQUEwQyxtQkFBTyxDQUFDLDRHQUFxQjtBQUN2RSxhQUFhLG1CQUFPLENBQUMsb0ZBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEIsZUFBZSwrRUFBK0U7QUFDOUYsZUFBZSw0REFBNEQ7QUFDM0UsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxvQ0FBb0M7QUFDbkQsZUFBZSxvQ0FBb0M7QUFDbkQsZUFBZSx3Q0FBd0M7QUFDdkQsZUFBZSx3Q0FBd0M7QUFDdkQsZUFBZSwwQ0FBMEM7QUFDekQsZUFBZSwwQ0FBMEM7QUFDekQsZUFBZSwwQ0FBMEM7QUFDekQ7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxrQkFBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsMEJBQTBCO0FBQ3pDLGVBQWUsMEJBQTBCO0FBQ3pDLGVBQWUsNEJBQTRCO0FBQzNDLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQ0FBZ0M7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsdUJBQXVCLElBQUk7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsdUJBQXVCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSx3QkFBd0I7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0JBQXdCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxrQkFBa0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsMEJBQTBCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxtQkFBbUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHdCQUF3QjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsbUNBQW1DO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHVCQUF1QjtBQUN0QyxlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msc0JBQXNCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSx1QkFBdUI7QUFDdEMsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSwyQkFBMkI7QUFDMUM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsNENBQTRDO0FBQzdHO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCwwQ0FBMEM7QUFDMUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvc3RyZWFtLW9ic2VydmVycy5qcz8zZDUwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGVsZW1ldHJ5T2JzZXJ2ZXIgPSBleHBvcnRzLlByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIgPSBleHBvcnRzLlJvdXRlT2JzZXJ2ZXIgPSBleHBvcnRzLkNvbXBsZXRlZE9ic2VydmVyID0gZXhwb3J0cy5GYWlsZWRPYnNlcnZlciA9IGV4cG9ydHMuUmVzZXRPYnNlcnZlciA9IGV4cG9ydHMuTG9nb2ZmT2JzZXJ2ZXIgPSBleHBvcnRzLkxvZ2luT2JzZXJ2ZXIgPSBleHBvcnRzLlJlc3VsdFN0cmVhbU9ic2VydmVyID0gZXhwb3J0cy5TdHJlYW1PYnNlcnZlciA9IHZvaWQgMDtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciByb3V0aW5nX3RhYmxlX3Jhd18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JvdXRpbmctdGFibGUtcmF3XCIpKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKFwiLi4vbGFuZ1wiKTtcbnZhciBGRVRDSF9BTEwgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5GRVRDSF9BTEw7XG52YXIgUFJPVE9DT0xfRVJST1IgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlBST1RPQ09MX0VSUk9SO1xudmFyIFN0cmVhbU9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmVhbU9ic2VydmVyKCkge1xuICAgIH1cbiAgICBTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUub25OZXh0ID0gZnVuY3Rpb24gKHJhd1JlY29yZCkgeyB9O1xuICAgIFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKF9lcnJvcikgeyB9O1xuICAgIFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5vbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhKSB7IH07XG4gICAgcmV0dXJuIFN0cmVhbU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydHMuU3RyZWFtT2JzZXJ2ZXIgPSBTdHJlYW1PYnNlcnZlcjtcbi8qKlxuICogSGFuZGxlcyBhIFJVTi9QVUxMX0FMTCwgb3IgUlVOL0RJU0NBUkRfQUxMIHJlcXVlc3RzLCBtYXBzIHRoZSByZXNwb25zZXNcbiAqIGluIGEgd2F5IHRoYXQgYSB1c2VyLXByb3ZpZGVkIG9ic2VydmVyIGNhbiBzZWUgdGhlc2UgYXMgYSBjbGVhbiBTdHJlYW1cbiAqIG9mIHJlY29yZHMuXG4gKiBUaGlzIGNsYXNzIHdpbGwgcXVldWUgdXAgaW5jb21pbmcgbWVzc2FnZXMgdW50aWwgYSB1c2VyLXByb3ZpZGVkIG9ic2VydmVyXG4gKiBmb3IgdGhlIGluY29taW5nIHN0cmVhbSBpcyByZWdpc3RlcmVkLiBUaHVzLCB3ZSBrZWVwIGZpZWxkcyBhcm91bmRcbiAqIGZvciB0cmFja2luZyBoZWFkL3JlY29yZHMvdGFpbC4gVGhlc2UgYXJlIG9ubHkgdXNlZCBpZiB0aGVyZSBpcyBub1xuICogb2JzZXJ2ZXIgcmVnaXN0ZXJlZC5cbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICovXG52YXIgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlc3VsdFN0cmVhbU9ic2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtLnNlcnZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0ucmVhY3RpdmVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0bXRJZDogbnVtYmVyfEludGVnZXIsIG46IG51bWJlcnxJbnRlZ2VyLCBvYnNlcnZlcjogU3RyZWFtT2JzZXJ2ZXIpfSBwYXJhbS5tb3JlRnVuY3Rpb24gLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RtdElkOiBudW1iZXJ8SW50ZWdlciwgb2JzZXJ2ZXI6IFN0cmVhbU9ic2VydmVyKX0gcGFyYW0uZGlzY2FyZEZ1bmN0aW9uIC1cbiAgICAgKiBAcGFyYW0ge251bWJlcnxJbnRlZ2VyfSBwYXJhbS5mZXRjaFNpemUgLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcik6IFByb21pc2V8dm9pZH0gcGFyYW0uYmVmb3JlRXJyb3IgLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcik6IFByb21pc2V8dm9pZH0gcGFyYW0uYWZ0ZXJFcnJvciAtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihrZXlzOiBzdHJpbmdbXSk6IFByb21pc2V8dm9pZH0gcGFyYW0uYmVmb3JlS2V5cyAtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihrZXlzOiBzdHJpbmdbXSk6IFByb21pc2V8dm9pZH0gcGFyYW0uYWZ0ZXJLZXlzIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhOiBPYmplY3QpOiBQcm9taXNlfHZvaWR9IHBhcmFtLmJlZm9yZUNvbXBsZXRlIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhOiBPYmplY3QpOiBQcm9taXNlfHZvaWR9IHBhcmFtLmFmdGVyQ29tcGxldGUgLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obWV0YWRhdGE6IE9iamVjdCk6IFByb21pc2V8dm9pZH0gcGFyYW0uZW5yaWNoTWV0YWRhdGEgLVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc3VsdFN0cmVhbU9ic2VydmVyKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBfYyA9IF9iLnJlYWN0aXZlLCByZWFjdGl2ZSA9IF9jID09PSB2b2lkIDAgPyBmYWxzZSA6IF9jLCBtb3JlRnVuY3Rpb24gPSBfYi5tb3JlRnVuY3Rpb24sIGRpc2NhcmRGdW5jdGlvbiA9IF9iLmRpc2NhcmRGdW5jdGlvbiwgX2QgPSBfYi5mZXRjaFNpemUsIGZldGNoU2l6ZSA9IF9kID09PSB2b2lkIDAgPyBGRVRDSF9BTEwgOiBfZCwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUtleXMgPSBfYi5iZWZvcmVLZXlzLCBhZnRlcktleXMgPSBfYi5hZnRlcktleXMsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlLCBzZXJ2ZXIgPSBfYi5zZXJ2ZXIsIF9lID0gX2IuaGlnaFJlY29yZFdhdGVybWFyaywgaGlnaFJlY29yZFdhdGVybWFyayA9IF9lID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2UsIF9mID0gX2IubG93UmVjb3JkV2F0ZXJtYXJrLCBsb3dSZWNvcmRXYXRlcm1hcmsgPSBfZiA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9mLCBlbnJpY2hNZXRhZGF0YSA9IF9iLmVucmljaE1ldGFkYXRhLCBvbkRiID0gX2Iub25EYjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2ZpZWxkS2V5cyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9maWVsZExvb2t1cCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9oZWFkID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3F1ZXVlZFJlY29yZHMgPSBbXTtcbiAgICAgICAgX3RoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBudWxsO1xuICAgICAgICBfdGhpcy5fb2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLl9tZXRhID0ge307XG4gICAgICAgIF90aGlzLl9zZXJ2ZXIgPSBzZXJ2ZXI7XG4gICAgICAgIF90aGlzLl9iZWZvcmVFcnJvciA9IGJlZm9yZUVycm9yO1xuICAgICAgICBfdGhpcy5fYWZ0ZXJFcnJvciA9IGFmdGVyRXJyb3I7XG4gICAgICAgIF90aGlzLl9iZWZvcmVLZXlzID0gYmVmb3JlS2V5cztcbiAgICAgICAgX3RoaXMuX2FmdGVyS2V5cyA9IGFmdGVyS2V5cztcbiAgICAgICAgX3RoaXMuX2JlZm9yZUNvbXBsZXRlID0gYmVmb3JlQ29tcGxldGU7XG4gICAgICAgIF90aGlzLl9hZnRlckNvbXBsZXRlID0gYWZ0ZXJDb21wbGV0ZTtcbiAgICAgICAgX3RoaXMuX2VucmljaE1ldGFkYXRhID0gZW5yaWNoTWV0YWRhdGEgfHwgbGFuZ18xLmZ1bmN0aW9uYWwuaWRlbnRpdHk7XG4gICAgICAgIF90aGlzLl9xdWVyeUlkID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX21vcmVGdW5jdGlvbiA9IG1vcmVGdW5jdGlvbjtcbiAgICAgICAgX3RoaXMuX2Rpc2NhcmRGdW5jdGlvbiA9IGRpc2NhcmRGdW5jdGlvbjtcbiAgICAgICAgX3RoaXMuX2Rpc2NhcmQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2ZldGNoU2l6ZSA9IGZldGNoU2l6ZTtcbiAgICAgICAgX3RoaXMuX2xvd1JlY29yZFdhdGVybWFyayA9IGxvd1JlY29yZFdhdGVybWFyaztcbiAgICAgICAgX3RoaXMuX2hpZ2hSZWNvcmRXYXRlcm1hcmsgPSBoaWdoUmVjb3JkV2F0ZXJtYXJrO1xuICAgICAgICBfdGhpcy5fc2V0U3RhdGUocmVhY3RpdmUgPyBfc3RhdGVzLlJFQURZIDogX3N0YXRlcy5SRUFEWV9TVFJFQU1JTkcpO1xuICAgICAgICBfdGhpcy5fc2V0dXBBdXRvUHVsbCgpO1xuICAgICAgICBfdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9wdWxsZWQgPSAhcmVhY3RpdmU7XG4gICAgICAgIF90aGlzLl9oYXZlUmVjb3JkU3RyZWFtZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX29uRGIgPSBvbkRiO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlIHRoZSByZWNvcmQgY29uc3VtaW5nXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgc3VwZW5kIHRoZSByZWNvcmQgY29uc3VtaW5nLiBJdCB3aWxsIG5vdCBjYW5jZWwgdGhlIHN0cmVhbSBhbmQgdGhlIGFscmVhZHlcbiAgICAgKiByZXF1ZXN0ZWQgcmVjb3JkcyB3aWxsIGJlIHNlbnQgdG8gdGhlIHN1YnNjcmliZXIuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzdW1lIHRoZSByZWNvcmQgY29uc3VtaW5nXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmVzdW1lIHRoZSByZWNvcmQgY29uc3VtaW5nIGZldGNoaW5nIG1vcmUgcmVjb3JkcyBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldHVwQXV0b1B1bGwodHJ1ZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlLnB1bGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIGJlIGNhbGxlZCBvbiBldmVyeSByZWNvcmQgdGhhdCBjb21lcyBpbiBhbmQgdHJhbnNmb3JtIGEgcmF3IHJlY29yZFxuICAgICAqIHRvIGEgT2JqZWN0LiBJZiB1c2VyLXByb3ZpZGVkIG9ic2VydmVyIGlzIHByZXNlbnQsIHBhc3MgdHJhbnNmb3JtZWQgcmVjb3JkXG4gICAgICogdG8gaXQncyBvbk5leHQgbWV0aG9kLCBvdGhlcndpc2UsIHB1c2ggdG8gcmVjb3JkIHF1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSByYXdSZWNvcmQgLSBBbiBhcnJheSB3aXRoIHRoZSByYXcgcmVjb3JkXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChyYXdSZWNvcmQpIHtcbiAgICAgICAgdGhpcy5faGF2ZVJlY29yZFN0cmVhbWVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHJlY29yZCA9IG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlJlY29yZCh0aGlzLl9maWVsZEtleXMsIHJhd1JlY29yZCwgdGhpcy5fZmllbGRMb29rdXApO1xuICAgICAgICBpZiAodGhpcy5fb2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub25OZXh0OyB9KSkge1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoby5vbk5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgby5vbk5leHQocmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlZFJlY29yZHMucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlZFJlY29yZHMubGVuZ3RoID4gdGhpcy5faGlnaFJlY29yZFdhdGVybWFyaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9QdWxsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5vbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlLm9uU3VjY2Vzcyh0aGlzLCBtZXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdpbGwgYmUgY2FsbGVkIG9uIGVycm9ycy5cbiAgICAgKiBJZiB1c2VyLXByb3ZpZGVkIG9ic2VydmVyIGlzIHByZXNlbnQsIHBhc3MgdGhlIGVycm9yXG4gICAgICogdG8gaXQncyBvbkVycm9yIG1ldGhvZCwgb3RoZXJ3aXNlIHNldCBpbnN0YW5jZSB2YXJpYWJsZSBfZXJyb3IuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yIC0gQW4gZXJyb3Igb2JqZWN0XG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUub25FcnJvcih0aGlzLCBlcnJvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWwgcGVuZGluZyByZWNvcmQgc3RyZWFtXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZGlzY2FyZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHJlYW0gb2JzZXJ2ZXIgZGVmYXVsdHMgdG8gaGFuZGxpbmcgcmVzcG9uc2VzIGZvciB0d28gbWVzc2FnZXM6IFJVTiArIFBVTExfQUxMIG9yIFJVTiArIERJU0NBUkRfQUxMLlxuICAgICAqIFJlc3BvbnNlIGZvciBSVU4gaW5pdGlhbGl6ZXMgcXVlcnkga2V5cy4gUmVzcG9uc2UgZm9yIFBVTExfQUxMIC8gRElTQ0FSRF9BTEwgZXhwb3NlcyB0aGUgcmVzdWx0IHN0cmVhbS5cbiAgICAgKlxuICAgICAqIEhvd2V2ZXIsIHNvbWUgb3BlcmF0aW9ucyBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYSBzaW5nbGUgbWVzc2FnZSB3aGljaCByZWNlaXZlcyBmdWxsIG1ldGFkYXRhIGluIGEgc2luZ2xlIHJlc3BvbnNlLlxuICAgICAqIEZvciBleGFtcGxlLCBvcGVyYXRpb25zIHRvIGJlZ2luLCBjb21taXQgYW5kIHJvbGxiYWNrIGFuIGV4cGxpY2l0IHRyYW5zYWN0aW9uIHVzZSB0d28gbWVzc2FnZXMgaW4gQm9sdCBWMSBidXQgYSBzaW5nbGUgbWVzc2FnZSBpbiBCb2x0IFYzLlxuICAgICAqIE1lc3NhZ2VzIGFyZSBgUlVOIFwiQkVHSU5cIiB7fWAgKyBgUFVMTF9BTExgIGluIEJvbHQgVjEgYW5kIGBCRUdJTmAgaW4gQm9sdCBWMy5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gcHJlcGFyZXMgdGhlIG9ic2VydmVyIHRvIG9ubHkgaGFuZGxlIGEgc2luZ2xlIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gW107XG4gICAgICAgIHRoaXMuX2ZpZWxkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZShfc3RhdGVzLlNUUkVBTUlORyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXJrIHRoaXMgb2JzZXJ2ZXIgYXMgaWYgaXQgaGFzIGNvbXBsZXRlZCB3aXRoIG5vIG1ldGFkYXRhLlxuICAgICAqL1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5tYXJrQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gW107XG4gICAgICAgIHRoaXMuX2ZpZWxkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLl90YWlsID0ge307XG4gICAgICAgIHRoaXMuX3NldFN0YXRlKF9zdGF0ZXMuU1VDQ0VFREVEKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBldmVudHMgd2l0aCBwcm92aWRlZCBvYnNlcnZlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgLSBPYnNlcnZlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGtleXM6IFN0cmluZ1tdKX0gb2JzZXJ2ZXIub25LZXlzIC0gSGFuZGxlIHN0cmVhbSBoZWFkZXIsIGZpZWxkIGtleXMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihyZWNvcmQ6IE9iamVjdCl9IG9ic2VydmVyLm9uTmV4dCAtIEhhbmRsZSByZWNvcmRzLCBvbmUgYnkgb25lLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obWV0YWRhdGE6IE9iamVjdCl9IG9ic2VydmVyLm9uQ29tcGxldGVkIC0gSGFuZGxlIHN0cmVhbSB0YWlsLCB0aGUgbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnJvcjogT2JqZWN0KX0gb2JzZXJ2ZXIub25FcnJvciAtIEhhbmRsZSBlcnJvcnMsIHNob3VsZCBhbHdheXMgYmUgcHJvdmlkZWQuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBpZiAodGhpcy5faGVhZCAmJiBvYnNlcnZlci5vbktleXMpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9uS2V5cyh0aGlzLl9oZWFkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcXVldWVkUmVjb3Jkcy5sZW5ndGggPiAwICYmIG9ic2VydmVyLm9uTmV4dCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZWRSZWNvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub25OZXh0KHRoaXMuX3F1ZXVlZFJlY29yZHNbaV0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZWRSZWNvcmRzLmxlbmd0aCAtIGkgLSAxIDw9IHRoaXMuX2xvd1JlY29yZFdhdGVybWFyaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRvUHVsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gX3N0YXRlcy5SRUFEWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlU3RyZWFtaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RhaWwgJiYgb2JzZXJ2ZXIub25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9uQ29tcGxldGVkKHRoaXMuX3RhaWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIub25FcnJvcih0aGlzLl9lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IF9zdGF0ZXMuUkVBRFkpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN0cmVhbWluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX2hhbmRsZUhhc01vcmUgPSBmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICAvLyBXZSd2ZSBjb25zdW1lZCBjdXJyZW50IGJhdGNoIGFuZCBzZXJ2ZXIgbm90aWZpZWQgdXMgdGhhdCB0aGVyZSdyZSBtb3JlXG4gICAgICAgIC8vIHJlY29yZHMgdG8gc3RyZWFtLiBMZXQncyBpbnZva2UgbW9yZSBvciBkaXNjYXJkIGZ1bmN0aW9uIGJhc2VkIG9uIHdoZXRoZXJcbiAgICAgICAgLy8gdGhlIHVzZXIgd2FudHMgdG8gZGlzY2FyZCBzdHJlYW1pbmcgb3Igbm90XG4gICAgICAgIHRoaXMuX3NldFN0YXRlKF9zdGF0ZXMuUkVBRFkpOyAvLyB3ZSd2ZSBkb25lIHN0cmVhbWluZ1xuICAgICAgICB0aGlzLl9oYW5kbGVTdHJlYW1pbmcoKTtcbiAgICAgICAgZGVsZXRlIG1ldGEuaGFzX21vcmU7XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX2hhbmRsZVB1bGxTdWNjZXNzID0gZnVuY3Rpb24gKG1ldGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbXBsZXRpb25NZXRhZGF0YSA9IHRoaXMuX2VucmljaE1ldGFkYXRhKE9iamVjdC5hc3NpZ24odGhpcy5fc2VydmVyID8geyBzZXJ2ZXI6IHRoaXMuX3NlcnZlciB9IDoge30sIHRoaXMuX21ldGEsIHtcbiAgICAgICAgICAgIHN0cmVhbV9zdW1tYXJ5OiB7XG4gICAgICAgICAgICAgICAgaGF2ZV9yZWNvcmRzX3N0cmVhbWVkOiB0aGlzLl9oYXZlUmVjb3JkU3RyZWFtZWQsXG4gICAgICAgICAgICAgICAgcHVsbGVkOiB0aGlzLl9wdWxsZWQsXG4gICAgICAgICAgICAgICAgaGFzX2tleXM6IHRoaXMuX2ZpZWxkS2V5cy5sZW5ndGggPiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG1ldGEpKTtcbiAgICAgICAgaWYgKCFbdW5kZWZpbmVkLCBudWxsLCAncicsICd3JywgJ3J3JywgJ3MnXS5pbmNsdWRlcyhjb21wbGV0aW9uTWV0YWRhdGEudHlwZSkpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJTZXJ2ZXIgcmV0dXJuZWQgaW52YWxpZCBxdWVyeSB0eXBlLiBFeHBlY3RlZCBvbmUgb2YgW3VuZGVmaW5lZCwgbnVsbCwgXFxcInJcXFwiLCBcXFwid1xcXCIsIFxcXCJyd1xcXCIsIFxcXCJzXFxcIl0gYnV0IGdvdCAnXCIuY29uY2F0KGNvbXBsZXRpb25NZXRhZGF0YS50eXBlLCBcIidcIiksIFBST1RPQ09MX0VSUk9SKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0U3RhdGUoX3N0YXRlcy5TVUNDRUVERUQpO1xuICAgICAgICB2YXIgYmVmb3JlSGFuZGxlclJlc3VsdCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9iZWZvcmVDb21wbGV0ZSkge1xuICAgICAgICAgICAgYmVmb3JlSGFuZGxlclJlc3VsdCA9IHRoaXMuX2JlZm9yZUNvbXBsZXRlKGNvbXBsZXRpb25NZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRpbnVhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEVuZCBvZiBzdHJlYW1cbiAgICAgICAgICAgIF90aGlzLl90YWlsID0gY29tcGxldGlvbk1ldGFkYXRhO1xuICAgICAgICAgICAgaWYgKF90aGlzLl9vYnNlcnZlcnMuc29tZShmdW5jdGlvbiAobykgeyByZXR1cm4gby5vbkNvbXBsZXRlZDsgfSkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ub25Db21wbGV0ZWQoY29tcGxldGlvbk1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLl9hZnRlckNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2FmdGVyQ29tcGxldGUoY29tcGxldGlvbk1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGJlZm9yZUhhbmRsZXJSZXN1bHQpIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShiZWZvcmVIYW5kbGVyUmVzdWx0KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnRpbnVhdGlvbigpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRpbnVhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX2hhbmRsZVJ1blN1Y2Nlc3MgPSBmdW5jdGlvbiAobWV0YSwgYWZ0ZXJTdWNjZXNzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9maWVsZEtleXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFN0cmVhbSBoZWFkZXIsIGJ1aWxkIGEgbmFtZS0+aW5kZXggZmllbGQgbG9va3VwIHRhYmxlXG4gICAgICAgICAgICAvLyB0byBiZSB1c2VkIGJ5IHJlY29yZHMuIFRoaXMgaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1ha2UgaXRcbiAgICAgICAgICAgIC8vIGZhc3RlciB0byBsb29rIHVwIGZpZWxkcyBpbiBhIHJlY29yZCBieSBuYW1lLCByYXRoZXIgdGhhbiBieSBpbmRleC5cbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSByZWNvcmRzIHdlIGdldCBiYWNrIHZpYSBCb2x0IGFyZSBqdXN0IGFycmF5cyBvZiB2YWx1ZXMuXG4gICAgICAgICAgICB0aGlzLl9maWVsZEtleXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2ZpZWxkTG9va3VwID0ge307XG4gICAgICAgICAgICBpZiAobWV0YS5maWVsZHMgJiYgbWV0YS5maWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpZWxkS2V5cyA9IG1ldGEuZmllbGRzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0YS5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmllbGRMb29rdXBbbWV0YS5maWVsZHNbaV1dID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0YS5kYiAhPT0gbnVsbCAmJiB0aGlzLl9vbkRiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRiKG1ldGEuZGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGEuZmllbGRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgZmllbGRzIGtleSBmcm9tIG1ldGFkYXRhIG9iamVjdFxuICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXRhLmZpZWxkcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEV4dHJhY3Qgc2VydmVyIGdlbmVyYXRlZCBxdWVyeSBpZCBmb3IgdXNlIGluIHJlcXVlc3RNb3JlIGFuZCBkaXNjYXJkXG4gICAgICAgICAgICAvLyBmdW5jdGlvbnNcbiAgICAgICAgICAgIGlmIChtZXRhLnFpZCAhPT0gbnVsbCAmJiBtZXRhLnFpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVlcnlJZCA9IG1ldGEucWlkO1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBxaWQgZnJvbSBtZXRhZGF0YSBvYmplY3RcbiAgICAgICAgICAgICAgICBkZWxldGUgbWV0YS5xaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdG9yZU1ldGFkYXRhRm9yQ29tcGxldGlvbihtZXRhKTtcbiAgICAgICAgICAgIHZhciBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9iZWZvcmVLZXlzKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlSGFuZGxlclJlc3VsdCA9IHRoaXMuX2JlZm9yZUtleXModGhpcy5fZmllbGRLZXlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250aW51YXRpb25fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faGVhZCA9IF90aGlzLl9maWVsZEtleXM7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vYnNlcnZlcnMuc29tZShmdW5jdGlvbiAobykgeyByZXR1cm4gby5vbktleXM7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25LZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5vbktleXMoX3RoaXMuX2ZpZWxkS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2FmdGVyS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYWZ0ZXJLZXlzKF90aGlzLl9maWVsZEtleXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZnRlclN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoYmVmb3JlSGFuZGxlclJlc3VsdCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShiZWZvcmVIYW5kbGVyUmVzdWx0KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnRpbnVhdGlvbl8xKCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGludWF0aW9uXzEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLl9oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZShfc3RhdGVzLkZBSUxFRCk7XG4gICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIHZhciBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2JlZm9yZUVycm9yKSB7XG4gICAgICAgICAgICBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gdGhpcy5fYmVmb3JlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250aW51YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX29ic2VydmVycy5zb21lKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9uRXJyb3I7IH0pKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ub25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5fYWZ0ZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLl9hZnRlckVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGJlZm9yZUhhbmRsZXJSZXN1bHQpIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShiZWZvcmVIYW5kbGVyUmVzdWx0KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnRpbnVhdGlvbigpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRpbnVhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX2hhbmRsZVN0cmVhbWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hlYWQgJiYgdGhpcy5fb2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub25OZXh0IHx8IG8ub25Db21wbGV0ZWQ7IH0pKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BhdXNlZCAmJiAodGhpcy5fZGlzY2FyZCB8fCB0aGlzLl9hdXRvUHVsbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5fbW9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2NhcmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2NhcmRGdW5jdGlvbih0aGlzLl9xdWVyeUlkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3B1bGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9tb3JlRnVuY3Rpb24odGhpcy5fcXVlcnlJZCwgdGhpcy5fZmV0Y2hTaXplLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRTdGF0ZShfc3RhdGVzLlNUUkVBTUlORyk7XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX3N0b3JlTWV0YWRhdGFGb3JDb21wbGV0aW9uID0gZnVuY3Rpb24gKG1ldGEpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhtZXRhKTtcbiAgICAgICAgdmFyIGluZGV4ID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIHZhciBrZXkgPSAnJztcbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICAgIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5fbWV0YVtrZXldID0gbWV0YVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX3NldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX3NldHVwQXV0b1B1bGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2F1dG9QdWxsID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXN1bHRTdHJlYW1PYnNlcnZlcjtcbn0oU3RyZWFtT2JzZXJ2ZXIpKTtcbmV4cG9ydHMuUmVzdWx0U3RyZWFtT2JzZXJ2ZXIgPSBSZXN1bHRTdHJlYW1PYnNlcnZlcjtcbnZhciBMb2dpbk9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMb2dpbk9ic2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihtZXRhZGF0YSl9IHBhcmFtLm9uQ29tcGxldGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9naW5PYnNlcnZlcihfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Iub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgX3RoaXMuX29uQ29tcGxldGVkID0gb25Db21wbGV0ZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTG9naW5PYnNlcnZlci5wcm90b3R5cGUub25OZXh0ID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICB0aGlzLm9uRXJyb3IoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdSZWNlaXZlZCBSRUNPUkQgd2hlbiBpbml0aWFsaXppbmcgJyArIG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocmVjb3JkKSkpO1xuICAgIH07XG4gICAgTG9naW5PYnNlcnZlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExvZ2luT2JzZXJ2ZXIucHJvdG90eXBlLm9uQ29tcGxldGVkID0gZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTG9naW5PYnNlcnZlcjtcbn0oU3RyZWFtT2JzZXJ2ZXIpKTtcbmV4cG9ydHMuTG9naW5PYnNlcnZlciA9IExvZ2luT2JzZXJ2ZXI7XG52YXIgTG9nb2ZmT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExvZ29mZk9ic2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihtZXRhZGF0YSl9IHBhcmFtLm9uQ29tcGxldGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9nb2ZmT2JzZXJ2ZXIoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlZCA9IF9iLm9uQ29tcGxldGVkO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIF90aGlzLl9vbkNvbXBsZXRlZCA9IG9uQ29tcGxldGVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIExvZ29mZk9ic2VydmVyLnByb3RvdHlwZS5vbk5leHQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHRoaXMub25FcnJvcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1JlY2VpdmVkIFJFQ09SRCB3aGVuIGxvZ2dpbmcgb2ZmICcgKyBuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KHJlY29yZCkpKTtcbiAgICB9O1xuICAgIExvZ29mZk9ic2VydmVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9nb2ZmT2JzZXJ2ZXIucHJvdG90eXBlLm9uQ29tcGxldGVkID0gZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTG9nb2ZmT2JzZXJ2ZXI7XG59KFN0cmVhbU9ic2VydmVyKSk7XG5leHBvcnRzLkxvZ29mZk9ic2VydmVyID0gTG9nb2ZmT2JzZXJ2ZXI7XG52YXIgUmVzZXRPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVzZXRPYnNlcnZlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSAtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IFN0cmluZyl9IHBhcmFtLm9uUHJvdG9jb2xFcnJvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhKX0gcGFyYW0ub25Db21wbGV0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc2V0T2JzZXJ2ZXIoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9uUHJvdG9jb2xFcnJvciA9IF9iLm9uUHJvdG9jb2xFcnJvciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb25Qcm90b2NvbEVycm9yID0gb25Qcm90b2NvbEVycm9yO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIF90aGlzLl9vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXNldE9ic2VydmVyLnByb3RvdHlwZS5vbk5leHQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHRoaXMub25FcnJvcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1JlY2VpdmVkIFJFQ09SRCB3aGVuIHJlc2V0dGluZzogcmVjZWl2ZWQgcmVjb3JkIGlzOiAnICtcbiAgICAgICAgICAgIG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocmVjb3JkKSwgUFJPVE9DT0xfRVJST1IpKTtcbiAgICB9O1xuICAgIFJlc2V0T2JzZXJ2ZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFBST1RPQ09MX0VSUk9SICYmIHRoaXMuX29uUHJvdG9jb2xFcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25Qcm90b2NvbEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzZXRPYnNlcnZlci5wcm90b3R5cGUub25Db21wbGV0ZWQgPSBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUobWV0YWRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVzZXRPYnNlcnZlcjtcbn0oU3RyZWFtT2JzZXJ2ZXIpKTtcbmV4cG9ydHMuUmVzZXRPYnNlcnZlciA9IFJlc2V0T2JzZXJ2ZXI7XG52YXIgVGVsZW1ldHJ5T2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRlbGVtZXRyeU9ic2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihtZXRhZGF0YSl9IHBhcmFtLm9uQ29tcGxldGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGVsZW1ldHJ5T2JzZXJ2ZXIoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlZCA9IF9iLm9uQ29tcGxldGVkO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIF90aGlzLl9vbkNvbXBsZXRlZCA9IG9uQ29tcGxldGVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRlbGVtZXRyeU9ic2VydmVyLnByb3RvdHlwZS5vbk5leHQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHRoaXMub25FcnJvcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1JlY2VpdmVkIFJFQ09SRCB3aGVuIHNlbmRpbmcgdGVsZW1ldHJ5ICcgKyBuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KHJlY29yZCksIFBST1RPQ09MX0VSUk9SKSk7XG4gICAgfTtcbiAgICBUZWxlbWV0cnlPYnNlcnZlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRlbGVtZXRyeU9ic2VydmVyLnByb3RvdHlwZS5vbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5fb25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRlbGVtZXRyeU9ic2VydmVyO1xufShSZXN1bHRTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5UZWxlbWV0cnlPYnNlcnZlciA9IFRlbGVtZXRyeU9ic2VydmVyO1xudmFyIEZhaWxlZE9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGYWlsZWRPYnNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGYWlsZWRPYnNlcnZlcihfYSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgb25FcnJvciA9IF9hLm9uRXJyb3I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHsgYmVmb3JlRXJyb3I6IG9uRXJyb3IgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub25FcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEZhaWxlZE9ic2VydmVyO1xufShSZXN1bHRTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5GYWlsZWRPYnNlcnZlciA9IEZhaWxlZE9ic2VydmVyO1xudmFyIENvbXBsZXRlZE9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21wbGV0ZWRPYnNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21wbGV0ZWRPYnNlcnZlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5tYXJrQ29tcGxldGVkLmNhbGwoX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBDb21wbGV0ZWRPYnNlcnZlcjtcbn0oUmVzdWx0U3RyZWFtT2JzZXJ2ZXIpKTtcbmV4cG9ydHMuQ29tcGxldGVkT2JzZXJ2ZXIgPSBDb21wbGV0ZWRPYnNlcnZlcjtcbnZhciBQcm9jZWR1cmVSb3V0ZU9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9jZWR1cmVSb3V0ZU9ic2VydmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIoX2EpIHtcbiAgICAgICAgdmFyIHJlc3VsdE9ic2VydmVyID0gX2EucmVzdWx0T2JzZXJ2ZXIsIG9uUHJvdG9jb2xFcnJvciA9IF9hLm9uUHJvdG9jb2xFcnJvciwgb25FcnJvciA9IF9hLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Eub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9yZXN1bHRPYnNlcnZlciA9IHJlc3VsdE9ic2VydmVyO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIF90aGlzLl9vbkNvbXBsZXRlZCA9IG9uQ29tcGxldGVkO1xuICAgICAgICBfdGhpcy5fcmVjb3JkcyA9IFtdO1xuICAgICAgICBfdGhpcy5fb25Qcm90b2NvbEVycm9yID0gb25Qcm90b2NvbEVycm9yO1xuICAgICAgICByZXN1bHRPYnNlcnZlci5zdWJzY3JpYmUoX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgdGhpcy5fcmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gICAgfTtcbiAgICBQcm9jZWR1cmVSb3V0ZU9ic2VydmVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSBQUk9UT0NPTF9FUlJPUiAmJiB0aGlzLl9vblByb3RvY29sRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uUHJvdG9jb2xFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIucHJvdG90eXBlLm9uQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVjb3JkcyAhPT0gbnVsbCAmJiB0aGlzLl9yZWNvcmRzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnSWxsZWdhbCByZXNwb25zZSBmcm9tIHJvdXRlci4gUmVjZWl2ZWQgJyArXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjb3Jkcy5sZW5ndGggK1xuICAgICAgICAgICAgICAgICcgcmVjb3JkcyBidXQgZXhwZWN0ZWQgb25seSBvbmUuXFxuJyArXG4gICAgICAgICAgICAgICAgbmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeSh0aGlzLl9yZWNvcmRzKSwgUFJPVE9DT0xfRVJST1IpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGVkKHJvdXRpbmdfdGFibGVfcmF3XzEuZGVmYXVsdC5vZlJlY29yZCh0aGlzLl9yZWNvcmRzWzBdKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQcm9jZWR1cmVSb3V0ZU9ic2VydmVyO1xufShTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5Qcm9jZWR1cmVSb3V0ZU9ic2VydmVyID0gUHJvY2VkdXJlUm91dGVPYnNlcnZlcjtcbnZhciBSb3V0ZU9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSb3V0ZU9ic2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogU3RyaW5nKX0gcGFyYW0ub25Qcm90b2NvbEVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oUmF3Um91dGluZ1RhYmxlKX0gcGFyYW0ub25Db21wbGV0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3V0ZU9ic2VydmVyKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBvblByb3RvY29sRXJyb3IgPSBfYi5vblByb3RvY29sRXJyb3IsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlZCA9IF9iLm9uQ29tcGxldGVkO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb25Qcm90b2NvbEVycm9yID0gb25Qcm90b2NvbEVycm9yO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIF90aGlzLl9vbkNvbXBsZXRlZCA9IG9uQ29tcGxldGVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJvdXRlT2JzZXJ2ZXIucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnUmVjZWl2ZWQgUkVDT1JEIHdoZW4gcmVzZXR0aW5nOiByZWNlaXZlZCByZWNvcmQgaXM6ICcgK1xuICAgICAgICAgICAgbmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShyZWNvcmQpLCBQUk9UT0NPTF9FUlJPUikpO1xuICAgIH07XG4gICAgUm91dGVPYnNlcnZlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gUFJPVE9DT0xfRVJST1IgJiYgdGhpcy5fb25Qcm90b2NvbEVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vblByb3RvY29sRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSb3V0ZU9ic2VydmVyLnByb3RvdHlwZS5vbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5fb25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGVkKHJvdXRpbmdfdGFibGVfcmF3XzEuZGVmYXVsdC5vZk1lc3NhZ2VSZXNwb25zZShtZXRhZGF0YSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUm91dGVPYnNlcnZlcjtcbn0oU3RyZWFtT2JzZXJ2ZXIpKTtcbmV4cG9ydHMuUm91dGVPYnNlcnZlciA9IFJvdXRlT2JzZXJ2ZXI7XG52YXIgX3N0YXRlcyA9IHtcbiAgICBSRUFEWV9TVFJFQU1JTkc6IHtcbiAgICAgICAgLy8gYXN5bmMgc3RhcnQgc3RhdGVcbiAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiAoc3RyZWFtT2JzZXJ2ZXIsIG1ldGEpIHtcbiAgICAgICAgICAgIHN0cmVhbU9ic2VydmVyLl9oYW5kbGVSdW5TdWNjZXNzKG1ldGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW1PYnNlcnZlci5fc2V0U3RhdGUoX3N0YXRlcy5TVFJFQU1JTkcpO1xuICAgICAgICAgICAgfSAvLyBhZnRlciBydW4gc3VjY2VlZGVkLCBhc3luYyBkaXJlY3RseSBtb3ZlIHRvIHN0cmVhbWluZ1xuICAgICAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChzdHJlYW1PYnNlcnZlciwgZXJyb3IpIHtcbiAgICAgICAgICAgIHN0cmVhbU9ic2VydmVyLl9oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnUkVBRFlfU1RSRUFNSU5HJztcbiAgICAgICAgfSxcbiAgICAgICAgcHVsbDogZnVuY3Rpb24gKCkgeyB9XG4gICAgfSxcbiAgICBSRUFEWToge1xuICAgICAgICAvLyByZWFjdGl2ZSBzdGFydCBzdGF0ZVxuICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIChzdHJlYW1PYnNlcnZlciwgbWV0YSkge1xuICAgICAgICAgICAgc3RyZWFtT2JzZXJ2ZXIuX2hhbmRsZVJ1blN1Y2Nlc3MobWV0YSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RyZWFtT2JzZXJ2ZXIuX2hhbmRsZVN0cmVhbWluZygpOyB9IC8vIGFmdGVyIHJ1biBzdWNjZWVkZWQgcmVjZWl2ZWQsIHJlYWN0aXZlIHNoYWxsIHN0YXJ0IHB1bGxpbmdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChzdHJlYW1PYnNlcnZlciwgZXJyb3IpIHtcbiAgICAgICAgICAgIHN0cmVhbU9ic2VydmVyLl9oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnUkVBRFknO1xuICAgICAgICB9LFxuICAgICAgICBwdWxsOiBmdW5jdGlvbiAoc3RyZWFtT2JzZXJ2ZXIpIHsgcmV0dXJuIHN0cmVhbU9ic2VydmVyLl9tb3JlKCk7IH1cbiAgICB9LFxuICAgIFNUUkVBTUlORzoge1xuICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIChzdHJlYW1PYnNlcnZlciwgbWV0YSkge1xuICAgICAgICAgICAgaWYgKG1ldGEuaGFzX21vcmUpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW1PYnNlcnZlci5faGFuZGxlSGFzTW9yZShtZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cmVhbU9ic2VydmVyLl9oYW5kbGVQdWxsU3VjY2VzcyhtZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKHN0cmVhbU9ic2VydmVyLCBlcnJvcikge1xuICAgICAgICAgICAgc3RyZWFtT2JzZXJ2ZXIuX2hhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdTVFJFQU1JTkcnO1xuICAgICAgICB9LFxuICAgICAgICBwdWxsOiBmdW5jdGlvbiAoKSB7IH1cbiAgICB9LFxuICAgIEZBSUxFRDoge1xuICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoX2Vycm9yKSB7XG4gICAgICAgICAgICAvLyBtb3JlIGVycm9ycyBhcmUgaWdub3JlZFxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0ZBSUxFRCc7XG4gICAgICAgIH0sXG4gICAgICAgIHB1bGw6IGZ1bmN0aW9uICgpIHsgfVxuICAgIH0sXG4gICAgU1VDQ0VFREVEOiB7XG4gICAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnU1VDQ0VFREVEJztcbiAgICAgICAgfSxcbiAgICAgICAgcHVsbDogZnVuY3Rpb24gKCkgeyB9XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.epochSecondAndNanoToLocalDateTime = exports.nanoOfDayToLocalTime = exports.epochDayToDate = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.temporalUtil, DAYS_0000_TO_1970 = _a.DAYS_0000_TO_1970, DAYS_PER_400_YEAR_CYCLE = _a.DAYS_PER_400_YEAR_CYCLE, NANOS_PER_HOUR = _a.NANOS_PER_HOUR, NANOS_PER_MINUTE = _a.NANOS_PER_MINUTE, NANOS_PER_SECOND = _a.NANOS_PER_SECOND, SECONDS_PER_DAY = _a.SECONDS_PER_DAY, floorDiv = _a.floorDiv, floorMod = _a.floorMod;\n/**\n * Converts given epoch day to a local date.\n * @param {Integer|number|string} epochDay the epoch day to convert.\n * @return {Date} the date representing the epoch day in years, months and days.\n */\nfunction epochDayToDate(epochDay) {\n    epochDay = (0, neo4j_driver_core_1.int)(epochDay);\n    var zeroDay = epochDay.add(DAYS_0000_TO_1970).subtract(60);\n    var adjust = (0, neo4j_driver_core_1.int)(0);\n    if (zeroDay.lessThan(0)) {\n        var adjustCycles = zeroDay\n            .add(1)\n            .div(DAYS_PER_400_YEAR_CYCLE)\n            .subtract(1);\n        adjust = adjustCycles.multiply(400);\n        zeroDay = zeroDay.add(adjustCycles.multiply(-DAYS_PER_400_YEAR_CYCLE));\n    }\n    var year = zeroDay\n        .multiply(400)\n        .add(591)\n        .div(DAYS_PER_400_YEAR_CYCLE);\n    var dayOfYearEst = zeroDay.subtract(year\n        .multiply(365)\n        .add(year.div(4))\n        .subtract(year.div(100))\n        .add(year.div(400)));\n    if (dayOfYearEst.lessThan(0)) {\n        year = year.subtract(1);\n        dayOfYearEst = zeroDay.subtract(year\n            .multiply(365)\n            .add(year.div(4))\n            .subtract(year.div(100))\n            .add(year.div(400)));\n    }\n    year = year.add(adjust);\n    var marchDayOfYear = dayOfYearEst;\n    var marchMonth = marchDayOfYear\n        .multiply(5)\n        .add(2)\n        .div(153);\n    var month = marchMonth\n        .add(2)\n        .modulo(12)\n        .add(1);\n    var day = marchDayOfYear\n        .subtract(marchMonth\n        .multiply(306)\n        .add(5)\n        .div(10))\n        .add(1);\n    year = year.add(marchMonth.div(10));\n    return new neo4j_driver_core_1.Date(year, month, day);\n}\nexports.epochDayToDate = epochDayToDate;\n/**\n * Converts nanoseconds of the day into local time.\n * @param {Integer|number|string} nanoOfDay the nanoseconds of the day to convert.\n * @return {LocalTime} the local time representing given nanoseconds of the day.\n */\nfunction nanoOfDayToLocalTime(nanoOfDay) {\n    nanoOfDay = (0, neo4j_driver_core_1.int)(nanoOfDay);\n    var hour = nanoOfDay.div(NANOS_PER_HOUR);\n    nanoOfDay = nanoOfDay.subtract(hour.multiply(NANOS_PER_HOUR));\n    var minute = nanoOfDay.div(NANOS_PER_MINUTE);\n    nanoOfDay = nanoOfDay.subtract(minute.multiply(NANOS_PER_MINUTE));\n    var second = nanoOfDay.div(NANOS_PER_SECOND);\n    var nanosecond = nanoOfDay.subtract(second.multiply(NANOS_PER_SECOND));\n    return new neo4j_driver_core_1.LocalTime(hour, minute, second, nanosecond);\n}\nexports.nanoOfDayToLocalTime = nanoOfDayToLocalTime;\n/**\n * Converts given epoch second and nanosecond adjustment into a local date time object.\n * @param {Integer|number|string} epochSecond the epoch second to use.\n * @param {Integer|number|string} nano the nanosecond to use.\n * @return {LocalDateTime} the local date time representing given epoch second and nano.\n */\nfunction epochSecondAndNanoToLocalDateTime(epochSecond, nano) {\n    var epochDay = floorDiv(epochSecond, SECONDS_PER_DAY);\n    var secondsOfDay = floorMod(epochSecond, SECONDS_PER_DAY);\n    var nanoOfDay = secondsOfDay.multiply(NANOS_PER_SECOND).add(nano);\n    var localDate = epochDayToDate(epochDay);\n    var localTime = nanoOfDayToLocalTime(nanoOfDay);\n    return new neo4j_driver_core_1.LocalDateTime(localDate.year, localDate.month, localDate.day, localTime.hour, localTime.minute, localTime.second, localTime.nanosecond);\n}\nexports.epochSecondAndNanoToLocalDateTime = epochSecondAndNanoToLocalDateTime;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC90ZW1wb3JhbC1mYWN0b3J5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlDQUF5QyxHQUFHLDRCQUE0QixHQUFHLHNCQUFzQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLHVCQUF1QjtBQUNsQyxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L3RlbXBvcmFsLWZhY3RvcnkuanM/YTY0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXBvY2hTZWNvbmRBbmROYW5vVG9Mb2NhbERhdGVUaW1lID0gZXhwb3J0cy5uYW5vT2ZEYXlUb0xvY2FsVGltZSA9IGV4cG9ydHMuZXBvY2hEYXlUb0RhdGUgPSB2b2lkIDA7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnRlbXBvcmFsVXRpbCwgREFZU18wMDAwX1RPXzE5NzAgPSBfYS5EQVlTXzAwMDBfVE9fMTk3MCwgREFZU19QRVJfNDAwX1lFQVJfQ1lDTEUgPSBfYS5EQVlTX1BFUl80MDBfWUVBUl9DWUNMRSwgTkFOT1NfUEVSX0hPVVIgPSBfYS5OQU5PU19QRVJfSE9VUiwgTkFOT1NfUEVSX01JTlVURSA9IF9hLk5BTk9TX1BFUl9NSU5VVEUsIE5BTk9TX1BFUl9TRUNPTkQgPSBfYS5OQU5PU19QRVJfU0VDT05ELCBTRUNPTkRTX1BFUl9EQVkgPSBfYS5TRUNPTkRTX1BFUl9EQVksIGZsb29yRGl2ID0gX2EuZmxvb3JEaXYsIGZsb29yTW9kID0gX2EuZmxvb3JNb2Q7XG4vKipcbiAqIENvbnZlcnRzIGdpdmVuIGVwb2NoIGRheSB0byBhIGxvY2FsIGRhdGUuXG4gKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfHN0cmluZ30gZXBvY2hEYXkgdGhlIGVwb2NoIGRheSB0byBjb252ZXJ0LlxuICogQHJldHVybiB7RGF0ZX0gdGhlIGRhdGUgcmVwcmVzZW50aW5nIHRoZSBlcG9jaCBkYXkgaW4geWVhcnMsIG1vbnRocyBhbmQgZGF5cy5cbiAqL1xuZnVuY3Rpb24gZXBvY2hEYXlUb0RhdGUoZXBvY2hEYXkpIHtcbiAgICBlcG9jaERheSA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoZXBvY2hEYXkpO1xuICAgIHZhciB6ZXJvRGF5ID0gZXBvY2hEYXkuYWRkKERBWVNfMDAwMF9UT18xOTcwKS5zdWJ0cmFjdCg2MCk7XG4gICAgdmFyIGFkanVzdCA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoMCk7XG4gICAgaWYgKHplcm9EYXkubGVzc1RoYW4oMCkpIHtcbiAgICAgICAgdmFyIGFkanVzdEN5Y2xlcyA9IHplcm9EYXlcbiAgICAgICAgICAgIC5hZGQoMSlcbiAgICAgICAgICAgIC5kaXYoREFZU19QRVJfNDAwX1lFQVJfQ1lDTEUpXG4gICAgICAgICAgICAuc3VidHJhY3QoMSk7XG4gICAgICAgIGFkanVzdCA9IGFkanVzdEN5Y2xlcy5tdWx0aXBseSg0MDApO1xuICAgICAgICB6ZXJvRGF5ID0gemVyb0RheS5hZGQoYWRqdXN0Q3ljbGVzLm11bHRpcGx5KC1EQVlTX1BFUl80MDBfWUVBUl9DWUNMRSkpO1xuICAgIH1cbiAgICB2YXIgeWVhciA9IHplcm9EYXlcbiAgICAgICAgLm11bHRpcGx5KDQwMClcbiAgICAgICAgLmFkZCg1OTEpXG4gICAgICAgIC5kaXYoREFZU19QRVJfNDAwX1lFQVJfQ1lDTEUpO1xuICAgIHZhciBkYXlPZlllYXJFc3QgPSB6ZXJvRGF5LnN1YnRyYWN0KHllYXJcbiAgICAgICAgLm11bHRpcGx5KDM2NSlcbiAgICAgICAgLmFkZCh5ZWFyLmRpdig0KSlcbiAgICAgICAgLnN1YnRyYWN0KHllYXIuZGl2KDEwMCkpXG4gICAgICAgIC5hZGQoeWVhci5kaXYoNDAwKSkpO1xuICAgIGlmIChkYXlPZlllYXJFc3QubGVzc1RoYW4oMCkpIHtcbiAgICAgICAgeWVhciA9IHllYXIuc3VidHJhY3QoMSk7XG4gICAgICAgIGRheU9mWWVhckVzdCA9IHplcm9EYXkuc3VidHJhY3QoeWVhclxuICAgICAgICAgICAgLm11bHRpcGx5KDM2NSlcbiAgICAgICAgICAgIC5hZGQoeWVhci5kaXYoNCkpXG4gICAgICAgICAgICAuc3VidHJhY3QoeWVhci5kaXYoMTAwKSlcbiAgICAgICAgICAgIC5hZGQoeWVhci5kaXYoNDAwKSkpO1xuICAgIH1cbiAgICB5ZWFyID0geWVhci5hZGQoYWRqdXN0KTtcbiAgICB2YXIgbWFyY2hEYXlPZlllYXIgPSBkYXlPZlllYXJFc3Q7XG4gICAgdmFyIG1hcmNoTW9udGggPSBtYXJjaERheU9mWWVhclxuICAgICAgICAubXVsdGlwbHkoNSlcbiAgICAgICAgLmFkZCgyKVxuICAgICAgICAuZGl2KDE1Myk7XG4gICAgdmFyIG1vbnRoID0gbWFyY2hNb250aFxuICAgICAgICAuYWRkKDIpXG4gICAgICAgIC5tb2R1bG8oMTIpXG4gICAgICAgIC5hZGQoMSk7XG4gICAgdmFyIGRheSA9IG1hcmNoRGF5T2ZZZWFyXG4gICAgICAgIC5zdWJ0cmFjdChtYXJjaE1vbnRoXG4gICAgICAgIC5tdWx0aXBseSgzMDYpXG4gICAgICAgIC5hZGQoNSlcbiAgICAgICAgLmRpdigxMCkpXG4gICAgICAgIC5hZGQoMSk7XG4gICAgeWVhciA9IHllYXIuYWRkKG1hcmNoTW9udGguZGl2KDEwKSk7XG4gICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLkRhdGUoeWVhciwgbW9udGgsIGRheSk7XG59XG5leHBvcnRzLmVwb2NoRGF5VG9EYXRlID0gZXBvY2hEYXlUb0RhdGU7XG4vKipcbiAqIENvbnZlcnRzIG5hbm9zZWNvbmRzIG9mIHRoZSBkYXkgaW50byBsb2NhbCB0aW1lLlxuICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcnxzdHJpbmd9IG5hbm9PZkRheSB0aGUgbmFub3NlY29uZHMgb2YgdGhlIGRheSB0byBjb252ZXJ0LlxuICogQHJldHVybiB7TG9jYWxUaW1lfSB0aGUgbG9jYWwgdGltZSByZXByZXNlbnRpbmcgZ2l2ZW4gbmFub3NlY29uZHMgb2YgdGhlIGRheS5cbiAqL1xuZnVuY3Rpb24gbmFub09mRGF5VG9Mb2NhbFRpbWUobmFub09mRGF5KSB7XG4gICAgbmFub09mRGF5ID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShuYW5vT2ZEYXkpO1xuICAgIHZhciBob3VyID0gbmFub09mRGF5LmRpdihOQU5PU19QRVJfSE9VUik7XG4gICAgbmFub09mRGF5ID0gbmFub09mRGF5LnN1YnRyYWN0KGhvdXIubXVsdGlwbHkoTkFOT1NfUEVSX0hPVVIpKTtcbiAgICB2YXIgbWludXRlID0gbmFub09mRGF5LmRpdihOQU5PU19QRVJfTUlOVVRFKTtcbiAgICBuYW5vT2ZEYXkgPSBuYW5vT2ZEYXkuc3VidHJhY3QobWludXRlLm11bHRpcGx5KE5BTk9TX1BFUl9NSU5VVEUpKTtcbiAgICB2YXIgc2Vjb25kID0gbmFub09mRGF5LmRpdihOQU5PU19QRVJfU0VDT05EKTtcbiAgICB2YXIgbmFub3NlY29uZCA9IG5hbm9PZkRheS5zdWJ0cmFjdChzZWNvbmQubXVsdGlwbHkoTkFOT1NfUEVSX1NFQ09ORCkpO1xuICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5Mb2NhbFRpbWUoaG91ciwgbWludXRlLCBzZWNvbmQsIG5hbm9zZWNvbmQpO1xufVxuZXhwb3J0cy5uYW5vT2ZEYXlUb0xvY2FsVGltZSA9IG5hbm9PZkRheVRvTG9jYWxUaW1lO1xuLyoqXG4gKiBDb252ZXJ0cyBnaXZlbiBlcG9jaCBzZWNvbmQgYW5kIG5hbm9zZWNvbmQgYWRqdXN0bWVudCBpbnRvIGEgbG9jYWwgZGF0ZSB0aW1lIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZWdlcnxudW1iZXJ8c3RyaW5nfSBlcG9jaFNlY29uZCB0aGUgZXBvY2ggc2Vjb25kIHRvIHVzZS5cbiAqIEBwYXJhbSB7SW50ZWdlcnxudW1iZXJ8c3RyaW5nfSBuYW5vIHRoZSBuYW5vc2Vjb25kIHRvIHVzZS5cbiAqIEByZXR1cm4ge0xvY2FsRGF0ZVRpbWV9IHRoZSBsb2NhbCBkYXRlIHRpbWUgcmVwcmVzZW50aW5nIGdpdmVuIGVwb2NoIHNlY29uZCBhbmQgbmFuby5cbiAqL1xuZnVuY3Rpb24gZXBvY2hTZWNvbmRBbmROYW5vVG9Mb2NhbERhdGVUaW1lKGVwb2NoU2Vjb25kLCBuYW5vKSB7XG4gICAgdmFyIGVwb2NoRGF5ID0gZmxvb3JEaXYoZXBvY2hTZWNvbmQsIFNFQ09ORFNfUEVSX0RBWSk7XG4gICAgdmFyIHNlY29uZHNPZkRheSA9IGZsb29yTW9kKGVwb2NoU2Vjb25kLCBTRUNPTkRTX1BFUl9EQVkpO1xuICAgIHZhciBuYW5vT2ZEYXkgPSBzZWNvbmRzT2ZEYXkubXVsdGlwbHkoTkFOT1NfUEVSX1NFQ09ORCkuYWRkKG5hbm8pO1xuICAgIHZhciBsb2NhbERhdGUgPSBlcG9jaERheVRvRGF0ZShlcG9jaERheSk7XG4gICAgdmFyIGxvY2FsVGltZSA9IG5hbm9PZkRheVRvTG9jYWxUaW1lKG5hbm9PZkRheSk7XG4gICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLkxvY2FsRGF0ZVRpbWUobG9jYWxEYXRlLnllYXIsIGxvY2FsRGF0ZS5tb250aCwgbG9jYWxEYXRlLmRheSwgbG9jYWxUaW1lLmhvdXIsIGxvY2FsVGltZS5taW51dGUsIGxvY2FsVGltZS5zZWNvbmQsIGxvY2FsVGltZS5uYW5vc2Vjb25kKTtcbn1cbmV4cG9ydHMuZXBvY2hTZWNvbmRBbmROYW5vVG9Mb2NhbERhdGVUaW1lID0gZXBvY2hTZWNvbmRBbmROYW5vVG9Mb2NhbERhdGVUaW1lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TypeTransformer = void 0;\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar objectUtil = neo4j_driver_core_1.internal.objectUtil;\n/**\n * Class responsible for applying the expected {@link TypeTransformer} to\n * transform the driver types from and to {@link struct.Structure}\n */\nvar Transformer = /** @class */ (function () {\n    /**\n     * Constructor\n     * @param {TypeTransformer[]} transformers The type transformers\n     */\n    function Transformer(transformers) {\n        this._transformers = transformers;\n        this._transformersPerSignature = new Map(transformers.map(function (typeTransformer) { return [typeTransformer.signature, typeTransformer]; }));\n        this.fromStructure = this.fromStructure.bind(this);\n        this.toStructure = this.toStructure.bind(this);\n        Object.freeze(this);\n    }\n    /**\n     * Transform from structure to specific object\n     *\n     * @param {struct.Structure} struct The structure\n     * @returns {<T>|structure.Structure} The driver object or the structure if the transformer was not found.\n     */\n    Transformer.prototype.fromStructure = function (struct) {\n        try {\n            if (struct instanceof packstream_1.structure.Structure && this._transformersPerSignature.has(struct.signature)) {\n                var fromStructure = this._transformersPerSignature.get(struct.signature).fromStructure;\n                return fromStructure(struct);\n            }\n            return struct;\n        }\n        catch (error) {\n            return objectUtil.createBrokenObject(error);\n        }\n    };\n    /**\n     * Transform from object to structure\n     * @param {<T>} type The object to be transoformed in structure\n     * @returns {<T>|structure.Structure} The structure or the object, if any transformer was found\n     */\n    Transformer.prototype.toStructure = function (type) {\n        var transformer = this._transformers.find(function (_a) {\n            var isTypeInstance = _a.isTypeInstance;\n            return isTypeInstance(type);\n        });\n        if (transformer !== undefined) {\n            return transformer.toStructure(type);\n        }\n        return type;\n    };\n    return Transformer;\n}());\nexports[\"default\"] = Transformer;\n/**\n * @callback isTypeInstanceFunction\n * @param {any} object The object\n * @return {boolean} is instance of\n */\n/**\n * @callback toStructureFunction\n * @param {any} object The object\n * @return {structure.Structure} The structure\n */\n/**\n * @callback fromStructureFunction\n * @param {structure.Structure} struct The structure\n * @return {any} The object\n */\n/**\n * Class responsible for grouping the properties of a TypeTransformer\n */\nvar TypeTransformer = /** @class */ (function () {\n    /**\n     * @param {Object} param\n     * @param {number} param.signature The signature of the structure\n     * @param {isTypeInstanceFunction} param.isTypeInstance The function which checks if object is\n     *                instance of the type described by the TypeTransformer\n     * @param {toStructureFunction} param.toStructure The function which gets the object and converts to structure\n     * @param {fromStructureFunction} param.fromStructure The function which get the structure and covnverts to object\n     */\n    function TypeTransformer(_a) {\n        var signature = _a.signature, fromStructure = _a.fromStructure, toStructure = _a.toStructure, isTypeInstance = _a.isTypeInstance;\n        this.signature = signature;\n        this.isTypeInstance = isTypeInstance;\n        this.fromStructure = fromStructure;\n        this.toStructure = toStructure;\n        Object.freeze(this);\n    }\n    /**\n     * @param {Object} param\n     * @param {number} [param.signature] The signature of the structure\n     * @param {isTypeInstanceFunction} [param.isTypeInstance] The function which checks if object is\n     *                instance of the type described by the TypeTransformer\n     * @param {toStructureFunction} [param.toStructure] The function which gets the object and converts to structure\n     * @param {fromStructureFunction} pparam.fromStructure] The function which get the structure and covnverts to object\n     * @returns {TypeTransformer} A new type transform extends with new methods\n     */\n    TypeTransformer.prototype.extendsWith = function (_a) {\n        var signature = _a.signature, fromStructure = _a.fromStructure, toStructure = _a.toStructure, isTypeInstance = _a.isTypeInstance;\n        return new TypeTransformer({\n            signature: signature || this.signature,\n            fromStructure: fromStructure || this.fromStructure,\n            toStructure: toStructure || this.toStructure,\n            isTypeInstance: isTypeInstance || this.isTypeInstance\n        });\n    };\n    return TypeTransformer;\n}());\nexports.TypeTransformer = TypeTransformer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC90cmFuc2Zvcm1lci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBLGdEQUFnRCx1QkFBdUI7QUFDdkUsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHNEQUFzRDtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDLGlCQUFpQix5QkFBeUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQix5QkFBeUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsWUFBWSxxQkFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEMsWUFBWSxLQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSx3QkFBd0I7QUFDdkM7QUFDQSxlQUFlLHFCQUFxQjtBQUNwQyxlQUFlLHVCQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSx3QkFBd0I7QUFDdkM7QUFDQSxlQUFlLHFCQUFxQjtBQUNwQyxlQUFlLHVCQUF1QjtBQUN0QyxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvdHJhbnNmb3JtZXIuanM/NDAzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlR5cGVUcmFuc2Zvcm1lciA9IHZvaWQgMDtcbnZhciBwYWNrc3RyZWFtXzEgPSByZXF1aXJlKFwiLi4vcGFja3N0cmVhbVwiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIG9iamVjdFV0aWwgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLm9iamVjdFV0aWw7XG4vKipcbiAqIENsYXNzIHJlc3BvbnNpYmxlIGZvciBhcHBseWluZyB0aGUgZXhwZWN0ZWQge0BsaW5rIFR5cGVUcmFuc2Zvcm1lcn0gdG9cbiAqIHRyYW5zZm9ybSB0aGUgZHJpdmVyIHR5cGVzIGZyb20gYW5kIHRvIHtAbGluayBzdHJ1Y3QuU3RydWN0dXJlfVxuICovXG52YXIgVHJhbnNmb3JtZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1R5cGVUcmFuc2Zvcm1lcltdfSB0cmFuc2Zvcm1lcnMgVGhlIHR5cGUgdHJhbnNmb3JtZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtZXIodHJhbnNmb3JtZXJzKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVycyA9IHRyYW5zZm9ybWVycztcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXJzUGVyU2lnbmF0dXJlID0gbmV3IE1hcCh0cmFuc2Zvcm1lcnMubWFwKGZ1bmN0aW9uICh0eXBlVHJhbnNmb3JtZXIpIHsgcmV0dXJuIFt0eXBlVHJhbnNmb3JtZXIuc2lnbmF0dXJlLCB0eXBlVHJhbnNmb3JtZXJdOyB9KSk7XG4gICAgICAgIHRoaXMuZnJvbVN0cnVjdHVyZSA9IHRoaXMuZnJvbVN0cnVjdHVyZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRvU3RydWN0dXJlID0gdGhpcy50b1N0cnVjdHVyZS5iaW5kKHRoaXMpO1xuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gZnJvbSBzdHJ1Y3R1cmUgdG8gc3BlY2lmaWMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cnVjdC5TdHJ1Y3R1cmV9IHN0cnVjdCBUaGUgc3RydWN0dXJlXG4gICAgICogQHJldHVybnMgezxUPnxzdHJ1Y3R1cmUuU3RydWN0dXJlfSBUaGUgZHJpdmVyIG9iamVjdCBvciB0aGUgc3RydWN0dXJlIGlmIHRoZSB0cmFuc2Zvcm1lciB3YXMgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIFRyYW5zZm9ybWVyLnByb3RvdHlwZS5mcm9tU3RydWN0dXJlID0gZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHN0cnVjdCBpbnN0YW5jZW9mIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlICYmIHRoaXMuX3RyYW5zZm9ybWVyc1BlclNpZ25hdHVyZS5oYXMoc3RydWN0LnNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJvbVN0cnVjdHVyZSA9IHRoaXMuX3RyYW5zZm9ybWVyc1BlclNpZ25hdHVyZS5nZXQoc3RydWN0LnNpZ25hdHVyZSkuZnJvbVN0cnVjdHVyZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbVN0cnVjdHVyZShzdHJ1Y3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3RVdGlsLmNyZWF0ZUJyb2tlbk9iamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBmcm9tIG9iamVjdCB0byBzdHJ1Y3R1cmVcbiAgICAgKiBAcGFyYW0gezxUPn0gdHlwZSBUaGUgb2JqZWN0IHRvIGJlIHRyYW5zb2Zvcm1lZCBpbiBzdHJ1Y3R1cmVcbiAgICAgKiBAcmV0dXJucyB7PFQ+fHN0cnVjdHVyZS5TdHJ1Y3R1cmV9IFRoZSBzdHJ1Y3R1cmUgb3IgdGhlIG9iamVjdCwgaWYgYW55IHRyYW5zZm9ybWVyIHdhcyBmb3VuZFxuICAgICAqL1xuICAgIFRyYW5zZm9ybWVyLnByb3RvdHlwZS50b1N0cnVjdHVyZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1lciA9IHRoaXMuX3RyYW5zZm9ybWVycy5maW5kKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGlzVHlwZUluc3RhbmNlID0gX2EuaXNUeXBlSW5zdGFuY2U7XG4gICAgICAgICAgICByZXR1cm4gaXNUeXBlSW5zdGFuY2UodHlwZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHJhbnNmb3JtZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyLnRvU3RydWN0dXJlKHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH07XG4gICAgcmV0dXJuIFRyYW5zZm9ybWVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybWVyO1xuLyoqXG4gKiBAY2FsbGJhY2sgaXNUeXBlSW5zdGFuY2VGdW5jdGlvblxuICogQHBhcmFtIHthbnl9IG9iamVjdCBUaGUgb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBpcyBpbnN0YW5jZSBvZlxuICovXG4vKipcbiAqIEBjYWxsYmFjayB0b1N0cnVjdHVyZUZ1bmN0aW9uXG4gKiBAcGFyYW0ge2FueX0gb2JqZWN0IFRoZSBvYmplY3RcbiAqIEByZXR1cm4ge3N0cnVjdHVyZS5TdHJ1Y3R1cmV9IFRoZSBzdHJ1Y3R1cmVcbiAqL1xuLyoqXG4gKiBAY2FsbGJhY2sgZnJvbVN0cnVjdHVyZUZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cnVjdHVyZS5TdHJ1Y3R1cmV9IHN0cnVjdCBUaGUgc3RydWN0dXJlXG4gKiBAcmV0dXJuIHthbnl9IFRoZSBvYmplY3RcbiAqL1xuLyoqXG4gKiBDbGFzcyByZXNwb25zaWJsZSBmb3IgZ3JvdXBpbmcgdGhlIHByb3BlcnRpZXMgb2YgYSBUeXBlVHJhbnNmb3JtZXJcbiAqL1xudmFyIFR5cGVUcmFuc2Zvcm1lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFyYW0uc2lnbmF0dXJlIFRoZSBzaWduYXR1cmUgb2YgdGhlIHN0cnVjdHVyZVxuICAgICAqIEBwYXJhbSB7aXNUeXBlSW5zdGFuY2VGdW5jdGlvbn0gcGFyYW0uaXNUeXBlSW5zdGFuY2UgVGhlIGZ1bmN0aW9uIHdoaWNoIGNoZWNrcyBpZiBvYmplY3QgaXNcbiAgICAgKiAgICAgICAgICAgICAgICBpbnN0YW5jZSBvZiB0aGUgdHlwZSBkZXNjcmliZWQgYnkgdGhlIFR5cGVUcmFuc2Zvcm1lclxuICAgICAqIEBwYXJhbSB7dG9TdHJ1Y3R1cmVGdW5jdGlvbn0gcGFyYW0udG9TdHJ1Y3R1cmUgVGhlIGZ1bmN0aW9uIHdoaWNoIGdldHMgdGhlIG9iamVjdCBhbmQgY29udmVydHMgdG8gc3RydWN0dXJlXG4gICAgICogQHBhcmFtIHtmcm9tU3RydWN0dXJlRnVuY3Rpb259IHBhcmFtLmZyb21TdHJ1Y3R1cmUgVGhlIGZ1bmN0aW9uIHdoaWNoIGdldCB0aGUgc3RydWN0dXJlIGFuZCBjb3ZudmVydHMgdG8gb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gVHlwZVRyYW5zZm9ybWVyKF9hKSB7XG4gICAgICAgIHZhciBzaWduYXR1cmUgPSBfYS5zaWduYXR1cmUsIGZyb21TdHJ1Y3R1cmUgPSBfYS5mcm9tU3RydWN0dXJlLCB0b1N0cnVjdHVyZSA9IF9hLnRvU3RydWN0dXJlLCBpc1R5cGVJbnN0YW5jZSA9IF9hLmlzVHlwZUluc3RhbmNlO1xuICAgICAgICB0aGlzLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICAgICAgdGhpcy5pc1R5cGVJbnN0YW5jZSA9IGlzVHlwZUluc3RhbmNlO1xuICAgICAgICB0aGlzLmZyb21TdHJ1Y3R1cmUgPSBmcm9tU3RydWN0dXJlO1xuICAgICAgICB0aGlzLnRvU3RydWN0dXJlID0gdG9TdHJ1Y3R1cmU7XG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW0uc2lnbmF0dXJlXSBUaGUgc2lnbmF0dXJlIG9mIHRoZSBzdHJ1Y3R1cmVcbiAgICAgKiBAcGFyYW0ge2lzVHlwZUluc3RhbmNlRnVuY3Rpb259IFtwYXJhbS5pc1R5cGVJbnN0YW5jZV0gVGhlIGZ1bmN0aW9uIHdoaWNoIGNoZWNrcyBpZiBvYmplY3QgaXNcbiAgICAgKiAgICAgICAgICAgICAgICBpbnN0YW5jZSBvZiB0aGUgdHlwZSBkZXNjcmliZWQgYnkgdGhlIFR5cGVUcmFuc2Zvcm1lclxuICAgICAqIEBwYXJhbSB7dG9TdHJ1Y3R1cmVGdW5jdGlvbn0gW3BhcmFtLnRvU3RydWN0dXJlXSBUaGUgZnVuY3Rpb24gd2hpY2ggZ2V0cyB0aGUgb2JqZWN0IGFuZCBjb252ZXJ0cyB0byBzdHJ1Y3R1cmVcbiAgICAgKiBAcGFyYW0ge2Zyb21TdHJ1Y3R1cmVGdW5jdGlvbn0gcHBhcmFtLmZyb21TdHJ1Y3R1cmVdIFRoZSBmdW5jdGlvbiB3aGljaCBnZXQgdGhlIHN0cnVjdHVyZSBhbmQgY292bnZlcnRzIHRvIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9IEEgbmV3IHR5cGUgdHJhbnNmb3JtIGV4dGVuZHMgd2l0aCBuZXcgbWV0aG9kc1xuICAgICAqL1xuICAgIFR5cGVUcmFuc2Zvcm1lci5wcm90b3R5cGUuZXh0ZW5kc1dpdGggPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHNpZ25hdHVyZSA9IF9hLnNpZ25hdHVyZSwgZnJvbVN0cnVjdHVyZSA9IF9hLmZyb21TdHJ1Y3R1cmUsIHRvU3RydWN0dXJlID0gX2EudG9TdHJ1Y3R1cmUsIGlzVHlwZUluc3RhbmNlID0gX2EuaXNUeXBlSW5zdGFuY2U7XG4gICAgICAgIHJldHVybiBuZXcgVHlwZVRyYW5zZm9ybWVyKHtcbiAgICAgICAgICAgIHNpZ25hdHVyZTogc2lnbmF0dXJlIHx8IHRoaXMuc2lnbmF0dXJlLFxuICAgICAgICAgICAgZnJvbVN0cnVjdHVyZTogZnJvbVN0cnVjdHVyZSB8fCB0aGlzLmZyb21TdHJ1Y3R1cmUsXG4gICAgICAgICAgICB0b1N0cnVjdHVyZTogdG9TdHJ1Y3R1cmUgfHwgdGhpcy50b1N0cnVjdHVyZSxcbiAgICAgICAgICAgIGlzVHlwZUluc3RhbmNlOiBpc1R5cGVJbnN0YW5jZSB8fCB0aGlzLmlzVHlwZUluc3RhbmNlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFR5cGVUcmFuc2Zvcm1lcjtcbn0oKSk7XG5leHBvcnRzLlR5cGVUcmFuc2Zvcm1lciA9IFR5cGVUcmFuc2Zvcm1lcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js":
/*!***********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Common base with default implementation for most buffer methods.\n * Buffers are stateful - they track a current \"position\", this helps greatly\n * when reading and writing from them incrementally. You can also ignore the\n * stateful read/write methods.\n * readXXX and writeXXX-methods move the inner position of the buffer.\n * putXXX and getXXX-methods do not.\n * @access private\n */\nvar BaseBuffer = /** @class */ (function () {\n    /**\n     * Create a instance with the injected size.\n     * @constructor\n     * @param {Integer} size\n     */\n    function BaseBuffer(size) {\n        this.position = 0;\n        this.length = size;\n    }\n    BaseBuffer.prototype.getUInt8 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.getInt8 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.getFloat64 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.getVarInt = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putUInt8 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putInt8 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putFloat64 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt16 = function (p) {\n        return (this.getInt8(p) << 8) | this.getUInt8(p + 1);\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getUInt16 = function (p) {\n        return (this.getUInt8(p) << 8) | this.getUInt8(p + 1);\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt32 = function (p) {\n        return ((this.getInt8(p) << 24) |\n            (this.getUInt8(p + 1) << 16) |\n            (this.getUInt8(p + 2) << 8) |\n            this.getUInt8(p + 3));\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getUInt32 = function (p) {\n        return ((this.getUInt8(p) << 24) |\n            (this.getUInt8(p + 1) << 16) |\n            (this.getUInt8(p + 2) << 8) |\n            this.getUInt8(p + 3));\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt64 = function (p) {\n        return ((this.getInt8(p) << 56) |\n            (this.getUInt8(p + 1) << 48) |\n            (this.getUInt8(p + 2) << 40) |\n            (this.getUInt8(p + 3) << 32) |\n            (this.getUInt8(p + 4) << 24) |\n            (this.getUInt8(p + 5) << 16) |\n            (this.getUInt8(p + 6) << 8) |\n            this.getUInt8(p + 7));\n    };\n    /**\n     * Get a slice of this buffer. This method does not copy any data,\n     * but simply provides a slice view of this buffer\n     * @param start\n     * @param length\n     */\n    BaseBuffer.prototype.getSlice = function (start, length) {\n        return new SliceBuffer(start, length, this);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt16 = function (p, val) {\n        this.putInt8(p, val >> 8);\n        this.putUInt8(p + 1, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putUInt16 = function (p, val) {\n        this.putUInt8(p, (val >> 8) & 0xff);\n        this.putUInt8(p + 1, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt32 = function (p, val) {\n        this.putInt8(p, val >> 24);\n        this.putUInt8(p + 1, (val >> 16) & 0xff);\n        this.putUInt8(p + 2, (val >> 8) & 0xff);\n        this.putUInt8(p + 3, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putUInt32 = function (p, val) {\n        this.putUInt8(p, (val >> 24) & 0xff);\n        this.putUInt8(p + 1, (val >> 16) & 0xff);\n        this.putUInt8(p + 2, (val >> 8) & 0xff);\n        this.putUInt8(p + 3, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt64 = function (p, val) {\n        this.putInt8(p, val >> 48);\n        this.putUInt8(p + 1, (val >> 42) & 0xff);\n        this.putUInt8(p + 2, (val >> 36) & 0xff);\n        this.putUInt8(p + 3, (val >> 30) & 0xff);\n        this.putUInt8(p + 4, (val >> 24) & 0xff);\n        this.putUInt8(p + 5, (val >> 16) & 0xff);\n        this.putUInt8(p + 6, (val >> 8) & 0xff);\n        this.putUInt8(p + 7, val & 0xff);\n    };\n    BaseBuffer.prototype.putVarInt = function (p, val) {\n        var length = 0;\n        while (val > 1) {\n            var int = val % 128;\n            if (val >= 128) {\n                int += 128;\n            }\n            val = val / 128;\n            this.putUInt8(p + length, int);\n            length += 1;\n        }\n        return length;\n    };\n    /**\n     * @param position\n     * @param other\n     */\n    BaseBuffer.prototype.putBytes = function (position, other) {\n        for (var i = 0, end = other.remaining(); i < end; i++) {\n            this.putUInt8(position + i, other.readUInt8());\n        }\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt8 = function () {\n        return this.getUInt8(this._updatePos(1));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt8 = function () {\n        return this.getInt8(this._updatePos(1));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt16 = function () {\n        return this.getUInt16(this._updatePos(2));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt32 = function () {\n        return this.getUInt32(this._updatePos(4));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt16 = function () {\n        return this.getInt16(this._updatePos(2));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt32 = function () {\n        return this.getInt32(this._updatePos(4));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt64 = function () {\n        return this.getInt32(this._updatePos(8));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readFloat64 = function () {\n        return this.getFloat64(this._updatePos(8));\n    };\n    /**\n     * Read from state position\n     */\n    BaseBuffer.prototype.readVarInt = function () {\n        var int = this.getVarInt(this.position);\n        this._updatePos(int.length);\n        return int.value;\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeUInt8 = function (val) {\n        this.putUInt8(this._updatePos(1), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt8 = function (val) {\n        this.putInt8(this._updatePos(1), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt16 = function (val) {\n        this.putInt16(this._updatePos(2), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt32 = function (val) {\n        this.putInt32(this._updatePos(4), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeUInt32 = function (val) {\n        this.putUInt32(this._updatePos(4), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt64 = function (val) {\n        this.putInt64(this._updatePos(8), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeFloat64 = function (val) {\n        this.putFloat64(this._updatePos(8), val);\n    };\n    BaseBuffer.prototype.writeVarInt = function (val) {\n        var length = this.putVarInt(this.position, val);\n        this._updatePos(length);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeBytes = function (val) {\n        this.putBytes(this._updatePos(val.remaining()), val);\n    };\n    /**\n     * Get a slice of this buffer. This method does not copy any data,\n     * but simply provides a slice view of this buffer\n     * @param length\n     */\n    BaseBuffer.prototype.readSlice = function (length) {\n        return this.getSlice(this._updatePos(length), length);\n    };\n    BaseBuffer.prototype._updatePos = function (length) {\n        var p = this.position;\n        this.position += length;\n        return p;\n    };\n    /**\n     * Get remaining\n     */\n    BaseBuffer.prototype.remaining = function () {\n        return this.length - this.position;\n    };\n    /**\n     * Has remaining\n     */\n    BaseBuffer.prototype.hasRemaining = function () {\n        return this.remaining() > 0;\n    };\n    /**\n     * Reset position state\n     */\n    BaseBuffer.prototype.reset = function () {\n        this.position = 0;\n    };\n    /**\n     * Get string representation of buffer and it's state.\n     * @return {string} Buffer as a string\n     */\n    BaseBuffer.prototype.toString = function () {\n        return (this.constructor.name +\n            '( position=' +\n            this.position +\n            ' )\\n  ' +\n            this.toHex());\n    };\n    /**\n     * Get string representation of buffer.\n     * @return {string} Buffer as a string\n     */\n    BaseBuffer.prototype.toHex = function () {\n        var out = '';\n        for (var i = 0; i < this.length; i++) {\n            var hexByte = this.getUInt8(i).toString(16);\n            if (hexByte.length === 1) {\n                hexByte = '0' + hexByte;\n            }\n            out += hexByte;\n            if (i !== this.length - 1) {\n                out += ' ';\n            }\n        }\n        return out;\n    };\n    return BaseBuffer;\n}());\nexports[\"default\"] = BaseBuffer;\n/**\n * Represents a view as slice of another buffer.\n * @access private\n */\nvar SliceBuffer = /** @class */ (function (_super) {\n    __extends(SliceBuffer, _super);\n    function SliceBuffer(start, length, inner) {\n        var _this = _super.call(this, length) || this;\n        _this._start = start;\n        _this._inner = inner;\n        return _this;\n    }\n    SliceBuffer.prototype.putUInt8 = function (position, val) {\n        this._inner.putUInt8(this._start + position, val);\n    };\n    SliceBuffer.prototype.getUInt8 = function (position) {\n        return this._inner.getUInt8(this._start + position);\n    };\n    SliceBuffer.prototype.putInt8 = function (position, val) {\n        this._inner.putInt8(this._start + position, val);\n    };\n    SliceBuffer.prototype.putFloat64 = function (position, val) {\n        this._inner.putFloat64(this._start + position, val);\n    };\n    SliceBuffer.prototype.getInt8 = function (position) {\n        return this._inner.getInt8(this._start + position);\n    };\n    SliceBuffer.prototype.getFloat64 = function (position) {\n        return this._inner.getFloat64(this._start + position);\n    };\n    return SliceBuffer;\n}(BaseBuffer));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYnVmL2Jhc2UtYnVmLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxTQUFTO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9idWYvYmFzZS1idWYuanM/Y2UzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb21tb24gYmFzZSB3aXRoIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIG1vc3QgYnVmZmVyIG1ldGhvZHMuXG4gKiBCdWZmZXJzIGFyZSBzdGF0ZWZ1bCAtIHRoZXkgdHJhY2sgYSBjdXJyZW50IFwicG9zaXRpb25cIiwgdGhpcyBoZWxwcyBncmVhdGx5XG4gKiB3aGVuIHJlYWRpbmcgYW5kIHdyaXRpbmcgZnJvbSB0aGVtIGluY3JlbWVudGFsbHkuIFlvdSBjYW4gYWxzbyBpZ25vcmUgdGhlXG4gKiBzdGF0ZWZ1bCByZWFkL3dyaXRlIG1ldGhvZHMuXG4gKiByZWFkWFhYIGFuZCB3cml0ZVhYWC1tZXRob2RzIG1vdmUgdGhlIGlubmVyIHBvc2l0aW9uIG9mIHRoZSBidWZmZXIuXG4gKiBwdXRYWFggYW5kIGdldFhYWC1tZXRob2RzIGRvIG5vdC5cbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICovXG52YXIgQmFzZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBpbnN0YW5jZSB3aXRoIHRoZSBpbmplY3RlZCBzaXplLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gc2l6ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VCdWZmZXIoc2l6ZSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBzaXplO1xuICAgIH1cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRVSW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUuZ2V0SW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUuZ2V0RmxvYXQ2NCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUuZ2V0VmFySW50ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRVSW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnB1dEZsb2F0NjQgPSBmdW5jdGlvbiAocG9zaXRpb24sIHZhbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQxNiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRJbnQ4KHApIDw8IDgpIHwgdGhpcy5nZXRVSW50OChwICsgMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLmdldFVJbnQxNiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRVSW50OChwKSA8PCA4KSB8IHRoaXMuZ2V0VUludDgocCArIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQzMiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAoKHRoaXMuZ2V0SW50OChwKSA8PCAyNCkgfFxuICAgICAgICAgICAgKHRoaXMuZ2V0VUludDgocCArIDEpIDw8IDE2KSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgMikgPDwgOCkgfFxuICAgICAgICAgICAgdGhpcy5nZXRVSW50OChwICsgMykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRVSW50MzIgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKCh0aGlzLmdldFVJbnQ4KHApIDw8IDI0KSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgMSkgPDwgMTYpIHxcbiAgICAgICAgICAgICh0aGlzLmdldFVJbnQ4KHAgKyAyKSA8PCA4KSB8XG4gICAgICAgICAgICB0aGlzLmdldFVJbnQ4KHAgKyAzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLmdldEludDY0ID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuICgodGhpcy5nZXRJbnQ4KHApIDw8IDU2KSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgMSkgPDwgNDgpIHxcbiAgICAgICAgICAgICh0aGlzLmdldFVJbnQ4KHAgKyAyKSA8PCA0MCkgfFxuICAgICAgICAgICAgKHRoaXMuZ2V0VUludDgocCArIDMpIDw8IDMyKSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgNCkgPDwgMjQpIHxcbiAgICAgICAgICAgICh0aGlzLmdldFVJbnQ4KHAgKyA1KSA8PCAxNikgfFxuICAgICAgICAgICAgKHRoaXMuZ2V0VUludDgocCArIDYpIDw8IDgpIHxcbiAgICAgICAgICAgIHRoaXMuZ2V0VUludDgocCArIDcpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHNsaWNlIG9mIHRoaXMgYnVmZmVyLiBUaGlzIG1ldGhvZCBkb2VzIG5vdCBjb3B5IGFueSBkYXRhLFxuICAgICAqIGJ1dCBzaW1wbHkgcHJvdmlkZXMgYSBzbGljZSB2aWV3IG9mIHRoaXMgYnVmZmVyXG4gICAgICogQHBhcmFtIHN0YXJ0XG4gICAgICogQHBhcmFtIGxlbmd0aFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLmdldFNsaWNlID0gZnVuY3Rpb24gKHN0YXJ0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTbGljZUJ1ZmZlcihzdGFydCwgbGVuZ3RoLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnB1dEludDE2ID0gZnVuY3Rpb24gKHAsIHZhbCkge1xuICAgICAgICB0aGlzLnB1dEludDgocCwgdmFsID4+IDgpO1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAgKyAxLCB2YWwgJiAweGZmKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnB1dFVJbnQxNiA9IGZ1bmN0aW9uIChwLCB2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRVSW50OChwLCAodmFsID4+IDgpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDEsIHZhbCAmIDB4ZmYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucHV0SW50MzIgPSBmdW5jdGlvbiAocCwgdmFsKSB7XG4gICAgICAgIHRoaXMucHV0SW50OChwLCB2YWwgPj4gMjQpO1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAgKyAxLCAodmFsID4+IDE2KSAmIDB4ZmYpO1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAgKyAyLCAodmFsID4+IDgpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDMsIHZhbCAmIDB4ZmYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucHV0VUludDMyID0gZnVuY3Rpb24gKHAsIHZhbCkge1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAsICh2YWwgPj4gMjQpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDEsICh2YWwgPj4gMTYpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDIsICh2YWwgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgdGhpcy5wdXRVSW50OChwICsgMywgdmFsICYgMHhmZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcFxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRJbnQ2NCA9IGZ1bmN0aW9uIChwLCB2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRJbnQ4KHAsIHZhbCA+PiA0OCk7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDEsICh2YWwgPj4gNDIpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDIsICh2YWwgPj4gMzYpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDMsICh2YWwgPj4gMzApICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDQsICh2YWwgPj4gMjQpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDUsICh2YWwgPj4gMTYpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDYsICh2YWwgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgdGhpcy5wdXRVSW50OChwICsgNywgdmFsICYgMHhmZik7XG4gICAgfTtcbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRWYXJJbnQgPSBmdW5jdGlvbiAocCwgdmFsKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgICB3aGlsZSAodmFsID4gMSkge1xuICAgICAgICAgICAgdmFyIGludCA9IHZhbCAlIDEyODtcbiAgICAgICAgICAgIGlmICh2YWwgPj0gMTI4KSB7XG4gICAgICAgICAgICAgICAgaW50ICs9IDEyODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbCA9IHZhbCAvIDEyODtcbiAgICAgICAgICAgIHRoaXMucHV0VUludDgocCArIGxlbmd0aCwgaW50KTtcbiAgICAgICAgICAgIGxlbmd0aCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gb3RoZXJcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRCeXRlcyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgb3RoZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGVuZCA9IG90aGVyLnJlbWFpbmluZygpOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucHV0VUludDgocG9zaXRpb24gKyBpLCBvdGhlci5yZWFkVUludDgoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVJbnQ4KHRoaXMuX3VwZGF0ZVBvcygxKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWFkIGZyb20gc3RhdGUgcG9zaXRpb24uXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEludDgodGhpcy5fdXBkYXRlUG9zKDEpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVSW50MTYodGhpcy5fdXBkYXRlUG9zKDIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVSW50MzIodGhpcy5fdXBkYXRlUG9zKDQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEludDE2KHRoaXMuX3VwZGF0ZVBvcygyKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWFkIGZyb20gc3RhdGUgcG9zaXRpb24uXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnQzMih0aGlzLl91cGRhdGVQb3MoNCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVhZCBmcm9tIHN0YXRlIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50MzIodGhpcy5fdXBkYXRlUG9zKDgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXQ2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxvYXQ2NCh0aGlzLl91cGRhdGVQb3MoOCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVhZCBmcm9tIHN0YXRlIHBvc2l0aW9uXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVhZFZhckludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGludCA9IHRoaXMuZ2V0VmFySW50KHRoaXMucG9zaXRpb24pO1xuICAgICAgICB0aGlzLl91cGRhdGVQb3MoaW50Lmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBpbnQudmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcml0ZSB0byBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRVSW50OCh0aGlzLl91cGRhdGVQb3MoMSksIHZhbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcml0ZSB0byBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLnB1dEludDgodGhpcy5fdXBkYXRlUG9zKDEpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gc3RhdGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTYgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHRoaXMucHV0SW50MTYodGhpcy5fdXBkYXRlUG9zKDIpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gc3RhdGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzIgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHRoaXMucHV0SW50MzIodGhpcy5fdXBkYXRlUG9zKDQpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gc3RhdGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLnB1dFVJbnQzMih0aGlzLl91cGRhdGVQb3MoNCksIHZhbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcml0ZSB0byBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ2NCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRJbnQ2NCh0aGlzLl91cGRhdGVQb3MoOCksIHZhbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcml0ZSB0byBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdDY0ID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLnB1dEZsb2F0NjQodGhpcy5fdXBkYXRlUG9zKDgpLCB2YWwpO1xuICAgIH07XG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVWYXJJbnQgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnB1dFZhckludCh0aGlzLnBvc2l0aW9uLCB2YWwpO1xuICAgICAgICB0aGlzLl91cGRhdGVQb3MobGVuZ3RoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlIHRvIHN0YXRlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS53cml0ZUJ5dGVzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLnB1dEJ5dGVzKHRoaXMuX3VwZGF0ZVBvcyh2YWwucmVtYWluaW5nKCkpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgc2xpY2Ugb2YgdGhpcyBidWZmZXIuIFRoaXMgbWV0aG9kIGRvZXMgbm90IGNvcHkgYW55IGRhdGEsXG4gICAgICogYnV0IHNpbXBseSBwcm92aWRlcyBhIHNsaWNlIHZpZXcgb2YgdGhpcyBidWZmZXJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVhZFNsaWNlID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbGljZSh0aGlzLl91cGRhdGVQb3MobGVuZ3RoKSwgbGVuZ3RoKTtcbiAgICB9O1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLl91cGRhdGVQb3MgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBwID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBsZW5ndGg7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHJlbWFpbmluZ1xuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnJlbWFpbmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoIC0gdGhpcy5wb3NpdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhcyByZW1haW5pbmdcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5oYXNSZW1haW5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZygpID4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHBvc2l0aW9uIHN0YXRlXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBidWZmZXIgYW5kIGl0J3Mgc3RhdGUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBCdWZmZXIgYXMgYSBzdHJpbmdcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yLm5hbWUgK1xuICAgICAgICAgICAgJyggcG9zaXRpb249JyArXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uICtcbiAgICAgICAgICAgICcgKVxcbiAgJyArXG4gICAgICAgICAgICB0aGlzLnRvSGV4KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBidWZmZXIuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBCdWZmZXIgYXMgYSBzdHJpbmdcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS50b0hleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dCA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBoZXhCeXRlID0gdGhpcy5nZXRVSW50OChpKS50b1N0cmluZygxNik7XG4gICAgICAgICAgICBpZiAoaGV4Qnl0ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBoZXhCeXRlID0gJzAnICsgaGV4Qnl0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSBoZXhCeXRlO1xuICAgICAgICAgICAgaWYgKGkgIT09IHRoaXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG91dCArPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlQnVmZmVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VCdWZmZXI7XG4vKipcbiAqIFJlcHJlc2VudHMgYSB2aWV3IGFzIHNsaWNlIG9mIGFub3RoZXIgYnVmZmVyLlxuICogQGFjY2VzcyBwcml2YXRlXG4gKi9cbnZhciBTbGljZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2xpY2VCdWZmZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2xpY2VCdWZmZXIoc3RhcnQsIGxlbmd0aCwgaW5uZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fc3RhcnQgPSBzdGFydDtcbiAgICAgICAgX3RoaXMuX2lubmVyID0gaW5uZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2xpY2VCdWZmZXIucHJvdG90eXBlLnB1dFVJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5faW5uZXIucHV0VUludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbiwgdmFsKTtcbiAgICB9O1xuICAgIFNsaWNlQnVmZmVyLnByb3RvdHlwZS5nZXRVSW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIuZ2V0VUludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBTbGljZUJ1ZmZlci5wcm90b3R5cGUucHV0SW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2lubmVyLnB1dEludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbiwgdmFsKTtcbiAgICB9O1xuICAgIFNsaWNlQnVmZmVyLnByb3RvdHlwZS5wdXRGbG9hdDY0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5faW5uZXIucHV0RmxvYXQ2NCh0aGlzLl9zdGFydCArIHBvc2l0aW9uLCB2YWwpO1xuICAgIH07XG4gICAgU2xpY2VCdWZmZXIucHJvdG90eXBlLmdldEludDggPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLmdldEludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBTbGljZUJ1ZmZlci5wcm90b3R5cGUuZ2V0RmxvYXQ2NCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIuZ2V0RmxvYXQ2NCh0aGlzLl9zdGFydCArIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBTbGljZUJ1ZmZlcjtcbn0oQmFzZUJ1ZmZlcikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseBuffer = void 0;\nvar base_buf_1 = __importDefault(__webpack_require__(/*! ./base-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js\"));\nexports.BaseBuffer = base_buf_1.default;\nexports[\"default\"] = base_buf_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYnVmL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsaUNBQWlDLG1CQUFPLENBQUMseUZBQVk7QUFDckQsa0JBQWtCO0FBQ2xCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9idWYvaW5kZXguanM/ODkzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJhc2VCdWZmZXIgPSB2b2lkIDA7XG52YXIgYmFzZV9idWZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iYXNlLWJ1ZlwiKSk7XG5leHBvcnRzLkJhc2VCdWZmZXIgPSBiYXNlX2J1Zl8xLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSBiYXNlX2J1Zl8xLmRlZmF1bHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js":
/*!******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.alloc = void 0;\nvar buffer_1 = __importDefault(__webpack_require__(/*! buffer */ \"buffer\"));\nvar buf_1 = __importDefault(__webpack_require__(/*! ../buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\"));\nvar ChannelBuffer = /** @class */ (function (_super) {\n    __extends(ChannelBuffer, _super);\n    function ChannelBuffer(arg) {\n        var _this = this;\n        var buffer = newChannelJSBuffer(arg);\n        _this = _super.call(this, buffer.length) || this;\n        _this._buffer = buffer;\n        return _this;\n    }\n    ChannelBuffer.prototype.getUInt8 = function (position) {\n        return this._buffer.readUInt8(position);\n    };\n    ChannelBuffer.prototype.getInt8 = function (position) {\n        return this._buffer.readInt8(position);\n    };\n    ChannelBuffer.prototype.getFloat64 = function (position) {\n        return this._buffer.readDoubleBE(position);\n    };\n    ChannelBuffer.prototype.getVarInt = function (position) {\n        var i = 0;\n        var currentValue = this._buffer.readInt8(position + i);\n        var total = currentValue % 128;\n        while (currentValue / 128 >= 1) {\n            i += 1;\n            currentValue = this._buffer.readInt8(position + i);\n            total += currentValue % 128;\n        }\n        return { length: i + 1, value: total };\n    };\n    ChannelBuffer.prototype.putUInt8 = function (position, val) {\n        this._buffer.writeUInt8(val, position);\n    };\n    ChannelBuffer.prototype.putInt8 = function (position, val) {\n        this._buffer.writeInt8(val, position);\n    };\n    ChannelBuffer.prototype.putFloat64 = function (position, val) {\n        this._buffer.writeDoubleBE(val, position);\n    };\n    ChannelBuffer.prototype.putBytes = function (position, val) {\n        if (val instanceof ChannelBuffer) {\n            var bytesToCopy = Math.min(val.length - val.position, this.length - position);\n            val._buffer.copy(this._buffer, position, val.position, val.position + bytesToCopy);\n            val.position += bytesToCopy;\n        }\n        else {\n            _super.prototype.putBytes.call(this, position, val);\n        }\n    };\n    ChannelBuffer.prototype.getSlice = function (start, length) {\n        return new ChannelBuffer(this._buffer.slice(start, start + length));\n    };\n    return ChannelBuffer;\n}(buf_1.default));\nexports[\"default\"] = ChannelBuffer;\n/**\n * Allocate a buffer\n *\n * @param {number} size The buffer sizzer\n * @returns {BaseBuffer} The buffer\n */\nfunction alloc(size) {\n    return new ChannelBuffer(size);\n}\nexports.alloc = alloc;\nfunction newChannelJSBuffer(arg) {\n    if (arg instanceof buffer_1.default.Buffer) {\n        return arg;\n    }\n    else if (typeof arg === 'number' &&\n        typeof buffer_1.default.Buffer.alloc === 'function') {\n        // use static factory function present in newer NodeJS versions to allocate new buffer with specified size\n        return buffer_1.default.Buffer.alloc(arg);\n    }\n    else {\n        // fallback to the old, potentially deprecated constructor\n        // eslint-disable-next-line n/no-deprecated-api\n        return new buffer_1.default.Buffer(arg);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaGFubmVsLWJ1Zi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiLCtCQUErQixtQkFBTyxDQUFDLHNCQUFRO0FBQy9DLDRCQUE0QixtQkFBTyxDQUFDLGtGQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaGFubmVsLWJ1Zi5qcz83M2NkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFsbG9jID0gdm9pZCAwO1xudmFyIGJ1ZmZlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJidWZmZXJcIikpO1xudmFyIGJ1Zl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9idWZcIikpO1xudmFyIENoYW5uZWxCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENoYW5uZWxCdWZmZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2hhbm5lbEJ1ZmZlcihhcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGJ1ZmZlciA9IG5ld0NoYW5uZWxKU0J1ZmZlcihhcmcpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJ1ZmZlci5sZW5ndGgpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2hhbm5lbEJ1ZmZlci5wcm90b3R5cGUuZ2V0VUludDggPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5yZWFkVUludDgocG9zaXRpb24pO1xuICAgIH07XG4gICAgQ2hhbm5lbEJ1ZmZlci5wcm90b3R5cGUuZ2V0SW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLnJlYWRJbnQ4KHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIENoYW5uZWxCdWZmZXIucHJvdG90eXBlLmdldEZsb2F0NjQgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5yZWFkRG91YmxlQkUocG9zaXRpb24pO1xuICAgIH07XG4gICAgQ2hhbm5lbEJ1ZmZlci5wcm90b3R5cGUuZ2V0VmFySW50ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRoaXMuX2J1ZmZlci5yZWFkSW50OChwb3NpdGlvbiArIGkpO1xuICAgICAgICB2YXIgdG90YWwgPSBjdXJyZW50VmFsdWUgJSAxMjg7XG4gICAgICAgIHdoaWxlIChjdXJyZW50VmFsdWUgLyAxMjggPj0gMSkge1xuICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gdGhpcy5fYnVmZmVyLnJlYWRJbnQ4KHBvc2l0aW9uICsgaSk7XG4gICAgICAgICAgICB0b3RhbCArPSBjdXJyZW50VmFsdWUgJSAxMjg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbGVuZ3RoOiBpICsgMSwgdmFsdWU6IHRvdGFsIH07XG4gICAgfTtcbiAgICBDaGFubmVsQnVmZmVyLnByb3RvdHlwZS5wdXRVSW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlci53cml0ZVVJbnQ4KHZhbCwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgQ2hhbm5lbEJ1ZmZlci5wcm90b3R5cGUucHV0SW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlci53cml0ZUludDgodmFsLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBDaGFubmVsQnVmZmVyLnByb3RvdHlwZS5wdXRGbG9hdDY0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyLndyaXRlRG91YmxlQkUodmFsLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBDaGFubmVsQnVmZmVyLnByb3RvdHlwZS5wdXRCeXRlcyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBDaGFubmVsQnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZXNUb0NvcHkgPSBNYXRoLm1pbih2YWwubGVuZ3RoIC0gdmFsLnBvc2l0aW9uLCB0aGlzLmxlbmd0aCAtIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIHZhbC5fYnVmZmVyLmNvcHkodGhpcy5fYnVmZmVyLCBwb3NpdGlvbiwgdmFsLnBvc2l0aW9uLCB2YWwucG9zaXRpb24gKyBieXRlc1RvQ29weSk7XG4gICAgICAgICAgICB2YWwucG9zaXRpb24gKz0gYnl0ZXNUb0NvcHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnB1dEJ5dGVzLmNhbGwodGhpcywgcG9zaXRpb24sIHZhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoYW5uZWxCdWZmZXIucHJvdG90eXBlLmdldFNsaWNlID0gZnVuY3Rpb24gKHN0YXJ0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFubmVsQnVmZmVyKHRoaXMuX2J1ZmZlci5zbGljZShzdGFydCwgc3RhcnQgKyBsZW5ndGgpKTtcbiAgICB9O1xuICAgIHJldHVybiBDaGFubmVsQnVmZmVyO1xufShidWZfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDaGFubmVsQnVmZmVyO1xuLyoqXG4gKiBBbGxvY2F0ZSBhIGJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIFRoZSBidWZmZXIgc2l6emVyXG4gKiBAcmV0dXJucyB7QmFzZUJ1ZmZlcn0gVGhlIGJ1ZmZlclxuICovXG5mdW5jdGlvbiBhbGxvYyhzaXplKSB7XG4gICAgcmV0dXJuIG5ldyBDaGFubmVsQnVmZmVyKHNpemUpO1xufVxuZXhwb3J0cy5hbGxvYyA9IGFsbG9jO1xuZnVuY3Rpb24gbmV3Q2hhbm5lbEpTQnVmZmVyKGFyZykge1xuICAgIGlmIChhcmcgaW5zdGFuY2VvZiBidWZmZXJfMS5kZWZhdWx0LkJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgYnVmZmVyXzEuZGVmYXVsdC5CdWZmZXIuYWxsb2MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gdXNlIHN0YXRpYyBmYWN0b3J5IGZ1bmN0aW9uIHByZXNlbnQgaW4gbmV3ZXIgTm9kZUpTIHZlcnNpb25zIHRvIGFsbG9jYXRlIG5ldyBidWZmZXIgd2l0aCBzcGVjaWZpZWQgc2l6ZVxuICAgICAgICByZXR1cm4gYnVmZmVyXzEuZGVmYXVsdC5CdWZmZXIuYWxsb2MoYXJnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIHRoZSBvbGQsIHBvdGVudGlhbGx5IGRlcHJlY2F0ZWQgY29uc3RydWN0b3JcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG4vbm8tZGVwcmVjYXRlZC1hcGlcbiAgICAgICAgcmV0dXJuIG5ldyBidWZmZXJfMS5kZWZhdWx0LkJ1ZmZlcihhcmcpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.util, ENCRYPTION_OFF = _a.ENCRYPTION_OFF, ENCRYPTION_ON = _a.ENCRYPTION_ON;\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar ALLOWED_VALUES_ENCRYPTED = [\n    null,\n    undefined,\n    true,\n    false,\n    ENCRYPTION_ON,\n    ENCRYPTION_OFF\n];\nvar ALLOWED_VALUES_TRUST = [\n    null,\n    undefined,\n    'TRUST_ALL_CERTIFICATES',\n    'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES',\n    'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'\n];\nvar ChannelConfig = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {ServerAddress} address the address for the channel to connect to.\n     * @param {Object} driverConfig the driver config provided by the user when driver is created.\n     * @param {string} connectionErrorCode the default error code to use on connection errors.\n     * @param {object} clientCertificate the client certificate\n     */\n    function ChannelConfig(address, driverConfig, connectionErrorCode, clientCertificate) {\n        this.address = address;\n        this.encrypted = extractEncrypted(driverConfig);\n        this.trust = extractTrust(driverConfig);\n        this.trustedCertificates = extractTrustedCertificates(driverConfig);\n        this.knownHostsPath = extractKnownHostsPath(driverConfig);\n        this.connectionErrorCode = connectionErrorCode || SERVICE_UNAVAILABLE;\n        this.connectionTimeout = driverConfig.connectionTimeout;\n        this.clientCertificate = clientCertificate;\n    }\n    return ChannelConfig;\n}());\nexports[\"default\"] = ChannelConfig;\nfunction extractEncrypted(driverConfig) {\n    var value = driverConfig.encrypted;\n    if (ALLOWED_VALUES_ENCRYPTED.indexOf(value) === -1) {\n        throw (0, neo4j_driver_core_1.newError)(\"Illegal value of the encrypted setting \".concat(value, \". Expected one of \").concat(ALLOWED_VALUES_ENCRYPTED));\n    }\n    return value;\n}\nfunction extractTrust(driverConfig) {\n    var value = driverConfig.trust;\n    if (ALLOWED_VALUES_TRUST.indexOf(value) === -1) {\n        throw (0, neo4j_driver_core_1.newError)(\"Illegal value of the trust setting \".concat(value, \". Expected one of \").concat(ALLOWED_VALUES_TRUST));\n    }\n    return value;\n}\nfunction extractTrustedCertificates(driverConfig) {\n    return driverConfig.trustedCertificates || [];\n}\nfunction extractKnownHostsPath(driverConfig) {\n    return driverConfig.knownHosts || null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaGFubmVsLWNvbmZpZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvY2hhbm5lbC1jb25maWcuanM/M2QyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwudXRpbCwgRU5DUllQVElPTl9PRkYgPSBfYS5FTkNSWVBUSU9OX09GRiwgRU5DUllQVElPTl9PTiA9IF9hLkVOQ1JZUFRJT05fT047XG52YXIgU0VSVklDRV9VTkFWQUlMQUJMRSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuU0VSVklDRV9VTkFWQUlMQUJMRTtcbnZhciBBTExPV0VEX1ZBTFVFU19FTkNSWVBURUQgPSBbXG4gICAgbnVsbCxcbiAgICB1bmRlZmluZWQsXG4gICAgdHJ1ZSxcbiAgICBmYWxzZSxcbiAgICBFTkNSWVBUSU9OX09OLFxuICAgIEVOQ1JZUFRJT05fT0ZGXG5dO1xudmFyIEFMTE9XRURfVkFMVUVTX1RSVVNUID0gW1xuICAgIG51bGwsXG4gICAgdW5kZWZpbmVkLFxuICAgICdUUlVTVF9BTExfQ0VSVElGSUNBVEVTJyxcbiAgICAnVFJVU1RfQ1VTVE9NX0NBX1NJR05FRF9DRVJUSUZJQ0FURVMnLFxuICAgICdUUlVTVF9TWVNURU1fQ0FfU0lHTkVEX0NFUlRJRklDQVRFUydcbl07XG52YXIgQ2hhbm5lbENvbmZpZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1NlcnZlckFkZHJlc3N9IGFkZHJlc3MgdGhlIGFkZHJlc3MgZm9yIHRoZSBjaGFubmVsIHRvIGNvbm5lY3QgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRyaXZlckNvbmZpZyB0aGUgZHJpdmVyIGNvbmZpZyBwcm92aWRlZCBieSB0aGUgdXNlciB3aGVuIGRyaXZlciBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0aW9uRXJyb3JDb2RlIHRoZSBkZWZhdWx0IGVycm9yIGNvZGUgdG8gdXNlIG9uIGNvbm5lY3Rpb24gZXJyb3JzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjbGllbnRDZXJ0aWZpY2F0ZSB0aGUgY2xpZW50IGNlcnRpZmljYXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2hhbm5lbENvbmZpZyhhZGRyZXNzLCBkcml2ZXJDb25maWcsIGNvbm5lY3Rpb25FcnJvckNvZGUsIGNsaWVudENlcnRpZmljYXRlKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMuZW5jcnlwdGVkID0gZXh0cmFjdEVuY3J5cHRlZChkcml2ZXJDb25maWcpO1xuICAgICAgICB0aGlzLnRydXN0ID0gZXh0cmFjdFRydXN0KGRyaXZlckNvbmZpZyk7XG4gICAgICAgIHRoaXMudHJ1c3RlZENlcnRpZmljYXRlcyA9IGV4dHJhY3RUcnVzdGVkQ2VydGlmaWNhdGVzKGRyaXZlckNvbmZpZyk7XG4gICAgICAgIHRoaXMua25vd25Ib3N0c1BhdGggPSBleHRyYWN0S25vd25Ib3N0c1BhdGgoZHJpdmVyQ29uZmlnKTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uRXJyb3JDb2RlID0gY29ubmVjdGlvbkVycm9yQ29kZSB8fCBTRVJWSUNFX1VOQVZBSUxBQkxFO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25UaW1lb3V0ID0gZHJpdmVyQ29uZmlnLmNvbm5lY3Rpb25UaW1lb3V0O1xuICAgICAgICB0aGlzLmNsaWVudENlcnRpZmljYXRlID0gY2xpZW50Q2VydGlmaWNhdGU7XG4gICAgfVxuICAgIHJldHVybiBDaGFubmVsQ29uZmlnO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IENoYW5uZWxDb25maWc7XG5mdW5jdGlvbiBleHRyYWN0RW5jcnlwdGVkKGRyaXZlckNvbmZpZykge1xuICAgIHZhciB2YWx1ZSA9IGRyaXZlckNvbmZpZy5lbmNyeXB0ZWQ7XG4gICAgaWYgKEFMTE9XRURfVkFMVUVTX0VOQ1JZUFRFRC5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiSWxsZWdhbCB2YWx1ZSBvZiB0aGUgZW5jcnlwdGVkIHNldHRpbmcgXCIuY29uY2F0KHZhbHVlLCBcIi4gRXhwZWN0ZWQgb25lIG9mIFwiKS5jb25jYXQoQUxMT1dFRF9WQUxVRVNfRU5DUllQVEVEKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RUcnVzdChkcml2ZXJDb25maWcpIHtcbiAgICB2YXIgdmFsdWUgPSBkcml2ZXJDb25maWcudHJ1c3Q7XG4gICAgaWYgKEFMTE9XRURfVkFMVUVTX1RSVVNULmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJJbGxlZ2FsIHZhbHVlIG9mIHRoZSB0cnVzdCBzZXR0aW5nIFwiLmNvbmNhdCh2YWx1ZSwgXCIuIEV4cGVjdGVkIG9uZSBvZiBcIikuY29uY2F0KEFMTE9XRURfVkFMVUVTX1RSVVNUKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RUcnVzdGVkQ2VydGlmaWNhdGVzKGRyaXZlckNvbmZpZykge1xuICAgIHJldHVybiBkcml2ZXJDb25maWcudHJ1c3RlZENlcnRpZmljYXRlcyB8fCBbXTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RLbm93bkhvc3RzUGF0aChkcml2ZXJDb25maWcpIHtcbiAgICByZXR1cm4gZHJpdmVyQ29uZmlnLmtub3duSG9zdHMgfHwgbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dechunker = exports.Chunker = void 0;\nvar base_buf_1 = __importDefault(__webpack_require__(/*! ../buf/base-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js\"));\nvar channel_buf_1 = __webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\");\nvar combined_buf_1 = __importDefault(__webpack_require__(/*! ./combined-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js\"));\nvar _CHUNK_HEADER_SIZE = 2;\nvar _MESSAGE_BOUNDARY = 0x00;\nvar _DEFAULT_BUFFER_SIZE = 1400; // http://stackoverflow.com/questions/2613734/maximum-packet-size-for-a-tcp-connection\n/**\n * Looks like a writable buffer, chunks output transparently into a channel below.\n * @access private\n */\nvar Chunker = /** @class */ (function (_super) {\n    __extends(Chunker, _super);\n    function Chunker(channel, bufferSize) {\n        var _this = _super.call(this, 0) || this;\n        _this._bufferSize = bufferSize || _DEFAULT_BUFFER_SIZE;\n        _this._ch = channel;\n        _this._buffer = (0, channel_buf_1.alloc)(_this._bufferSize);\n        _this._currentChunkStart = 0;\n        _this._chunkOpen = false;\n        return _this;\n    }\n    Chunker.prototype.putUInt8 = function (position, val) {\n        this._ensure(1);\n        this._buffer.writeUInt8(val);\n    };\n    Chunker.prototype.putInt8 = function (position, val) {\n        this._ensure(1);\n        this._buffer.writeInt8(val);\n    };\n    Chunker.prototype.putFloat64 = function (position, val) {\n        this._ensure(8);\n        this._buffer.writeFloat64(val);\n    };\n    Chunker.prototype.putBytes = function (position, data) {\n        // TODO: If data is larger than our chunk size or so, we're very likely better off just passing this buffer on\n        // rather than doing the copy here TODO: *however* note that we need some way to find out when the data has been\n        // written (and thus the buffer can be re-used) if we take that approach\n        while (data.remaining() > 0) {\n            // Ensure there is an open chunk, and that it has at least one byte of space left\n            this._ensure(1);\n            if (this._buffer.remaining() > data.remaining()) {\n                this._buffer.writeBytes(data);\n            }\n            else {\n                this._buffer.writeBytes(data.readSlice(this._buffer.remaining()));\n            }\n        }\n        return this;\n    };\n    Chunker.prototype.flush = function () {\n        if (this._buffer.position > 0) {\n            this._closeChunkIfOpen();\n            // Local copy and clear the buffer field. This ensures that the buffer is not re-released if the flush call fails\n            var out = this._buffer;\n            this._buffer = null;\n            this._ch.write(out.getSlice(0, out.position));\n            // Alloc a new output buffer. We assume we're using NodeJS's buffer pooling under the hood here!\n            this._buffer = (0, channel_buf_1.alloc)(this._bufferSize);\n            this._chunkOpen = false;\n        }\n        return this;\n    };\n    /**\n     * Bolt messages are encoded in one or more chunks, and the boundary between two messages\n     * is encoded as a 0-length chunk, `00 00`. This inserts such a message boundary, closing\n     * any currently open chunk as needed\n     */\n    Chunker.prototype.messageBoundary = function () {\n        this._closeChunkIfOpen();\n        if (this._buffer.remaining() < _CHUNK_HEADER_SIZE) {\n            this.flush();\n        }\n        // Write message boundary\n        this._buffer.writeInt16(_MESSAGE_BOUNDARY);\n    };\n    /** Ensure at least the given size is available for writing */\n    Chunker.prototype._ensure = function (size) {\n        var toWriteSize = this._chunkOpen ? size : size + _CHUNK_HEADER_SIZE;\n        if (this._buffer.remaining() < toWriteSize) {\n            this.flush();\n        }\n        if (!this._chunkOpen) {\n            this._currentChunkStart = this._buffer.position;\n            this._buffer.position = this._buffer.position + _CHUNK_HEADER_SIZE;\n            this._chunkOpen = true;\n        }\n    };\n    Chunker.prototype._closeChunkIfOpen = function () {\n        if (this._chunkOpen) {\n            var chunkSize = this._buffer.position - (this._currentChunkStart + _CHUNK_HEADER_SIZE);\n            this._buffer.putUInt16(this._currentChunkStart, chunkSize);\n            this._chunkOpen = false;\n        }\n    };\n    return Chunker;\n}(base_buf_1.default));\nexports.Chunker = Chunker;\n/**\n * Combines chunks until a complete message is gathered up, and then forwards that\n * message to an 'onmessage' listener.\n * @access private\n */\nvar Dechunker = /** @class */ (function () {\n    function Dechunker() {\n        this._currentMessage = [];\n        this._partialChunkHeader = 0;\n        this._state = this.AWAITING_CHUNK;\n    }\n    Dechunker.prototype.AWAITING_CHUNK = function (buf) {\n        if (buf.remaining() >= 2) {\n            // Whole header available, read that\n            return this._onHeader(buf.readUInt16());\n        }\n        else {\n            // Only one byte available, read that and wait for the second byte\n            this._partialChunkHeader = buf.readUInt8() << 8;\n            return this.IN_HEADER;\n        }\n    };\n    Dechunker.prototype.IN_HEADER = function (buf) {\n        // First header byte read, now we read the next one\n        return this._onHeader((this._partialChunkHeader | buf.readUInt8()) & 0xffff);\n    };\n    Dechunker.prototype.IN_CHUNK = function (buf) {\n        if (this._chunkSize <= buf.remaining()) {\n            // Current packet is larger than current chunk, or same size:\n            this._currentMessage.push(buf.readSlice(this._chunkSize));\n            return this.AWAITING_CHUNK;\n        }\n        else {\n            // Current packet is smaller than the chunk we're reading, split the current chunk itself up\n            this._chunkSize -= buf.remaining();\n            this._currentMessage.push(buf.readSlice(buf.remaining()));\n            return this.IN_CHUNK;\n        }\n    };\n    Dechunker.prototype.CLOSED = function (buf) {\n        // no-op\n    };\n    /** Called when a complete chunk header has been received */\n    Dechunker.prototype._onHeader = function (header) {\n        if (header === 0) {\n            // Message boundary\n            var message = void 0;\n            switch (this._currentMessage.length) {\n                case 0:\n                    // Keep alive chunk, sent by server to keep network alive.\n                    return this.AWAITING_CHUNK;\n                case 1:\n                    // All data in one chunk, this signals the end of that chunk.\n                    message = this._currentMessage[0];\n                    break;\n                default:\n                    // A large chunk of data received, this signals that the last chunk has been received.\n                    message = new combined_buf_1.default(this._currentMessage);\n                    break;\n            }\n            this._currentMessage = [];\n            this.onmessage(message);\n            return this.AWAITING_CHUNK;\n        }\n        else {\n            this._chunkSize = header;\n            return this.IN_CHUNK;\n        }\n    };\n    Dechunker.prototype.write = function (buf) {\n        while (buf.hasRemaining()) {\n            this._state = this._state(buf);\n        }\n    };\n    return Dechunker;\n}());\nexports.Dechunker = Dechunker;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaHVua2luZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLEdBQUcsZUFBZTtBQUNuQyxpQ0FBaUMsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDMUQsb0JBQW9CLG1CQUFPLENBQUMsbUdBQWU7QUFDM0MscUNBQXFDLG1CQUFPLENBQUMscUdBQWdCO0FBQzdEO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaHVua2luZy5qcz85MmQ5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRlY2h1bmtlciA9IGV4cG9ydHMuQ2h1bmtlciA9IHZvaWQgMDtcbnZhciBiYXNlX2J1Zl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9idWYvYmFzZS1idWZcIikpO1xudmFyIGNoYW5uZWxfYnVmXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLWJ1ZlwiKTtcbnZhciBjb21iaW5lZF9idWZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21iaW5lZC1idWZcIikpO1xudmFyIF9DSFVOS19IRUFERVJfU0laRSA9IDI7XG52YXIgX01FU1NBR0VfQk9VTkRBUlkgPSAweDAwO1xudmFyIF9ERUZBVUxUX0JVRkZFUl9TSVpFID0gMTQwMDsgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjEzNzM0L21heGltdW0tcGFja2V0LXNpemUtZm9yLWEtdGNwLWNvbm5lY3Rpb25cbi8qKlxuICogTG9va3MgbGlrZSBhIHdyaXRhYmxlIGJ1ZmZlciwgY2h1bmtzIG91dHB1dCB0cmFuc3BhcmVudGx5IGludG8gYSBjaGFubmVsIGJlbG93LlxuICogQGFjY2VzcyBwcml2YXRlXG4gKi9cbnZhciBDaHVua2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDaHVua2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENodW5rZXIoY2hhbm5lbCwgYnVmZmVyU2l6ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAwKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemUgfHwgX0RFRkFVTFRfQlVGRkVSX1NJWkU7XG4gICAgICAgIF90aGlzLl9jaCA9IGNoYW5uZWw7XG4gICAgICAgIF90aGlzLl9idWZmZXIgPSAoMCwgY2hhbm5lbF9idWZfMS5hbGxvYykoX3RoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICBfdGhpcy5fY3VycmVudENodW5rU3RhcnQgPSAwO1xuICAgICAgICBfdGhpcy5fY2h1bmtPcGVuID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2h1bmtlci5wcm90b3R5cGUucHV0VUludDggPSBmdW5jdGlvbiAocG9zaXRpb24sIHZhbCkge1xuICAgICAgICB0aGlzLl9lbnN1cmUoMSk7XG4gICAgICAgIHRoaXMuX2J1ZmZlci53cml0ZVVJbnQ4KHZhbCk7XG4gICAgfTtcbiAgICBDaHVua2VyLnByb3RvdHlwZS5wdXRJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fZW5zdXJlKDEpO1xuICAgICAgICB0aGlzLl9idWZmZXIud3JpdGVJbnQ4KHZhbCk7XG4gICAgfTtcbiAgICBDaHVua2VyLnByb3RvdHlwZS5wdXRGbG9hdDY0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fZW5zdXJlKDgpO1xuICAgICAgICB0aGlzLl9idWZmZXIud3JpdGVGbG9hdDY0KHZhbCk7XG4gICAgfTtcbiAgICBDaHVua2VyLnByb3RvdHlwZS5wdXRCeXRlcyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgZGF0YSkge1xuICAgICAgICAvLyBUT0RPOiBJZiBkYXRhIGlzIGxhcmdlciB0aGFuIG91ciBjaHVuayBzaXplIG9yIHNvLCB3ZSdyZSB2ZXJ5IGxpa2VseSBiZXR0ZXIgb2ZmIGp1c3QgcGFzc2luZyB0aGlzIGJ1ZmZlciBvblxuICAgICAgICAvLyByYXRoZXIgdGhhbiBkb2luZyB0aGUgY29weSBoZXJlIFRPRE86ICpob3dldmVyKiBub3RlIHRoYXQgd2UgbmVlZCBzb21lIHdheSB0byBmaW5kIG91dCB3aGVuIHRoZSBkYXRhIGhhcyBiZWVuXG4gICAgICAgIC8vIHdyaXR0ZW4gKGFuZCB0aHVzIHRoZSBidWZmZXIgY2FuIGJlIHJlLXVzZWQpIGlmIHdlIHRha2UgdGhhdCBhcHByb2FjaFxuICAgICAgICB3aGlsZSAoZGF0YS5yZW1haW5pbmcoKSA+IDApIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGVyZSBpcyBhbiBvcGVuIGNodW5rLCBhbmQgdGhhdCBpdCBoYXMgYXQgbGVhc3Qgb25lIGJ5dGUgb2Ygc3BhY2UgbGVmdFxuICAgICAgICAgICAgdGhpcy5fZW5zdXJlKDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2J1ZmZlci5yZW1haW5pbmcoKSA+IGRhdGEucmVtYWluaW5nKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIud3JpdGVCeXRlcyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlci53cml0ZUJ5dGVzKGRhdGEucmVhZFNsaWNlKHRoaXMuX2J1ZmZlci5yZW1haW5pbmcoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQ2h1bmtlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIucG9zaXRpb24gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZUNodW5rSWZPcGVuKCk7XG4gICAgICAgICAgICAvLyBMb2NhbCBjb3B5IGFuZCBjbGVhciB0aGUgYnVmZmVyIGZpZWxkLiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgYnVmZmVyIGlzIG5vdCByZS1yZWxlYXNlZCBpZiB0aGUgZmx1c2ggY2FsbCBmYWlsc1xuICAgICAgICAgICAgdmFyIG91dCA9IHRoaXMuX2J1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZShvdXQuZ2V0U2xpY2UoMCwgb3V0LnBvc2l0aW9uKSk7XG4gICAgICAgICAgICAvLyBBbGxvYyBhIG5ldyBvdXRwdXQgYnVmZmVyLiBXZSBhc3N1bWUgd2UncmUgdXNpbmcgTm9kZUpTJ3MgYnVmZmVyIHBvb2xpbmcgdW5kZXIgdGhlIGhvb2QgaGVyZSFcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9ICgwLCBjaGFubmVsX2J1Zl8xLmFsbG9jKSh0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgIHRoaXMuX2NodW5rT3BlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQm9sdCBtZXNzYWdlcyBhcmUgZW5jb2RlZCBpbiBvbmUgb3IgbW9yZSBjaHVua3MsIGFuZCB0aGUgYm91bmRhcnkgYmV0d2VlbiB0d28gbWVzc2FnZXNcbiAgICAgKiBpcyBlbmNvZGVkIGFzIGEgMC1sZW5ndGggY2h1bmssIGAwMCAwMGAuIFRoaXMgaW5zZXJ0cyBzdWNoIGEgbWVzc2FnZSBib3VuZGFyeSwgY2xvc2luZ1xuICAgICAqIGFueSBjdXJyZW50bHkgb3BlbiBjaHVuayBhcyBuZWVkZWRcbiAgICAgKi9cbiAgICBDaHVua2VyLnByb3RvdHlwZS5tZXNzYWdlQm91bmRhcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlQ2h1bmtJZk9wZW4oKTtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlci5yZW1haW5pbmcoKSA8IF9DSFVOS19IRUFERVJfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdyaXRlIG1lc3NhZ2UgYm91bmRhcnlcbiAgICAgICAgdGhpcy5fYnVmZmVyLndyaXRlSW50MTYoX01FU1NBR0VfQk9VTkRBUlkpO1xuICAgIH07XG4gICAgLyoqIEVuc3VyZSBhdCBsZWFzdCB0aGUgZ2l2ZW4gc2l6ZSBpcyBhdmFpbGFibGUgZm9yIHdyaXRpbmcgKi9cbiAgICBDaHVua2VyLnByb3RvdHlwZS5fZW5zdXJlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgdmFyIHRvV3JpdGVTaXplID0gdGhpcy5fY2h1bmtPcGVuID8gc2l6ZSA6IHNpemUgKyBfQ0hVTktfSEVBREVSX1NJWkU7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIucmVtYWluaW5nKCkgPCB0b1dyaXRlU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2h1bmtPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50Q2h1bmtTdGFydCA9IHRoaXMuX2J1ZmZlci5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlci5wb3NpdGlvbiA9IHRoaXMuX2J1ZmZlci5wb3NpdGlvbiArIF9DSFVOS19IRUFERVJfU0laRTtcbiAgICAgICAgICAgIHRoaXMuX2NodW5rT3BlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENodW5rZXIucHJvdG90eXBlLl9jbG9zZUNodW5rSWZPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fY2h1bmtPcGVuKSB7XG4gICAgICAgICAgICB2YXIgY2h1bmtTaXplID0gdGhpcy5fYnVmZmVyLnBvc2l0aW9uIC0gKHRoaXMuX2N1cnJlbnRDaHVua1N0YXJ0ICsgX0NIVU5LX0hFQURFUl9TSVpFKTtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlci5wdXRVSW50MTYodGhpcy5fY3VycmVudENodW5rU3RhcnQsIGNodW5rU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9jaHVua09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENodW5rZXI7XG59KGJhc2VfYnVmXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5DaHVua2VyID0gQ2h1bmtlcjtcbi8qKlxuICogQ29tYmluZXMgY2h1bmtzIHVudGlsIGEgY29tcGxldGUgbWVzc2FnZSBpcyBnYXRoZXJlZCB1cCwgYW5kIHRoZW4gZm9yd2FyZHMgdGhhdFxuICogbWVzc2FnZSB0byBhbiAnb25tZXNzYWdlJyBsaXN0ZW5lci5cbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICovXG52YXIgRGVjaHVua2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlY2h1bmtlcigpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudE1lc3NhZ2UgPSBbXTtcbiAgICAgICAgdGhpcy5fcGFydGlhbENodW5rSGVhZGVyID0gMDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB0aGlzLkFXQUlUSU5HX0NIVU5LO1xuICAgIH1cbiAgICBEZWNodW5rZXIucHJvdG90eXBlLkFXQUlUSU5HX0NIVU5LID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICBpZiAoYnVmLnJlbWFpbmluZygpID49IDIpIHtcbiAgICAgICAgICAgIC8vIFdob2xlIGhlYWRlciBhdmFpbGFibGUsIHJlYWQgdGhhdFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uSGVhZGVyKGJ1Zi5yZWFkVUludDE2KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gT25seSBvbmUgYnl0ZSBhdmFpbGFibGUsIHJlYWQgdGhhdCBhbmQgd2FpdCBmb3IgdGhlIHNlY29uZCBieXRlXG4gICAgICAgICAgICB0aGlzLl9wYXJ0aWFsQ2h1bmtIZWFkZXIgPSBidWYucmVhZFVJbnQ4KCkgPDwgODtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLklOX0hFQURFUjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVjaHVua2VyLnByb3RvdHlwZS5JTl9IRUFERVIgPSBmdW5jdGlvbiAoYnVmKSB7XG4gICAgICAgIC8vIEZpcnN0IGhlYWRlciBieXRlIHJlYWQsIG5vdyB3ZSByZWFkIHRoZSBuZXh0IG9uZVxuICAgICAgICByZXR1cm4gdGhpcy5fb25IZWFkZXIoKHRoaXMuX3BhcnRpYWxDaHVua0hlYWRlciB8IGJ1Zi5yZWFkVUludDgoKSkgJiAweGZmZmYpO1xuICAgIH07XG4gICAgRGVjaHVua2VyLnByb3RvdHlwZS5JTl9DSFVOSyA9IGZ1bmN0aW9uIChidWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NodW5rU2l6ZSA8PSBidWYucmVtYWluaW5nKCkpIHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgcGFja2V0IGlzIGxhcmdlciB0aGFuIGN1cnJlbnQgY2h1bmssIG9yIHNhbWUgc2l6ZTpcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRNZXNzYWdlLnB1c2goYnVmLnJlYWRTbGljZSh0aGlzLl9jaHVua1NpemUpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkFXQUlUSU5HX0NIVU5LO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3VycmVudCBwYWNrZXQgaXMgc21hbGxlciB0aGFuIHRoZSBjaHVuayB3ZSdyZSByZWFkaW5nLCBzcGxpdCB0aGUgY3VycmVudCBjaHVuayBpdHNlbGYgdXBcbiAgICAgICAgICAgIHRoaXMuX2NodW5rU2l6ZSAtPSBidWYucmVtYWluaW5nKCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TWVzc2FnZS5wdXNoKGJ1Zi5yZWFkU2xpY2UoYnVmLnJlbWFpbmluZygpKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5JTl9DSFVOSztcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVjaHVua2VyLnByb3RvdHlwZS5DTE9TRUQgPSBmdW5jdGlvbiAoYnVmKSB7XG4gICAgICAgIC8vIG5vLW9wXG4gICAgfTtcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBjb21wbGV0ZSBjaHVuayBoZWFkZXIgaGFzIGJlZW4gcmVjZWl2ZWQgKi9cbiAgICBEZWNodW5rZXIucHJvdG90eXBlLl9vbkhlYWRlciA9IGZ1bmN0aW9uIChoZWFkZXIpIHtcbiAgICAgICAgaWYgKGhlYWRlciA9PT0gMCkge1xuICAgICAgICAgICAgLy8gTWVzc2FnZSBib3VuZGFyeVxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX2N1cnJlbnRNZXNzYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCBhbGl2ZSBjaHVuaywgc2VudCBieSBzZXJ2ZXIgdG8ga2VlcCBuZXR3b3JrIGFsaXZlLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5BV0FJVElOR19DSFVOSztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbCBkYXRhIGluIG9uZSBjaHVuaywgdGhpcyBzaWduYWxzIHRoZSBlbmQgb2YgdGhhdCBjaHVuay5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuX2N1cnJlbnRNZXNzYWdlWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBBIGxhcmdlIGNodW5rIG9mIGRhdGEgcmVjZWl2ZWQsIHRoaXMgc2lnbmFscyB0aGF0IHRoZSBsYXN0IGNodW5rIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbmV3IGNvbWJpbmVkX2J1Zl8xLmRlZmF1bHQodGhpcy5fY3VycmVudE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRNZXNzYWdlID0gW107XG4gICAgICAgICAgICB0aGlzLm9ubWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkFXQUlUSU5HX0NIVU5LO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2h1bmtTaXplID0gaGVhZGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuSU5fQ0hVTks7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY2h1bmtlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gICAgICAgIHdoaWxlIChidWYuaGFzUmVtYWluaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5fc3RhdGUoYnVmKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlY2h1bmtlcjtcbn0oKSk7XG5leHBvcnRzLkRlY2h1bmtlciA9IERlY2h1bmtlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar buf_1 = __webpack_require__(/*! ../buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\");\nvar channel_buf_1 = __webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\");\n/**\n * Buffer that combines multiple buffers, exposing them as one single buffer.\n */\nvar CombinedBuffer = /** @class */ (function (_super) {\n    __extends(CombinedBuffer, _super);\n    function CombinedBuffer(buffers) {\n        var _this = this;\n        var length = 0;\n        for (var i = 0; i < buffers.length; i++) {\n            length += buffers[i].length;\n        }\n        _this = _super.call(this, length) || this;\n        _this._buffers = buffers;\n        return _this;\n    }\n    CombinedBuffer.prototype.getUInt8 = function (position) {\n        // Surely there's a faster way to do this.. some sort of lookup table thing?\n        for (var i = 0; i < this._buffers.length; i++) {\n            var buffer = this._buffers[i];\n            // If the position is not in the current buffer, skip the current buffer\n            if (position >= buffer.length) {\n                position -= buffer.length;\n            }\n            else {\n                return buffer.getUInt8(position);\n            }\n        }\n    };\n    CombinedBuffer.prototype.getInt8 = function (position) {\n        // Surely there's a faster way to do this.. some sort of lookup table thing?\n        for (var i = 0; i < this._buffers.length; i++) {\n            var buffer = this._buffers[i];\n            // If the position is not in the current buffer, skip the current buffer\n            if (position >= buffer.length) {\n                position -= buffer.length;\n            }\n            else {\n                return buffer.getInt8(position);\n            }\n        }\n    };\n    CombinedBuffer.prototype.getFloat64 = function (position) {\n        // At some point, a more efficient impl. For now, we copy the 8 bytes\n        // we want to read and depend on the platform impl of IEEE 754.\n        var b = (0, channel_buf_1.alloc)(8);\n        for (var i = 0; i < 8; i++) {\n            b.putUInt8(i, this.getUInt8(position + i));\n        }\n        return b.getFloat64(0);\n    };\n    return CombinedBuffer;\n}(buf_1.BaseBuffer));\nexports[\"default\"] = CombinedBuffer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jb21iaW5lZC1idWYuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZLG1CQUFPLENBQUMsa0ZBQVE7QUFDNUIsb0JBQW9CLG1CQUFPLENBQUMsbUdBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwQkFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jb21iaW5lZC1idWYuanM/NmQyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJ1Zl8xID0gcmVxdWlyZShcIi4uL2J1ZlwiKTtcbnZhciBjaGFubmVsX2J1Zl8xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1idWZcIik7XG4vKipcbiAqIEJ1ZmZlciB0aGF0IGNvbWJpbmVzIG11bHRpcGxlIGJ1ZmZlcnMsIGV4cG9zaW5nIHRoZW0gYXMgb25lIHNpbmdsZSBidWZmZXIuXG4gKi9cbnZhciBDb21iaW5lZEJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tYmluZWRCdWZmZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tYmluZWRCdWZmZXIoYnVmZmVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gYnVmZmVyc1tpXS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBsZW5ndGgpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9idWZmZXJzID0gYnVmZmVycztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb21iaW5lZEJ1ZmZlci5wcm90b3R5cGUuZ2V0VUludDggPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgLy8gU3VyZWx5IHRoZXJlJ3MgYSBmYXN0ZXIgd2F5IHRvIGRvIHRoaXMuLiBzb21lIHNvcnQgb2YgbG9va3VwIHRhYmxlIHRoaW5nP1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9idWZmZXJzW2ldO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBvc2l0aW9uIGlzIG5vdCBpbiB0aGUgY3VycmVudCBidWZmZXIsIHNraXAgdGhlIGN1cnJlbnQgYnVmZmVyXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uIC09IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyLmdldFVJbnQ4KHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZWRCdWZmZXIucHJvdG90eXBlLmdldEludDggPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgLy8gU3VyZWx5IHRoZXJlJ3MgYSBmYXN0ZXIgd2F5IHRvIGRvIHRoaXMuLiBzb21lIHNvcnQgb2YgbG9va3VwIHRhYmxlIHRoaW5nP1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9idWZmZXJzW2ldO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBvc2l0aW9uIGlzIG5vdCBpbiB0aGUgY3VycmVudCBidWZmZXIsIHNraXAgdGhlIGN1cnJlbnQgYnVmZmVyXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uIC09IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyLmdldEludDgocG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lZEJ1ZmZlci5wcm90b3R5cGUuZ2V0RmxvYXQ2NCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAvLyBBdCBzb21lIHBvaW50LCBhIG1vcmUgZWZmaWNpZW50IGltcGwuIEZvciBub3csIHdlIGNvcHkgdGhlIDggYnl0ZXNcbiAgICAgICAgLy8gd2Ugd2FudCB0byByZWFkIGFuZCBkZXBlbmQgb24gdGhlIHBsYXRmb3JtIGltcGwgb2YgSUVFRSA3NTQuXG4gICAgICAgIHZhciBiID0gKDAsIGNoYW5uZWxfYnVmXzEuYWxsb2MpKDgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgYi5wdXRVSW50OChpLCB0aGlzLmdldFVJbnQ4KHBvc2l0aW9uICsgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiLmdldEZsb2F0NjQoMCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tYmluZWRCdWZmZXI7XG59KGJ1Zl8xLkJhc2VCdWZmZXIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IENvbWJpbmVkQnVmZmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.utf8 = exports.alloc = exports.ChannelConfig = void 0;\n__exportStar(__webpack_require__(/*! ./node */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./chunking */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js\"), exports);\nvar channel_config_1 = __webpack_require__(/*! ./channel-config */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js\");\nObject.defineProperty(exports, \"ChannelConfig\", ({ enumerable: true, get: function () { return __importDefault(channel_config_1).default; } }));\nvar channel_buf_1 = __webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\");\nObject.defineProperty(exports, \"alloc\", ({ enumerable: true, get: function () { return channel_buf_1.alloc; } }));\nvar utf8_1 = __webpack_require__(/*! ./utf8 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js\");\nObject.defineProperty(exports, \"utf8\", ({ enumerable: true, get: function () { return __importDefault(utf8_1).default; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWSxHQUFHLGFBQWEsR0FBRyxxQkFBcUI7QUFDcEQsYUFBYSxtQkFBTyxDQUFDLDJGQUFRO0FBQzdCLGFBQWEsbUJBQU8sQ0FBQyw2RkFBWTtBQUNqQyx1QkFBdUIsbUJBQU8sQ0FBQyx5R0FBa0I7QUFDakQsaURBQWdELEVBQUUscUNBQXFDLHFEQUFxRCxFQUFDO0FBQzdJLG9CQUFvQixtQkFBTyxDQUFDLG1HQUFlO0FBQzNDLHlDQUF3QyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUMvRyxhQUFhLG1CQUFPLENBQUMscUZBQVE7QUFDN0Isd0NBQXVDLEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jaGFubmVsL2luZGV4LmpzPzc4YmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnV0ZjggPSBleHBvcnRzLmFsbG9jID0gZXhwb3J0cy5DaGFubmVsQ29uZmlnID0gdm9pZCAwO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL25vZGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NodW5raW5nXCIpLCBleHBvcnRzKTtcbnZhciBjaGFubmVsX2NvbmZpZ18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jb25maWdcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaGFubmVsQ29uZmlnXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQoY2hhbm5lbF9jb25maWdfMSkuZGVmYXVsdDsgfSB9KTtcbnZhciBjaGFubmVsX2J1Zl8xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1idWZcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhbGxvY1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbF9idWZfMS5hbGxvYzsgfSB9KTtcbnZhciB1dGY4XzEgPSByZXF1aXJlKFwiLi91dGY4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidXRmOFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KHV0ZjhfMSkuZGVmYXVsdDsgfSB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ClientCertificatesLoader = exports.HostNameResolver = exports.Channel = void 0;\nvar node_channel_1 = __importDefault(__webpack_require__(/*! ./node-channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js\"));\nvar node_host_name_resolver_1 = __importDefault(__webpack_require__(/*! ./node-host-name-resolver */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js\"));\nvar node_client_certificates_loader_1 = __importDefault(__webpack_require__(/*! ./node-client-certificates-loader */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js\"));\n/*\n\nThis module exports a set of components to be used in NodeJS environment.\nThey are not compatible with browser environment.\nAll files that require environment-dependent APIs should import this file by default.\nImports/requires are replaced at build time with `browser/index.js` when building a browser bundle.\n\nNOTE: exports in this module should have exactly the same names/structure as exports in `browser/index.js`.\n\n */\nexports.Channel = node_channel_1.default;\nexports.HostNameResolver = node_host_name_resolver_1.default;\nexports.ClientCertificatesLoader = node_client_certificates_loader_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0MsR0FBRyx3QkFBd0IsR0FBRyxlQUFlO0FBQzdFLHFDQUFxQyxtQkFBTyxDQUFDLDBHQUFnQjtBQUM3RCxnREFBZ0QsbUJBQU8sQ0FBQyxnSUFBMkI7QUFDbkYsd0RBQXdELG1CQUFPLENBQUMsZ0pBQW1DO0FBQ25HOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsZUFBZTtBQUNmLHdCQUF3QjtBQUN4QixnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvbm9kZS9pbmRleC5qcz9hOTZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2xpZW50Q2VydGlmaWNhdGVzTG9hZGVyID0gZXhwb3J0cy5Ib3N0TmFtZVJlc29sdmVyID0gZXhwb3J0cy5DaGFubmVsID0gdm9pZCAwO1xudmFyIG5vZGVfY2hhbm5lbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL25vZGUtY2hhbm5lbFwiKSk7XG52YXIgbm9kZV9ob3N0X25hbWVfcmVzb2x2ZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ub2RlLWhvc3QtbmFtZS1yZXNvbHZlclwiKSk7XG52YXIgbm9kZV9jbGllbnRfY2VydGlmaWNhdGVzX2xvYWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL25vZGUtY2xpZW50LWNlcnRpZmljYXRlcy1sb2FkZXJcIikpO1xuLypcblxuVGhpcyBtb2R1bGUgZXhwb3J0cyBhIHNldCBvZiBjb21wb25lbnRzIHRvIGJlIHVzZWQgaW4gTm9kZUpTIGVudmlyb25tZW50LlxuVGhleSBhcmUgbm90IGNvbXBhdGlibGUgd2l0aCBicm93c2VyIGVudmlyb25tZW50LlxuQWxsIGZpbGVzIHRoYXQgcmVxdWlyZSBlbnZpcm9ubWVudC1kZXBlbmRlbnQgQVBJcyBzaG91bGQgaW1wb3J0IHRoaXMgZmlsZSBieSBkZWZhdWx0LlxuSW1wb3J0cy9yZXF1aXJlcyBhcmUgcmVwbGFjZWQgYXQgYnVpbGQgdGltZSB3aXRoIGBicm93c2VyL2luZGV4LmpzYCB3aGVuIGJ1aWxkaW5nIGEgYnJvd3NlciBidW5kbGUuXG5cbk5PVEU6IGV4cG9ydHMgaW4gdGhpcyBtb2R1bGUgc2hvdWxkIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBuYW1lcy9zdHJ1Y3R1cmUgYXMgZXhwb3J0cyBpbiBgYnJvd3Nlci9pbmRleC5qc2AuXG5cbiAqL1xuZXhwb3J0cy5DaGFubmVsID0gbm9kZV9jaGFubmVsXzEuZGVmYXVsdDtcbmV4cG9ydHMuSG9zdE5hbWVSZXNvbHZlciA9IG5vZGVfaG9zdF9uYW1lX3Jlc29sdmVyXzEuZGVmYXVsdDtcbmV4cG9ydHMuQ2xpZW50Q2VydGlmaWNhdGVzTG9hZGVyID0gbm9kZV9jbGllbnRfY2VydGlmaWNhdGVzX2xvYWRlcl8xLmRlZmF1bHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js":
/*!************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar net_1 = __importDefault(__webpack_require__(/*! net */ \"net\"));\nvar tls_1 = __importDefault(__webpack_require__(/*! tls */ \"tls\"));\nvar fs_1 = __importDefault(__webpack_require__(/*! fs */ \"fs\"));\nvar channel_buf_1 = __importDefault(__webpack_require__(/*! ../channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.util, ENCRYPTION_OFF = _a.ENCRYPTION_OFF, ENCRYPTION_ON = _a.ENCRYPTION_ON, isEmptyObjectOrNull = _a.isEmptyObjectOrNull;\nvar _CONNECTION_IDGEN = 0;\nvar TrustStrategy = {\n    TRUST_CUSTOM_CA_SIGNED_CERTIFICATES: function (config, onSuccess, onFailure) {\n        if (!config.trustedCertificates ||\n            config.trustedCertificates.length === 0) {\n            onFailure((0, neo4j_driver_core_1.newError)('You are using TRUST_CUSTOM_CA_SIGNED_CERTIFICATES as the method ' +\n                'to verify trust for encrypted  connections, but have not configured any ' +\n                'trustedCertificates. You  must specify the path to at least one trusted ' +\n                'X.509 certificate for this to work. Two other alternatives is to use ' +\n                'TRUST_ALL_CERTIFICATES or to disable encryption by setting encrypted=\"' +\n                ENCRYPTION_OFF +\n                '\"' +\n                'in your driver configuration.'));\n            return;\n        }\n        var tlsOpts = newTlsOptions(config.address.host(), config.trustedCertificates.map(function (f) { return fs_1.default.readFileSync(f); }), config.clientCertificate);\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            if (!socket.authorized) {\n                onFailure((0, neo4j_driver_core_1.newError)('Server certificate is not trusted. If you trust the database you are connecting to, add' +\n                    ' the signing certificate, or the server certificate, to the list of certificates trusted by this driver' +\n                    \" using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This \" +\n                    ' is a security measure to protect against man-in-the-middle attacks. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"`' +\n                    ' in the driver options. Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    },\n    TRUST_SYSTEM_CA_SIGNED_CERTIFICATES: function (config, onSuccess, onFailure) {\n        var tlsOpts = newTlsOptions(config.address.host(), undefined, config.clientCertificate);\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            if (!socket.authorized) {\n                onFailure((0, neo4j_driver_core_1.newError)('Server certificate is not trusted. If you trust the database you are connecting to, use ' +\n                    'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES and add' +\n                    ' the signing certificate, or the server certificate, to the list of certificates trusted by this driver' +\n                    \" using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This \" +\n                    ' is a security measure to protect against man-in-the-middle attacks. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"`' +\n                    ' in the driver options. Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    },\n    TRUST_ALL_CERTIFICATES: function (config, onSuccess, onFailure) {\n        var tlsOpts = newTlsOptions(config.address.host(), undefined, config.clientCertificate);\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            var certificate = socket.getPeerCertificate();\n            if (isEmptyObjectOrNull(certificate)) {\n                onFailure((0, neo4j_driver_core_1.newError)('Secure connection was successful but server did not return any valid ' +\n                    'certificates. Such connection can not be trusted. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using ' +\n                    '`encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"` in the driver options. ' +\n                    'Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    }\n};\n/**\n * Connect using node socket.\n * @param {ChannelConfig} config - configuration of this channel.\n * @param {function} onSuccess - callback to execute on connection success.\n * @param {function} onFailure - callback to execute on connection failure.\n * @return {*} socket connection.\n */\nfunction _connect(config, onSuccess, onFailure) {\n    if (onFailure === void 0) { onFailure = function () { return null; }; }\n    var trustStrategy = trustStrategyName(config);\n    if (!isEncrypted(config)) {\n        var socket = net_1.default.connect(config.address.port(), config.address.resolvedHost(), onSuccess);\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    }\n    else if (TrustStrategy[trustStrategy]) {\n        return TrustStrategy[trustStrategy](config, onSuccess, onFailure);\n    }\n    else {\n        onFailure((0, neo4j_driver_core_1.newError)('Unknown trust strategy: ' +\n            config.trust +\n            '. Please use either ' +\n            \"trust:'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES' or trust:'TRUST_ALL_CERTIFICATES' in your driver \" +\n            'configuration. Alternatively, you can disable encryption by setting ' +\n            '`encrypted:\"' +\n            ENCRYPTION_OFF +\n            '\"`. There is no mechanism to use encryption without trust verification, ' +\n            'because this incurs the overhead of encryption without improving security. If ' +\n            'the driver does not verify that the peer it is connected to is really Neo4j, it ' +\n            'is very easy for an attacker to bypass the encryption by pretending to be Neo4j.'));\n    }\n}\nfunction isEncrypted(config) {\n    var encryptionNotConfigured = config.encrypted == null || config.encrypted === undefined;\n    if (encryptionNotConfigured) {\n        // default to using encryption if trust-all-certificates is available\n        return false;\n    }\n    return config.encrypted === true || config.encrypted === ENCRYPTION_ON;\n}\nfunction trustStrategyName(config) {\n    if (config.trust) {\n        return config.trust;\n    }\n    return 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES';\n}\n/**\n * Create a new configuration options object for the {@code tls.connect()} call.\n * @param {string} hostname the target hostname.\n * @param {string|undefined} ca an optional CA.\n * @param {string|undefined} cert an optional client cert.\n * @param {string|undefined} key an optional client cert key.\n * @param {string|undefined} passphrase an optional client cert passphrase\n * @return {Object} a new options object.\n */\nfunction newTlsOptions(hostname, ca, clientCertificate) {\n    if (ca === void 0) { ca = undefined; }\n    if (clientCertificate === void 0) { clientCertificate = undefined; }\n    return __assign({ rejectUnauthorized: false, servername: hostname, // server name for the SNI (Server Name Indication) TLS extension\n        ca: ca }, clientCertificate);\n}\n/**\n * Update socket options for the newly created socket. Accepts either `net.Socket` or its subclass `tls.TLSSocket`.\n * @param {net.Socket} socket the socket to configure.\n * @return {net.Socket} the given socket.\n */\nfunction configureSocket(socket) {\n    socket.setKeepAlive(true);\n    return socket;\n}\n/**\n * In a Node.js environment the 'net' module is used\n * as transport.\n * @access private\n */\nvar NodeChannel = /** @class */ (function () {\n    /**\n     * Create new instance\n     * @param {ChannelConfig} config - configuration for this channel.\n     */\n    function NodeChannel(config, connect) {\n        if (connect === void 0) { connect = _connect; }\n        var self = this;\n        this.id = _CONNECTION_IDGEN++;\n        this._pending = [];\n        this._open = true;\n        this._error = null;\n        this._handleConnectionError = this._handleConnectionError.bind(this);\n        this._handleConnectionTerminated = this._handleConnectionTerminated.bind(this);\n        this._connectionErrorCode = config.connectionErrorCode;\n        this._receiveTimeout = null;\n        this._receiveTimeoutStarted = false;\n        this._conn = connect(config, function () {\n            if (!self._open) {\n                return;\n            }\n            self._conn.on('data', function (buffer) {\n                if (self.onmessage) {\n                    self.onmessage(new channel_buf_1.default(buffer));\n                }\n            });\n            self._conn.on('end', self._handleConnectionTerminated);\n            // Drain all pending messages\n            var pending = self._pending;\n            self._pending = null;\n            for (var i = 0; i < pending.length; i++) {\n                self.write(pending[i]);\n            }\n        }, this._handleConnectionError);\n        this._setupConnectionTimeout(config, this._conn);\n    }\n    NodeChannel.prototype._handleConnectionError = function (err) {\n        var msg = 'Failed to connect to server. ' +\n            'Please ensure that your database is listening on the correct host and port ' +\n            'and that you have compatible encryption settings both on Neo4j server and driver. ' +\n            'Note that the default encryption setting has changed in Neo4j 4.0.';\n        if (err.message)\n            msg += ' Caused by: ' + err.message;\n        if (this._conn.destroyed) {\n            this._open = false;\n        }\n        this._error = (0, neo4j_driver_core_1.newError)(msg, this._connectionErrorCode);\n        if (this.onerror) {\n            this.onerror(this._error);\n        }\n    };\n    NodeChannel.prototype._handleConnectionTerminated = function () {\n        this._open = false;\n        this._error = (0, neo4j_driver_core_1.newError)('Connection was closed by server', this._connectionErrorCode);\n        if (this.onerror) {\n            this.onerror(this._error);\n        }\n    };\n    /**\n     * Setup connection timeout on the socket, if configured.\n     * @param {ChannelConfig} config - configuration of this channel.\n     * @param {Object} socket - `net.Socket` or `tls.TLSSocket` object.\n     * @private\n     */\n    NodeChannel.prototype._setupConnectionTimeout = function (config, socket) {\n        var _this = this;\n        var timeout = config.connectionTimeout;\n        if (timeout) {\n            var connectListener_1 = function () {\n                // connected - clear connection timeout\n                socket.setTimeout(0);\n            };\n            var timeoutListener_1 = function () {\n                // timeout fired - not connected within configured time. cancel timeout and destroy socket\n                socket.setTimeout(0);\n                socket.destroy((0, neo4j_driver_core_1.newError)(\"Failed to establish connection in \".concat(timeout, \"ms\"), config.connectionErrorCode));\n            };\n            socket.on('connect', connectListener_1);\n            socket.on('timeout', timeoutListener_1);\n            this._removeConnectionTimeoutListeners = function () {\n                _this._conn.off('connect', connectListener_1);\n                _this._conn.off('timeout', timeoutListener_1);\n            };\n            socket.setTimeout(timeout);\n        }\n    };\n    /**\n     * Setup the receive timeout for the channel.\n     *\n     * @param {number} receiveTimeout How long the channel will wait for receiving data before timing out (ms)\n     * @returns {void}\n     */\n    NodeChannel.prototype.setupReceiveTimeout = function (receiveTimeout) {\n        var _this = this;\n        if (this._removeConnectionTimeoutListeners) {\n            this._removeConnectionTimeoutListeners();\n        }\n        this._conn.on('timeout', function () {\n            _this._conn.destroy((0, neo4j_driver_core_1.newError)(\"Connection lost. Server didn't respond in \".concat(receiveTimeout, \"ms\"), _this._connectionErrorCode));\n        });\n        this._receiveTimeout = receiveTimeout;\n    };\n    /**\n     * Stops the receive timeout for the channel.\n     */\n    NodeChannel.prototype.stopReceiveTimeout = function () {\n        if (this._receiveTimeout !== null && this._receiveTimeoutStarted) {\n            this._receiveTimeoutStarted = false;\n            this._conn.setTimeout(0);\n        }\n    };\n    /**\n     * Start the receive timeout for the channel.\n     */\n    NodeChannel.prototype.startReceiveTimeout = function () {\n        if (this._receiveTimeout !== null && !this._receiveTimeoutStarted) {\n            this._receiveTimeoutStarted = true;\n            this._conn.setTimeout(this._receiveTimeout);\n        }\n    };\n    /**\n     * Write the passed in buffer to connection\n     * @param {ChannelBuffer} buffer - Buffer to write\n     */\n    NodeChannel.prototype.write = function (buffer) {\n        // If there is a pending queue, push this on that queue. This means\n        // we are not yet connected, so we queue things locally.\n        if (this._pending !== null) {\n            this._pending.push(buffer);\n        }\n        else if (buffer instanceof channel_buf_1.default) {\n            this._conn.write(buffer._buffer);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)(\"Don't know how to write: \" + buffer);\n        }\n    };\n    /**\n     * Close the connection\n     * @returns {Promise} A promise that will be resolved after channel is closed\n     */\n    NodeChannel.prototype.close = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var cleanup = function () {\n                if (!_this._conn.destroyed) {\n                    _this._conn.destroy();\n                }\n                resolve();\n            };\n            if (_this._open) {\n                _this._open = false;\n                _this._conn.removeListener('end', _this._handleConnectionTerminated);\n                _this._conn.on('end', function () { return cleanup(); });\n                _this._conn.on('close', function () { return cleanup(); });\n                _this._conn.end();\n                _this._conn.destroy();\n            }\n            else {\n                cleanup();\n            }\n        });\n    };\n    return NodeChannel;\n}());\nexports[\"default\"] = NodeChannel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL25vZGUtY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQyxnQkFBSztBQUN6Qyw0QkFBNEIsbUJBQU8sQ0FBQyxnQkFBSztBQUN6QywyQkFBMkIsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZDLG9DQUFvQyxtQkFBTyxDQUFDLG9HQUFnQjtBQUM1RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsc0NBQXNDO0FBQy9JO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGdEQUFnRDtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGdEQUFnRDtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsWUFBWSxHQUFHO0FBQ2Y7QUFDQTtBQUNBLGdDQUFnQywwQkFBMEI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxxQkFBcUI7QUFDM0UsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsa0JBQWtCO0FBQzdCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHdDQUF3QztBQUN4QyxzQkFBc0I7QUFDdEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0JBQW9CO0FBQ2hEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsbUJBQW1CO0FBQ3ZFLHNEQUFzRCxtQkFBbUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvbm9kZS9ub2RlLWNoYW5uZWwuanM/OTFmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIG5ldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJuZXRcIikpO1xudmFyIHRsc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ0bHNcIikpO1xudmFyIGZzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImZzXCIpKTtcbnZhciBjaGFubmVsX2J1Zl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9jaGFubmVsLWJ1ZlwiKSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwudXRpbCwgRU5DUllQVElPTl9PRkYgPSBfYS5FTkNSWVBUSU9OX09GRiwgRU5DUllQVElPTl9PTiA9IF9hLkVOQ1JZUFRJT05fT04sIGlzRW1wdHlPYmplY3RPck51bGwgPSBfYS5pc0VtcHR5T2JqZWN0T3JOdWxsO1xudmFyIF9DT05ORUNUSU9OX0lER0VOID0gMDtcbnZhciBUcnVzdFN0cmF0ZWd5ID0ge1xuICAgIFRSVVNUX0NVU1RPTV9DQV9TSUdORURfQ0VSVElGSUNBVEVTOiBmdW5jdGlvbiAoY29uZmlnLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICAgICAgICBpZiAoIWNvbmZpZy50cnVzdGVkQ2VydGlmaWNhdGVzIHx8XG4gICAgICAgICAgICBjb25maWcudHJ1c3RlZENlcnRpZmljYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG9uRmFpbHVyZSgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1lvdSBhcmUgdXNpbmcgVFJVU1RfQ1VTVE9NX0NBX1NJR05FRF9DRVJUSUZJQ0FURVMgYXMgdGhlIG1ldGhvZCAnICtcbiAgICAgICAgICAgICAgICAndG8gdmVyaWZ5IHRydXN0IGZvciBlbmNyeXB0ZWQgIGNvbm5lY3Rpb25zLCBidXQgaGF2ZSBub3QgY29uZmlndXJlZCBhbnkgJyArXG4gICAgICAgICAgICAgICAgJ3RydXN0ZWRDZXJ0aWZpY2F0ZXMuIFlvdSAgbXVzdCBzcGVjaWZ5IHRoZSBwYXRoIHRvIGF0IGxlYXN0IG9uZSB0cnVzdGVkICcgK1xuICAgICAgICAgICAgICAgICdYLjUwOSBjZXJ0aWZpY2F0ZSBmb3IgdGhpcyB0byB3b3JrLiBUd28gb3RoZXIgYWx0ZXJuYXRpdmVzIGlzIHRvIHVzZSAnICtcbiAgICAgICAgICAgICAgICAnVFJVU1RfQUxMX0NFUlRJRklDQVRFUyBvciB0byBkaXNhYmxlIGVuY3J5cHRpb24gYnkgc2V0dGluZyBlbmNyeXB0ZWQ9XCInICtcbiAgICAgICAgICAgICAgICBFTkNSWVBUSU9OX09GRiArXG4gICAgICAgICAgICAgICAgJ1wiJyArXG4gICAgICAgICAgICAgICAgJ2luIHlvdXIgZHJpdmVyIGNvbmZpZ3VyYXRpb24uJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0bHNPcHRzID0gbmV3VGxzT3B0aW9ucyhjb25maWcuYWRkcmVzcy5ob3N0KCksIGNvbmZpZy50cnVzdGVkQ2VydGlmaWNhdGVzLm1hcChmdW5jdGlvbiAoZikgeyByZXR1cm4gZnNfMS5kZWZhdWx0LnJlYWRGaWxlU3luYyhmKTsgfSksIGNvbmZpZy5jbGllbnRDZXJ0aWZpY2F0ZSk7XG4gICAgICAgIHZhciBzb2NrZXQgPSB0bHNfMS5kZWZhdWx0LmNvbm5lY3QoY29uZmlnLmFkZHJlc3MucG9ydCgpLCBjb25maWcuYWRkcmVzcy5yZXNvbHZlZEhvc3QoKSwgdGxzT3B0cywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzb2NrZXQuYXV0aG9yaXplZCkge1xuICAgICAgICAgICAgICAgIG9uRmFpbHVyZSgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1NlcnZlciBjZXJ0aWZpY2F0ZSBpcyBub3QgdHJ1c3RlZC4gSWYgeW91IHRydXN0IHRoZSBkYXRhYmFzZSB5b3UgYXJlIGNvbm5lY3RpbmcgdG8sIGFkZCcgK1xuICAgICAgICAgICAgICAgICAgICAnIHRoZSBzaWduaW5nIGNlcnRpZmljYXRlLCBvciB0aGUgc2VydmVyIGNlcnRpZmljYXRlLCB0byB0aGUgbGlzdCBvZiBjZXJ0aWZpY2F0ZXMgdHJ1c3RlZCBieSB0aGlzIGRyaXZlcicgK1xuICAgICAgICAgICAgICAgICAgICBcIiB1c2luZyBgbmVvNGouZHJpdmVyKC4uLCB7IHRydXN0ZWRDZXJ0aWZpY2F0ZXM6WydwYXRoL3RvL2NlcnRpZmljYXRlLmNydCddfSkuIFRoaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAnIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSB0byBwcm90ZWN0IGFnYWluc3QgbWFuLWluLXRoZS1taWRkbGUgYXR0YWNrcy4gSWYgeW91IGFyZSBqdXN0IHRyeWluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgJyBOZW80aiBvdXQgYW5kIGFyZSBub3QgY29uY2VybmVkIGFib3V0IGVuY3J5cHRpb24sIHNpbXBseSBkaXNhYmxlIGl0IHVzaW5nIGBlbmNyeXB0ZWQ9XCInICtcbiAgICAgICAgICAgICAgICAgICAgRU5DUllQVElPTl9PRkYgK1xuICAgICAgICAgICAgICAgICAgICAnXCJgJyArXG4gICAgICAgICAgICAgICAgICAgICcgaW4gdGhlIGRyaXZlciBvcHRpb25zLiBTb2NrZXQgcmVzcG9uZGVkIHdpdGg6ICcgK1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuYXV0aG9yaXphdGlvbkVycm9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldC5vbignZXJyb3InLCBvbkZhaWx1cmUpO1xuICAgICAgICByZXR1cm4gY29uZmlndXJlU29ja2V0KHNvY2tldCk7XG4gICAgfSxcbiAgICBUUlVTVF9TWVNURU1fQ0FfU0lHTkVEX0NFUlRJRklDQVRFUzogZnVuY3Rpb24gKGNvbmZpZywgb25TdWNjZXNzLCBvbkZhaWx1cmUpIHtcbiAgICAgICAgdmFyIHRsc09wdHMgPSBuZXdUbHNPcHRpb25zKGNvbmZpZy5hZGRyZXNzLmhvc3QoKSwgdW5kZWZpbmVkLCBjb25maWcuY2xpZW50Q2VydGlmaWNhdGUpO1xuICAgICAgICB2YXIgc29ja2V0ID0gdGxzXzEuZGVmYXVsdC5jb25uZWN0KGNvbmZpZy5hZGRyZXNzLnBvcnQoKSwgY29uZmlnLmFkZHJlc3MucmVzb2x2ZWRIb3N0KCksIHRsc09wdHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc29ja2V0LmF1dGhvcml6ZWQpIHtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdTZXJ2ZXIgY2VydGlmaWNhdGUgaXMgbm90IHRydXN0ZWQuIElmIHlvdSB0cnVzdCB0aGUgZGF0YWJhc2UgeW91IGFyZSBjb25uZWN0aW5nIHRvLCB1c2UgJyArXG4gICAgICAgICAgICAgICAgICAgICdUUlVTVF9DVVNUT01fQ0FfU0lHTkVEX0NFUlRJRklDQVRFUyBhbmQgYWRkJyArXG4gICAgICAgICAgICAgICAgICAgICcgdGhlIHNpZ25pbmcgY2VydGlmaWNhdGUsIG9yIHRoZSBzZXJ2ZXIgY2VydGlmaWNhdGUsIHRvIHRoZSBsaXN0IG9mIGNlcnRpZmljYXRlcyB0cnVzdGVkIGJ5IHRoaXMgZHJpdmVyJyArXG4gICAgICAgICAgICAgICAgICAgIFwiIHVzaW5nIGBuZW80ai5kcml2ZXIoLi4sIHsgdHJ1c3RlZENlcnRpZmljYXRlczpbJ3BhdGgvdG8vY2VydGlmaWNhdGUuY3J0J119KS4gVGhpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgICcgaXMgYSBzZWN1cml0eSBtZWFzdXJlIHRvIHByb3RlY3QgYWdhaW5zdCBtYW4taW4tdGhlLW1pZGRsZSBhdHRhY2tzLiBJZiB5b3UgYXJlIGp1c3QgdHJ5aW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAnIE5lbzRqIG91dCBhbmQgYXJlIG5vdCBjb25jZXJuZWQgYWJvdXQgZW5jcnlwdGlvbiwgc2ltcGx5IGRpc2FibGUgaXQgdXNpbmcgYGVuY3J5cHRlZD1cIicgK1xuICAgICAgICAgICAgICAgICAgICBFTkNSWVBUSU9OX09GRiArXG4gICAgICAgICAgICAgICAgICAgICdcImAnICtcbiAgICAgICAgICAgICAgICAgICAgJyBpbiB0aGUgZHJpdmVyIG9wdGlvbnMuIFNvY2tldCByZXNwb25kZWQgd2l0aDogJyArXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5hdXRob3JpemF0aW9uRXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIG9uRmFpbHVyZSk7XG4gICAgICAgIHJldHVybiBjb25maWd1cmVTb2NrZXQoc29ja2V0KTtcbiAgICB9LFxuICAgIFRSVVNUX0FMTF9DRVJUSUZJQ0FURVM6IGZ1bmN0aW9uIChjb25maWcsIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gICAgICAgIHZhciB0bHNPcHRzID0gbmV3VGxzT3B0aW9ucyhjb25maWcuYWRkcmVzcy5ob3N0KCksIHVuZGVmaW5lZCwgY29uZmlnLmNsaWVudENlcnRpZmljYXRlKTtcbiAgICAgICAgdmFyIHNvY2tldCA9IHRsc18xLmRlZmF1bHQuY29ubmVjdChjb25maWcuYWRkcmVzcy5wb3J0KCksIGNvbmZpZy5hZGRyZXNzLnJlc29sdmVkSG9zdCgpLCB0bHNPcHRzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2VydGlmaWNhdGUgPSBzb2NrZXQuZ2V0UGVlckNlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eU9iamVjdE9yTnVsbChjZXJ0aWZpY2F0ZSkpIHtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdTZWN1cmUgY29ubmVjdGlvbiB3YXMgc3VjY2Vzc2Z1bCBidXQgc2VydmVyIGRpZCBub3QgcmV0dXJuIGFueSB2YWxpZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NlcnRpZmljYXRlcy4gU3VjaCBjb25uZWN0aW9uIGNhbiBub3QgYmUgdHJ1c3RlZC4gSWYgeW91IGFyZSBqdXN0IHRyeWluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgJyBOZW80aiBvdXQgYW5kIGFyZSBub3QgY29uY2VybmVkIGFib3V0IGVuY3J5cHRpb24sIHNpbXBseSBkaXNhYmxlIGl0IHVzaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAnYGVuY3J5cHRlZD1cIicgK1xuICAgICAgICAgICAgICAgICAgICBFTkNSWVBUSU9OX09GRiArXG4gICAgICAgICAgICAgICAgICAgICdcImAgaW4gdGhlIGRyaXZlciBvcHRpb25zLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1NvY2tldCByZXNwb25kZWQgd2l0aDogJyArXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5hdXRob3JpemF0aW9uRXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIG9uRmFpbHVyZSk7XG4gICAgICAgIHJldHVybiBjb25maWd1cmVTb2NrZXQoc29ja2V0KTtcbiAgICB9XG59O1xuLyoqXG4gKiBDb25uZWN0IHVzaW5nIG5vZGUgc29ja2V0LlxuICogQHBhcmFtIHtDaGFubmVsQ29uZmlnfSBjb25maWcgLSBjb25maWd1cmF0aW9uIG9mIHRoaXMgY2hhbm5lbC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGV4ZWN1dGUgb24gY29ubmVjdGlvbiBzdWNjZXNzLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gZXhlY3V0ZSBvbiBjb25uZWN0aW9uIGZhaWx1cmUuXG4gKiBAcmV0dXJuIHsqfSBzb2NrZXQgY29ubmVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gX2Nvbm5lY3QoY29uZmlnLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICAgIGlmIChvbkZhaWx1cmUgPT09IHZvaWQgMCkgeyBvbkZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9OyB9XG4gICAgdmFyIHRydXN0U3RyYXRlZ3kgPSB0cnVzdFN0cmF0ZWd5TmFtZShjb25maWcpO1xuICAgIGlmICghaXNFbmNyeXB0ZWQoY29uZmlnKSkge1xuICAgICAgICB2YXIgc29ja2V0ID0gbmV0XzEuZGVmYXVsdC5jb25uZWN0KGNvbmZpZy5hZGRyZXNzLnBvcnQoKSwgY29uZmlnLmFkZHJlc3MucmVzb2x2ZWRIb3N0KCksIG9uU3VjY2Vzcyk7XG4gICAgICAgIHNvY2tldC5vbignZXJyb3InLCBvbkZhaWx1cmUpO1xuICAgICAgICByZXR1cm4gY29uZmlndXJlU29ja2V0KHNvY2tldCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFRydXN0U3RyYXRlZ3lbdHJ1c3RTdHJhdGVneV0pIHtcbiAgICAgICAgcmV0dXJuIFRydXN0U3RyYXRlZ3lbdHJ1c3RTdHJhdGVneV0oY29uZmlnLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvbkZhaWx1cmUoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdVbmtub3duIHRydXN0IHN0cmF0ZWd5OiAnICtcbiAgICAgICAgICAgIGNvbmZpZy50cnVzdCArXG4gICAgICAgICAgICAnLiBQbGVhc2UgdXNlIGVpdGhlciAnICtcbiAgICAgICAgICAgIFwidHJ1c3Q6J1RSVVNUX0NVU1RPTV9DQV9TSUdORURfQ0VSVElGSUNBVEVTJyBvciB0cnVzdDonVFJVU1RfQUxMX0NFUlRJRklDQVRFUycgaW4geW91ciBkcml2ZXIgXCIgK1xuICAgICAgICAgICAgJ2NvbmZpZ3VyYXRpb24uIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gZGlzYWJsZSBlbmNyeXB0aW9uIGJ5IHNldHRpbmcgJyArXG4gICAgICAgICAgICAnYGVuY3J5cHRlZDpcIicgK1xuICAgICAgICAgICAgRU5DUllQVElPTl9PRkYgK1xuICAgICAgICAgICAgJ1wiYC4gVGhlcmUgaXMgbm8gbWVjaGFuaXNtIHRvIHVzZSBlbmNyeXB0aW9uIHdpdGhvdXQgdHJ1c3QgdmVyaWZpY2F0aW9uLCAnICtcbiAgICAgICAgICAgICdiZWNhdXNlIHRoaXMgaW5jdXJzIHRoZSBvdmVyaGVhZCBvZiBlbmNyeXB0aW9uIHdpdGhvdXQgaW1wcm92aW5nIHNlY3VyaXR5LiBJZiAnICtcbiAgICAgICAgICAgICd0aGUgZHJpdmVyIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBwZWVyIGl0IGlzIGNvbm5lY3RlZCB0byBpcyByZWFsbHkgTmVvNGosIGl0ICcgK1xuICAgICAgICAgICAgJ2lzIHZlcnkgZWFzeSBmb3IgYW4gYXR0YWNrZXIgdG8gYnlwYXNzIHRoZSBlbmNyeXB0aW9uIGJ5IHByZXRlbmRpbmcgdG8gYmUgTmVvNGouJykpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRW5jcnlwdGVkKGNvbmZpZykge1xuICAgIHZhciBlbmNyeXB0aW9uTm90Q29uZmlndXJlZCA9IGNvbmZpZy5lbmNyeXB0ZWQgPT0gbnVsbCB8fCBjb25maWcuZW5jcnlwdGVkID09PSB1bmRlZmluZWQ7XG4gICAgaWYgKGVuY3J5cHRpb25Ob3RDb25maWd1cmVkKSB7XG4gICAgICAgIC8vIGRlZmF1bHQgdG8gdXNpbmcgZW5jcnlwdGlvbiBpZiB0cnVzdC1hbGwtY2VydGlmaWNhdGVzIGlzIGF2YWlsYWJsZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBjb25maWcuZW5jcnlwdGVkID09PSB0cnVlIHx8IGNvbmZpZy5lbmNyeXB0ZWQgPT09IEVOQ1JZUFRJT05fT047XG59XG5mdW5jdGlvbiB0cnVzdFN0cmF0ZWd5TmFtZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLnRydXN0KSB7XG4gICAgICAgIHJldHVybiBjb25maWcudHJ1c3Q7XG4gICAgfVxuICAgIHJldHVybiAnVFJVU1RfU1lTVEVNX0NBX1NJR05FRF9DRVJUSUZJQ0FURVMnO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29uZmlndXJhdGlvbiBvcHRpb25zIG9iamVjdCBmb3IgdGhlIHtAY29kZSB0bHMuY29ubmVjdCgpfSBjYWxsLlxuICogQHBhcmFtIHtzdHJpbmd9IGhvc3RuYW1lIHRoZSB0YXJnZXQgaG9zdG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGNhIGFuIG9wdGlvbmFsIENBLlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBjZXJ0IGFuIG9wdGlvbmFsIGNsaWVudCBjZXJ0LlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBrZXkgYW4gb3B0aW9uYWwgY2xpZW50IGNlcnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBwYXNzcGhyYXNlIGFuIG9wdGlvbmFsIGNsaWVudCBjZXJ0IHBhc3NwaHJhc2VcbiAqIEByZXR1cm4ge09iamVjdH0gYSBuZXcgb3B0aW9ucyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIG5ld1Rsc09wdGlvbnMoaG9zdG5hbWUsIGNhLCBjbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgIGlmIChjYSA9PT0gdm9pZCAwKSB7IGNhID0gdW5kZWZpbmVkOyB9XG4gICAgaWYgKGNsaWVudENlcnRpZmljYXRlID09PSB2b2lkIDApIHsgY2xpZW50Q2VydGlmaWNhdGUgPSB1bmRlZmluZWQ7IH1cbiAgICByZXR1cm4gX19hc3NpZ24oeyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLCBzZXJ2ZXJuYW1lOiBob3N0bmFtZSwgLy8gc2VydmVyIG5hbWUgZm9yIHRoZSBTTkkgKFNlcnZlciBOYW1lIEluZGljYXRpb24pIFRMUyBleHRlbnNpb25cbiAgICAgICAgY2E6IGNhIH0sIGNsaWVudENlcnRpZmljYXRlKTtcbn1cbi8qKlxuICogVXBkYXRlIHNvY2tldCBvcHRpb25zIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBzb2NrZXQuIEFjY2VwdHMgZWl0aGVyIGBuZXQuU29ja2V0YCBvciBpdHMgc3ViY2xhc3MgYHRscy5UTFNTb2NrZXRgLlxuICogQHBhcmFtIHtuZXQuU29ja2V0fSBzb2NrZXQgdGhlIHNvY2tldCB0byBjb25maWd1cmUuXG4gKiBAcmV0dXJuIHtuZXQuU29ja2V0fSB0aGUgZ2l2ZW4gc29ja2V0LlxuICovXG5mdW5jdGlvbiBjb25maWd1cmVTb2NrZXQoc29ja2V0KSB7XG4gICAgc29ja2V0LnNldEtlZXBBbGl2ZSh0cnVlKTtcbiAgICByZXR1cm4gc29ja2V0O1xufVxuLyoqXG4gKiBJbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgdGhlICduZXQnIG1vZHVsZSBpcyB1c2VkXG4gKiBhcyB0cmFuc3BvcnQuXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqL1xudmFyIE5vZGVDaGFubmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBuZXcgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxDb25maWd9IGNvbmZpZyAtIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgY2hhbm5lbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2RlQ2hhbm5lbChjb25maWcsIGNvbm5lY3QpIHtcbiAgICAgICAgaWYgKGNvbm5lY3QgPT09IHZvaWQgMCkgeyBjb25uZWN0ID0gX2Nvbm5lY3Q7IH1cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmlkID0gX0NPTk5FQ1RJT05fSURHRU4rKztcbiAgICAgICAgdGhpcy5fcGVuZGluZyA9IFtdO1xuICAgICAgICB0aGlzLl9vcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9oYW5kbGVDb25uZWN0aW9uRXJyb3IgPSB0aGlzLl9oYW5kbGVDb25uZWN0aW9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ29ubmVjdGlvblRlcm1pbmF0ZWQgPSB0aGlzLl9oYW5kbGVDb25uZWN0aW9uVGVybWluYXRlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uRXJyb3JDb2RlID0gY29uZmlnLmNvbm5lY3Rpb25FcnJvckNvZGU7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZVRpbWVvdXRTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Nvbm4gPSBjb25uZWN0KGNvbmZpZywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzZWxmLl9vcGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5fY29ubi5vbignZGF0YScsIGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vbm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbm1lc3NhZ2UobmV3IGNoYW5uZWxfYnVmXzEuZGVmYXVsdChidWZmZXIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbGYuX2Nvbm4ub24oJ2VuZCcsIHNlbGYuX2hhbmRsZUNvbm5lY3Rpb25UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgIC8vIERyYWluIGFsbCBwZW5kaW5nIG1lc3NhZ2VzXG4gICAgICAgICAgICB2YXIgcGVuZGluZyA9IHNlbGYuX3BlbmRpbmc7XG4gICAgICAgICAgICBzZWxmLl9wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGVuZGluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHNlbGYud3JpdGUocGVuZGluZ1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuX2hhbmRsZUNvbm5lY3Rpb25FcnJvcik7XG4gICAgICAgIHRoaXMuX3NldHVwQ29ubmVjdGlvblRpbWVvdXQoY29uZmlnLCB0aGlzLl9jb25uKTtcbiAgICB9XG4gICAgTm9kZUNoYW5uZWwucHJvdG90eXBlLl9oYW5kbGVDb25uZWN0aW9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBtc2cgPSAnRmFpbGVkIHRvIGNvbm5lY3QgdG8gc2VydmVyLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgZW5zdXJlIHRoYXQgeW91ciBkYXRhYmFzZSBpcyBsaXN0ZW5pbmcgb24gdGhlIGNvcnJlY3QgaG9zdCBhbmQgcG9ydCAnICtcbiAgICAgICAgICAgICdhbmQgdGhhdCB5b3UgaGF2ZSBjb21wYXRpYmxlIGVuY3J5cHRpb24gc2V0dGluZ3MgYm90aCBvbiBOZW80aiBzZXJ2ZXIgYW5kIGRyaXZlci4gJyArXG4gICAgICAgICAgICAnTm90ZSB0aGF0IHRoZSBkZWZhdWx0IGVuY3J5cHRpb24gc2V0dGluZyBoYXMgY2hhbmdlZCBpbiBOZW80aiA0LjAuJztcbiAgICAgICAgaWYgKGVyci5tZXNzYWdlKVxuICAgICAgICAgICAgbXNnICs9ICcgQ2F1c2VkIGJ5OiAnICsgZXJyLm1lc3NhZ2U7XG4gICAgICAgIGlmICh0aGlzLl9jb25uLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5fb3BlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Vycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKG1zZywgdGhpcy5fY29ubmVjdGlvbkVycm9yQ29kZSk7XG4gICAgICAgIGlmICh0aGlzLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMub25lcnJvcih0aGlzLl9lcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vZGVDaGFubmVsLnByb3RvdHlwZS5faGFuZGxlQ29ubmVjdGlvblRlcm1pbmF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX29wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZXJyb3IgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0Nvbm5lY3Rpb24gd2FzIGNsb3NlZCBieSBzZXJ2ZXInLCB0aGlzLl9jb25uZWN0aW9uRXJyb3JDb2RlKTtcbiAgICAgICAgaWYgKHRoaXMub25lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yKHRoaXMuX2Vycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgY29ubmVjdGlvbiB0aW1lb3V0IG9uIHRoZSBzb2NrZXQsIGlmIGNvbmZpZ3VyZWQuXG4gICAgICogQHBhcmFtIHtDaGFubmVsQ29uZmlnfSBjb25maWcgLSBjb25maWd1cmF0aW9uIG9mIHRoaXMgY2hhbm5lbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc29ja2V0IC0gYG5ldC5Tb2NrZXRgIG9yIGB0bHMuVExTU29ja2V0YCBvYmplY3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUuX3NldHVwQ29ubmVjdGlvblRpbWVvdXQgPSBmdW5jdGlvbiAoY29uZmlnLCBzb2NrZXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRpbWVvdXQgPSBjb25maWcuY29ubmVjdGlvblRpbWVvdXQ7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICB2YXIgY29ubmVjdExpc3RlbmVyXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gY29ubmVjdGVkIC0gY2xlYXIgY29ubmVjdGlvbiB0aW1lb3V0XG4gICAgICAgICAgICAgICAgc29ja2V0LnNldFRpbWVvdXQoMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHRpbWVvdXRMaXN0ZW5lcl8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIHRpbWVvdXQgZmlyZWQgLSBub3QgY29ubmVjdGVkIHdpdGhpbiBjb25maWd1cmVkIHRpbWUuIGNhbmNlbCB0aW1lb3V0IGFuZCBkZXN0cm95IHNvY2tldFxuICAgICAgICAgICAgICAgIHNvY2tldC5zZXRUaW1lb3V0KDApO1xuICAgICAgICAgICAgICAgIHNvY2tldC5kZXN0cm95KCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIkZhaWxlZCB0byBlc3RhYmxpc2ggY29ubmVjdGlvbiBpbiBcIi5jb25jYXQodGltZW91dCwgXCJtc1wiKSwgY29uZmlnLmNvbm5lY3Rpb25FcnJvckNvZGUpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb2NrZXQub24oJ2Nvbm5lY3QnLCBjb25uZWN0TGlzdGVuZXJfMSk7XG4gICAgICAgICAgICBzb2NrZXQub24oJ3RpbWVvdXQnLCB0aW1lb3V0TGlzdGVuZXJfMSk7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVDb25uZWN0aW9uVGltZW91dExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5vZmYoJ2Nvbm5lY3QnLCBjb25uZWN0TGlzdGVuZXJfMSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2Nvbm4ub2ZmKCd0aW1lb3V0JywgdGltZW91dExpc3RlbmVyXzEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvY2tldC5zZXRUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCB0aGUgcmVjZWl2ZSB0aW1lb3V0IGZvciB0aGUgY2hhbm5lbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWNlaXZlVGltZW91dCBIb3cgbG9uZyB0aGUgY2hhbm5lbCB3aWxsIHdhaXQgZm9yIHJlY2VpdmluZyBkYXRhIGJlZm9yZSB0aW1pbmcgb3V0IChtcylcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUuc2V0dXBSZWNlaXZlVGltZW91dCA9IGZ1bmN0aW9uIChyZWNlaXZlVGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlQ29ubmVjdGlvblRpbWVvdXRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUNvbm5lY3Rpb25UaW1lb3V0TGlzdGVuZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29ubi5vbigndGltZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl9jb25uLmRlc3Ryb3koKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiQ29ubmVjdGlvbiBsb3N0LiBTZXJ2ZXIgZGlkbid0IHJlc3BvbmQgaW4gXCIuY29uY2F0KHJlY2VpdmVUaW1lb3V0LCBcIm1zXCIpLCBfdGhpcy5fY29ubmVjdGlvbkVycm9yQ29kZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZVRpbWVvdXQgPSByZWNlaXZlVGltZW91dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSByZWNlaXZlIHRpbWVvdXQgZm9yIHRoZSBjaGFubmVsLlxuICAgICAqL1xuICAgIE5vZGVDaGFubmVsLnByb3RvdHlwZS5zdG9wUmVjZWl2ZVRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNlaXZlVGltZW91dCAhPT0gbnVsbCAmJiB0aGlzLl9yZWNlaXZlVGltZW91dFN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVUaW1lb3V0U3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY29ubi5zZXRUaW1lb3V0KDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgcmVjZWl2ZSB0aW1lb3V0IGZvciB0aGUgY2hhbm5lbC5cbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUuc3RhcnRSZWNlaXZlVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY2VpdmVUaW1lb3V0ICE9PSBudWxsICYmICF0aGlzLl9yZWNlaXZlVGltZW91dFN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVUaW1lb3V0U3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb25uLnNldFRpbWVvdXQodGhpcy5fcmVjZWl2ZVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcml0ZSB0aGUgcGFzc2VkIGluIGJ1ZmZlciB0byBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsQnVmZmVyfSBidWZmZXIgLSBCdWZmZXIgdG8gd3JpdGVcbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcGVuZGluZyBxdWV1ZSwgcHVzaCB0aGlzIG9uIHRoYXQgcXVldWUuIFRoaXMgbWVhbnNcbiAgICAgICAgLy8gd2UgYXJlIG5vdCB5ZXQgY29ubmVjdGVkLCBzbyB3ZSBxdWV1ZSB0aGluZ3MgbG9jYWxseS5cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmcucHVzaChidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIGNoYW5uZWxfYnVmXzEuZGVmYXVsdCkge1xuICAgICAgICAgICAgdGhpcy5fY29ubi53cml0ZShidWZmZXIuX2J1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJEb24ndCBrbm93IGhvdyB0byB3cml0ZTogXCIgKyBidWZmZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29ubmVjdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGNoYW5uZWwgaXMgY2xvc2VkXG4gICAgICovXG4gICAgTm9kZUNoYW5uZWwucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fY29ubi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2Nvbm4uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKF90aGlzLl9vcGVuKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5yZW1vdmVMaXN0ZW5lcignZW5kJywgX3RoaXMuX2hhbmRsZUNvbm5lY3Rpb25UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5vbignZW5kJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xlYW51cCgpOyB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGVhbnVwKCk7IH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLl9jb25uLmVuZCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9jb25uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZUNoYW5uZWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTm9kZUNoYW5uZWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar fs_1 = __importDefault(__webpack_require__(/*! fs */ \"fs\"));\nfunction readFile(file) {\n    return new Promise(function (resolve, reject) { return fs_1.default.readFile(file, function (err, data) {\n        if (err) {\n            return reject(err);\n        }\n        return resolve(data);\n    }); });\n}\nfunction loadCert(fileOrFiles) {\n    if (Array.isArray(fileOrFiles)) {\n        return Promise.all(fileOrFiles.map(loadCert));\n    }\n    return readFile(fileOrFiles);\n}\nfunction loadKey(fileOrFiles) {\n    if (Array.isArray(fileOrFiles)) {\n        return Promise.all(fileOrFiles.map(loadKey));\n    }\n    if (typeof fileOrFiles === 'string') {\n        return readFile(fileOrFiles);\n    }\n    return readFile(fileOrFiles.path)\n        .then(function (pem) { return ({\n        pem: pem,\n        passphrase: fileOrFiles.password\n    }); });\n}\nexports[\"default\"] = {\n    load: function (clientCertificate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var certPromise, keyPromise, _a, cert, key;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        certPromise = loadCert(clientCertificate.certfile);\n                        keyPromise = loadKey(clientCertificate.keyfile);\n                        return [4 /*yield*/, Promise.all([certPromise, keyPromise])];\n                    case 1:\n                        _a = __read.apply(void 0, [_b.sent(), 2]), cert = _a[0], key = _a[1];\n                        return [2 /*return*/, {\n                                cert: cert,\n                                key: key,\n                                passphrase: clientCertificate.password\n                            }];\n                }\n            });\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL25vZGUtY2xpZW50LWNlcnRpZmljYXRlcy1sb2FkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQixtQkFBTyxDQUFDLGNBQUk7QUFDdkM7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvbm9kZS9ub2RlLWNsaWVudC1jZXJ0aWZpY2F0ZXMtbG9hZGVyLmpzPzNhNmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGZzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImZzXCIpKTtcbmZ1bmN0aW9uIHJlYWRGaWxlKGZpbGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyByZXR1cm4gZnNfMS5kZWZhdWx0LnJlYWRGaWxlKGZpbGUsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlKGRhdGEpO1xuICAgIH0pOyB9KTtcbn1cbmZ1bmN0aW9uIGxvYWRDZXJ0KGZpbGVPckZpbGVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsZU9yRmlsZXMpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChmaWxlT3JGaWxlcy5tYXAobG9hZENlcnQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWRGaWxlKGZpbGVPckZpbGVzKTtcbn1cbmZ1bmN0aW9uIGxvYWRLZXkoZmlsZU9yRmlsZXMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWxlT3JGaWxlcykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVPckZpbGVzLm1hcChsb2FkS2V5KSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZmlsZU9yRmlsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiByZWFkRmlsZShmaWxlT3JGaWxlcyk7XG4gICAgfVxuICAgIHJldHVybiByZWFkRmlsZShmaWxlT3JGaWxlcy5wYXRoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocGVtKSB7IHJldHVybiAoe1xuICAgICAgICBwZW06IHBlbSxcbiAgICAgICAgcGFzc3BocmFzZTogZmlsZU9yRmlsZXMucGFzc3dvcmRcbiAgICB9KTsgfSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgbG9hZDogZnVuY3Rpb24gKGNsaWVudENlcnRpZmljYXRlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjZXJ0UHJvbWlzZSwga2V5UHJvbWlzZSwgX2EsIGNlcnQsIGtleTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlcnRQcm9taXNlID0gbG9hZENlcnQoY2xpZW50Q2VydGlmaWNhdGUuY2VydGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5UHJvbWlzZSA9IGxvYWRLZXkoY2xpZW50Q2VydGlmaWNhdGUua2V5ZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChbY2VydFByb21pc2UsIGtleVByb21pc2VdKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gX19yZWFkLmFwcGx5KHZvaWQgMCwgW19iLnNlbnQoKSwgMl0pLCBjZXJ0ID0gX2FbMF0sIGtleSA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VydDogY2VydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NwaHJhc2U6IGNsaWVudENlcnRpZmljYXRlLnBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar dns_1 = __importDefault(__webpack_require__(/*! dns */ \"dns\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BaseHostNameResolver = neo4j_driver_core_1.internal.resolver.BaseHostNameResolver;\nvar NodeHostNameResolver = /** @class */ (function (_super) {\n    __extends(NodeHostNameResolver, _super);\n    function NodeHostNameResolver() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeHostNameResolver.prototype.resolve = function (address) {\n        return new Promise(function (resolve) {\n            dns_1.default.lookup(address.host(), { all: true }, function (error, resolvedTo) {\n                if (error) {\n                    resolve([address]);\n                }\n                else {\n                    var resolvedAddresses = resolvedTo.map(function (a) {\n                        return address.resolveWith(a.address);\n                    });\n                    resolve(resolvedAddresses);\n                }\n            });\n        });\n    };\n    return NodeHostNameResolver;\n}(BaseHostNameResolver));\nexports[\"default\"] = NodeHostNameResolver;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL25vZGUtaG9zdC1uYW1lLXJlc29sdmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw0QkFBNEIsbUJBQU8sQ0FBQyxnQkFBSztBQUN6QywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxXQUFXO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jaGFubmVsL25vZGUvbm9kZS1ob3N0LW5hbWUtcmVzb2x2ZXIuanM/OTE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRuc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJkbnNcIikpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgQmFzZUhvc3ROYW1lUmVzb2x2ZXIgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnJlc29sdmVyLkJhc2VIb3N0TmFtZVJlc29sdmVyO1xudmFyIE5vZGVIb3N0TmFtZVJlc29sdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2RlSG9zdE5hbWVSZXNvbHZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOb2RlSG9zdE5hbWVSZXNvbHZlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBOb2RlSG9zdE5hbWVSZXNvbHZlci5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgZG5zXzEuZGVmYXVsdC5sb29rdXAoYWRkcmVzcy5ob3N0KCksIHsgYWxsOiB0cnVlIH0sIGZ1bmN0aW9uIChlcnJvciwgcmVzb2x2ZWRUbykge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFthZGRyZXNzXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZWRBZGRyZXNzZXMgPSByZXNvbHZlZFRvLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZHJlc3MucmVzb2x2ZVdpdGgoYS5hZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzb2x2ZWRBZGRyZXNzZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBOb2RlSG9zdE5hbWVSZXNvbHZlcjtcbn0oQmFzZUhvc3ROYW1lUmVzb2x2ZXIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5vZGVIb3N0TmFtZVJlc29sdmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js":
/*!***********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar channel_buf_1 = __importDefault(__webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar buffer_1 = __importDefault(__webpack_require__(/*! buffer */ \"buffer\"));\nvar string_decoder_1 = __webpack_require__(/*! string_decoder */ \"string_decoder\");\nvar decoder = new string_decoder_1.StringDecoder('utf8');\nfunction encode(str) {\n    return new channel_buf_1.default(newBuffer(str));\n}\nfunction decode(buffer, length) {\n    if (Object.prototype.hasOwnProperty.call(buffer, '_buffer')) {\n        return decodeChannelBuffer(buffer, length);\n    }\n    else if (Object.prototype.hasOwnProperty.call(buffer, '_buffers')) {\n        return decodeCombinedBuffer(buffer, length);\n    }\n    else {\n        throw (0, neo4j_driver_core_1.newError)(\"Don't know how to decode strings from '\".concat(buffer, \"'\"));\n    }\n}\nfunction decodeChannelBuffer(buffer, length) {\n    var start = buffer.position;\n    var end = start + length;\n    buffer.position = Math.min(end, buffer.length);\n    return buffer._buffer.toString('utf8', start, end);\n}\nfunction decodeCombinedBuffer(buffer, length) {\n    return streamDecodeCombinedBuffer(buffer, length, function (partBuffer) { return decoder.write(partBuffer._buffer); }, function () { return decoder.end(); });\n}\nfunction streamDecodeCombinedBuffer(combinedBuffers, length, decodeFn, endFn) {\n    var remainingBytesToRead = length;\n    var position = combinedBuffers.position;\n    combinedBuffers._updatePos(Math.min(length, combinedBuffers.length - position));\n    // Reduce CombinedBuffers to a decoded string\n    var out = combinedBuffers._buffers.reduce(function (last, partBuffer) {\n        if (remainingBytesToRead <= 0) {\n            return last;\n        }\n        else if (position >= partBuffer.length) {\n            position -= partBuffer.length;\n            return '';\n        }\n        else {\n            partBuffer._updatePos(position - partBuffer.position);\n            var bytesToRead = Math.min(partBuffer.length - position, remainingBytesToRead);\n            var lastSlice = partBuffer.readSlice(bytesToRead);\n            partBuffer._updatePos(bytesToRead);\n            remainingBytesToRead = Math.max(remainingBytesToRead - lastSlice.length, 0);\n            position = 0;\n            return last + decodeFn(lastSlice);\n        }\n    }, '');\n    return out + endFn();\n}\nfunction newBuffer(str) {\n    // use static factory function present in newer NodeJS versions to create a buffer containing the given string\n    // or fallback to the old, potentially deprecated constructor\n    if (typeof buffer_1.default.Buffer.from === 'function') {\n        return buffer_1.default.Buffer.from(str, 'utf8');\n    }\n    else {\n        // eslint-disable-next-line n/no-deprecated-api\n        return new buffer_1.default.Buffer(str, 'utf8');\n    }\n}\nexports[\"default\"] = {\n    encode: encode,\n    decode: decode\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC91dGY4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQ0FBb0MsbUJBQU8sQ0FBQyxtR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsK0JBQStCLG1CQUFPLENBQUMsc0JBQVE7QUFDL0MsdUJBQXVCLG1CQUFPLENBQUMsc0NBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDJDQUEyQyxnQkFBZ0IsdUJBQXVCO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC91dGY4LmpzP2JkZGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNoYW5uZWxfYnVmXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY2hhbm5lbC1idWZcIikpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgYnVmZmVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImJ1ZmZlclwiKSk7XG52YXIgc3RyaW5nX2RlY29kZXJfMSA9IHJlcXVpcmUoXCJzdHJpbmdfZGVjb2RlclwiKTtcbnZhciBkZWNvZGVyID0gbmV3IHN0cmluZ19kZWNvZGVyXzEuU3RyaW5nRGVjb2RlcigndXRmOCcpO1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICAgIHJldHVybiBuZXcgY2hhbm5lbF9idWZfMS5kZWZhdWx0KG5ld0J1ZmZlcihzdHIpKTtcbn1cbmZ1bmN0aW9uIGRlY29kZShidWZmZXIsIGxlbmd0aCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYnVmZmVyLCAnX2J1ZmZlcicpKSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVDaGFubmVsQnVmZmVyKGJ1ZmZlciwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGJ1ZmZlciwgJ19idWZmZXJzJykpIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUNvbWJpbmVkQnVmZmVyKGJ1ZmZlciwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIkRvbid0IGtub3cgaG93IHRvIGRlY29kZSBzdHJpbmdzIGZyb20gJ1wiLmNvbmNhdChidWZmZXIsIFwiJ1wiKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVjb2RlQ2hhbm5lbEJ1ZmZlcihidWZmZXIsIGxlbmd0aCkge1xuICAgIHZhciBzdGFydCA9IGJ1ZmZlci5wb3NpdGlvbjtcbiAgICB2YXIgZW5kID0gc3RhcnQgKyBsZW5ndGg7XG4gICAgYnVmZmVyLnBvc2l0aW9uID0gTWF0aC5taW4oZW5kLCBidWZmZXIubGVuZ3RoKTtcbiAgICByZXR1cm4gYnVmZmVyLl9idWZmZXIudG9TdHJpbmcoJ3V0ZjgnLCBzdGFydCwgZW5kKTtcbn1cbmZ1bmN0aW9uIGRlY29kZUNvbWJpbmVkQnVmZmVyKGJ1ZmZlciwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHN0cmVhbURlY29kZUNvbWJpbmVkQnVmZmVyKGJ1ZmZlciwgbGVuZ3RoLCBmdW5jdGlvbiAocGFydEJ1ZmZlcikgeyByZXR1cm4gZGVjb2Rlci53cml0ZShwYXJ0QnVmZmVyLl9idWZmZXIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWNvZGVyLmVuZCgpOyB9KTtcbn1cbmZ1bmN0aW9uIHN0cmVhbURlY29kZUNvbWJpbmVkQnVmZmVyKGNvbWJpbmVkQnVmZmVycywgbGVuZ3RoLCBkZWNvZGVGbiwgZW5kRm4pIHtcbiAgICB2YXIgcmVtYWluaW5nQnl0ZXNUb1JlYWQgPSBsZW5ndGg7XG4gICAgdmFyIHBvc2l0aW9uID0gY29tYmluZWRCdWZmZXJzLnBvc2l0aW9uO1xuICAgIGNvbWJpbmVkQnVmZmVycy5fdXBkYXRlUG9zKE1hdGgubWluKGxlbmd0aCwgY29tYmluZWRCdWZmZXJzLmxlbmd0aCAtIHBvc2l0aW9uKSk7XG4gICAgLy8gUmVkdWNlIENvbWJpbmVkQnVmZmVycyB0byBhIGRlY29kZWQgc3RyaW5nXG4gICAgdmFyIG91dCA9IGNvbWJpbmVkQnVmZmVycy5fYnVmZmVycy5yZWR1Y2UoZnVuY3Rpb24gKGxhc3QsIHBhcnRCdWZmZXIpIHtcbiAgICAgICAgaWYgKHJlbWFpbmluZ0J5dGVzVG9SZWFkIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uID49IHBhcnRCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiAtPSBwYXJ0QnVmZmVyLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnRCdWZmZXIuX3VwZGF0ZVBvcyhwb3NpdGlvbiAtIHBhcnRCdWZmZXIucG9zaXRpb24pO1xuICAgICAgICAgICAgdmFyIGJ5dGVzVG9SZWFkID0gTWF0aC5taW4ocGFydEJ1ZmZlci5sZW5ndGggLSBwb3NpdGlvbiwgcmVtYWluaW5nQnl0ZXNUb1JlYWQpO1xuICAgICAgICAgICAgdmFyIGxhc3RTbGljZSA9IHBhcnRCdWZmZXIucmVhZFNsaWNlKGJ5dGVzVG9SZWFkKTtcbiAgICAgICAgICAgIHBhcnRCdWZmZXIuX3VwZGF0ZVBvcyhieXRlc1RvUmVhZCk7XG4gICAgICAgICAgICByZW1haW5pbmdCeXRlc1RvUmVhZCA9IE1hdGgubWF4KHJlbWFpbmluZ0J5dGVzVG9SZWFkIC0gbGFzdFNsaWNlLmxlbmd0aCwgMCk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICByZXR1cm4gbGFzdCArIGRlY29kZUZuKGxhc3RTbGljZSk7XG4gICAgICAgIH1cbiAgICB9LCAnJyk7XG4gICAgcmV0dXJuIG91dCArIGVuZEZuKCk7XG59XG5mdW5jdGlvbiBuZXdCdWZmZXIoc3RyKSB7XG4gICAgLy8gdXNlIHN0YXRpYyBmYWN0b3J5IGZ1bmN0aW9uIHByZXNlbnQgaW4gbmV3ZXIgTm9kZUpTIHZlcnNpb25zIHRvIGNyZWF0ZSBhIGJ1ZmZlciBjb250YWluaW5nIHRoZSBnaXZlbiBzdHJpbmdcbiAgICAvLyBvciBmYWxsYmFjayB0byB0aGUgb2xkLCBwb3RlbnRpYWxseSBkZXByZWNhdGVkIGNvbnN0cnVjdG9yXG4gICAgaWYgKHR5cGVvZiBidWZmZXJfMS5kZWZhdWx0LkJ1ZmZlci5mcm9tID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBidWZmZXJfMS5kZWZhdWx0LkJ1ZmZlci5mcm9tKHN0ciwgJ3V0ZjgnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuL25vLWRlcHJlY2F0ZWQtYXBpXG4gICAgICAgIHJldHVybiBuZXcgYnVmZmVyXzEuZGVmYXVsdC5CdWZmZXIoc3RyLCAndXRmOCcpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICBlbmNvZGU6IGVuY29kZSxcbiAgICBkZWNvZGU6IGRlY29kZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\n/**\n * Class which provides Authorization for {@link Connection}\n */\nvar AuthenticationProvider = /** @class */ (function () {\n    function AuthenticationProvider(_a) {\n        var authTokenManager = _a.authTokenManager, userAgent = _a.userAgent, boltAgent = _a.boltAgent;\n        this._authTokenManager = authTokenManager || (0, neo4j_driver_core_1.staticAuthTokenManager)({});\n        this._userAgent = userAgent;\n        this._boltAgent = boltAgent;\n    }\n    AuthenticationProvider.prototype.authenticate = function (_a) {\n        var connection = _a.connection, auth = _a.auth, skipReAuth = _a.skipReAuth, waitReAuth = _a.waitReAuth, forceReAuth = _a.forceReAuth;\n        return __awaiter(this, void 0, void 0, function () {\n            var shouldReAuth, authToken;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(auth != null)) return [3 /*break*/, 3];\n                        shouldReAuth = connection.supportsReAuth === true && ((!lang_1.object.equals(connection.authToken, auth) && skipReAuth !== true) ||\n                            forceReAuth === true);\n                        if (!(connection.authToken == null || shouldReAuth)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, connection.connect(this._userAgent, this._boltAgent, auth, waitReAuth || false)];\n                    case 1: return [2 /*return*/, _b.sent()];\n                    case 2: return [2 /*return*/, connection];\n                    case 3: return [4 /*yield*/, this._authTokenManager.getToken()];\n                    case 4:\n                        authToken = _b.sent();\n                        if (!!lang_1.object.equals(authToken, connection.authToken)) return [3 /*break*/, 6];\n                        return [4 /*yield*/, connection.connect(this._userAgent, this._boltAgent, authToken, false)];\n                    case 5: return [2 /*return*/, _b.sent()];\n                    case 6: return [2 /*return*/, connection];\n                }\n            });\n        });\n    };\n    AuthenticationProvider.prototype.handleError = function (_a) {\n        var connection = _a.connection, code = _a.code;\n        if (connection &&\n            code.startsWith('Neo.ClientError.Security.')) {\n            return this._authTokenManager.handleSecurityException(connection.authToken, code);\n        }\n        return false;\n    };\n    return AuthenticationProvider;\n}());\nexports[\"default\"] = AuthenticationProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9hdXRoZW50aWNhdGlvbi1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsYUFBYSxtQkFBTyxDQUFDLG9GQUFTO0FBQzlCO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9hdXRoZW50aWNhdGlvbi1wcm92aWRlci5qcz83ZDI3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoXCIuLi9sYW5nXCIpO1xuLyoqXG4gKiBDbGFzcyB3aGljaCBwcm92aWRlcyBBdXRob3JpemF0aW9uIGZvciB7QGxpbmsgQ29ubmVjdGlvbn1cbiAqL1xudmFyIEF1dGhlbnRpY2F0aW9uUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXV0aGVudGljYXRpb25Qcm92aWRlcihfYSkge1xuICAgICAgICB2YXIgYXV0aFRva2VuTWFuYWdlciA9IF9hLmF1dGhUb2tlbk1hbmFnZXIsIHVzZXJBZ2VudCA9IF9hLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2EuYm9sdEFnZW50O1xuICAgICAgICB0aGlzLl9hdXRoVG9rZW5NYW5hZ2VyID0gYXV0aFRva2VuTWFuYWdlciB8fCAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5zdGF0aWNBdXRoVG9rZW5NYW5hZ2VyKSh7fSk7XG4gICAgICAgIHRoaXMuX3VzZXJBZ2VudCA9IHVzZXJBZ2VudDtcbiAgICAgICAgdGhpcy5fYm9sdEFnZW50ID0gYm9sdEFnZW50O1xuICAgIH1cbiAgICBBdXRoZW50aWNhdGlvblByb3ZpZGVyLnByb3RvdHlwZS5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBfYS5jb25uZWN0aW9uLCBhdXRoID0gX2EuYXV0aCwgc2tpcFJlQXV0aCA9IF9hLnNraXBSZUF1dGgsIHdhaXRSZUF1dGggPSBfYS53YWl0UmVBdXRoLCBmb3JjZVJlQXV0aCA9IF9hLmZvcmNlUmVBdXRoO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2hvdWxkUmVBdXRoLCBhdXRoVG9rZW47XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShhdXRoICE9IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJlQXV0aCA9IGNvbm5lY3Rpb24uc3VwcG9ydHNSZUF1dGggPT09IHRydWUgJiYgKCghbGFuZ18xLm9iamVjdC5lcXVhbHMoY29ubmVjdGlvbi5hdXRoVG9rZW4sIGF1dGgpICYmIHNraXBSZUF1dGggIT09IHRydWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VSZUF1dGggPT09IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29ubmVjdGlvbi5hdXRoVG9rZW4gPT0gbnVsbCB8fCBzaG91bGRSZUF1dGgpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbm5lY3Rpb24uY29ubmVjdCh0aGlzLl91c2VyQWdlbnQsIHRoaXMuX2JvbHRBZ2VudCwgYXV0aCwgd2FpdFJlQXV0aCB8fCBmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCBjb25uZWN0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9hdXRoVG9rZW5NYW5hZ2VyLmdldFRva2VuKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoVG9rZW4gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFsYW5nXzEub2JqZWN0LmVxdWFscyhhdXRoVG9rZW4sIGNvbm5lY3Rpb24uYXV0aFRva2VuKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjb25uZWN0aW9uLmNvbm5lY3QodGhpcy5fdXNlckFnZW50LCB0aGlzLl9ib2x0QWdlbnQsIGF1dGhUb2tlbiwgZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qLywgY29ubmVjdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXV0aGVudGljYXRpb25Qcm92aWRlci5wcm90b3R5cGUuaGFuZGxlRXJyb3IgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBfYS5jb25uZWN0aW9uLCBjb2RlID0gX2EuY29kZTtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24gJiZcbiAgICAgICAgICAgIGNvZGUuc3RhcnRzV2l0aCgnTmVvLkNsaWVudEVycm9yLlNlY3VyaXR5LicpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aFRva2VuTWFuYWdlci5oYW5kbGVTZWN1cml0eUV4Y2VwdGlvbihjb25uZWN0aW9uLmF1dGhUb2tlbiwgY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uUHJvdmlkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQXV0aGVudGljYXRpb25Qcm92aWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar ClientCertificateHolder = /** @class */ (function () {\n    function ClientCertificateHolder(_a) {\n        var clientCertificateProvider = _a.clientCertificateProvider, loader = _a.loader;\n        this._clientCertificateProvider = clientCertificateProvider;\n        this._loader = loader || channel_1.ClientCertificatesLoader;\n        this._clientCertificate = null;\n    }\n    ClientCertificateHolder.prototype.getClientCertificate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = this._clientCertificateProvider != null;\n                        if (!_a) return [3 /*break*/, 3];\n                        _b = this._clientCertificate == null;\n                        if (_b) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._clientCertificateProvider.hasUpdate()];\n                    case 1:\n                        _b = (_c.sent());\n                        _c.label = 2;\n                    case 2:\n                        _a = (_b);\n                        _c.label = 3;\n                    case 3:\n                        if (_a) {\n                            this._clientCertificate = Promise.resolve(this._clientCertificateProvider.getClientCertificate())\n                                .then(this._loader.load)\n                                .then(function (clientCertificate) {\n                                _this._clientCertificate = clientCertificate;\n                                return _this._clientCertificate;\n                            })\n                                .catch(function (error) {\n                                _this._clientCertificate = null;\n                                throw error;\n                            });\n                        }\n                        return [2 /*return*/, this._clientCertificate];\n                }\n            });\n        });\n    };\n    return ClientCertificateHolder;\n}());\nexports[\"default\"] = ClientCertificateHolder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jbGllbnQtY2VydGlmaWNhdGUtaG9sZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLDBGQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jbGllbnQtY2VydGlmaWNhdGUtaG9sZGVyLmpzPzgwNzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGNoYW5uZWxfMSA9IHJlcXVpcmUoXCIuLi9jaGFubmVsXCIpO1xudmFyIENsaWVudENlcnRpZmljYXRlSG9sZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENsaWVudENlcnRpZmljYXRlSG9sZGVyKF9hKSB7XG4gICAgICAgIHZhciBjbGllbnRDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gX2EuY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlciwgbG9hZGVyID0gX2EubG9hZGVyO1xuICAgICAgICB0aGlzLl9jbGllbnRDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlcjtcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbG9hZGVyIHx8IGNoYW5uZWxfMS5DbGllbnRDZXJ0aWZpY2F0ZXNMb2FkZXI7XG4gICAgICAgIHRoaXMuX2NsaWVudENlcnRpZmljYXRlID0gbnVsbDtcbiAgICB9XG4gICAgQ2xpZW50Q2VydGlmaWNhdGVIb2xkZXIucHJvdG90eXBlLmdldENsaWVudENlcnRpZmljYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcy5fY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlciAhPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfYSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IHRoaXMuX2NsaWVudENlcnRpZmljYXRlID09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2IpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlci5oYXNVcGRhdGUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gKF9jLnNlbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gKF9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50Q2VydGlmaWNhdGUgPSBQcm9taXNlLnJlc29sdmUodGhpcy5fY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlci5nZXRDbGllbnRDZXJ0aWZpY2F0ZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbih0aGlzLl9sb2FkZXIubG9hZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNsaWVudENlcnRpZmljYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9jbGllbnRDZXJ0aWZpY2F0ZSA9IGNsaWVudENlcnRpZmljYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2NsaWVudENlcnRpZmljYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NsaWVudENlcnRpZmljYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5fY2xpZW50Q2VydGlmaWNhdGVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBDbGllbnRDZXJ0aWZpY2F0ZUhvbGRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDbGllbnRDZXJ0aWZpY2F0ZUhvbGRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar connection_provider_pooled_1 = __importDefault(__webpack_require__(/*! ./connection-provider-pooled */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\"));\nvar connection_1 = __webpack_require__(/*! ../connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V3 = _a.BOLT_PROTOCOL_V3, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4, BOLT_PROTOCOL_V5_1 = _a.BOLT_PROTOCOL_V5_1;\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar DirectConnectionProvider = /** @class */ (function (_super) {\n    __extends(DirectConnectionProvider, _super);\n    function DirectConnectionProvider(_a) {\n        var id = _a.id, config = _a.config, log = _a.log, address = _a.address, userAgent = _a.userAgent, boltAgent = _a.boltAgent, authTokenManager = _a.authTokenManager, newPool = _a.newPool;\n        var _this = _super.call(this, { id: id, config: config, log: log, userAgent: userAgent, boltAgent: boltAgent, authTokenManager: authTokenManager, newPool: newPool }) || this;\n        _this._address = address;\n        return _this;\n    }\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    DirectConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, auth = _b.auth, forceReAuth = _b.forceReAuth;\n        return __awaiter(this, void 0, void 0, function () {\n            var databaseSpecificErrorHandler, connection;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        databaseSpecificErrorHandler = connection_1.ConnectionErrorHandler.create({\n                            errorCode: SERVICE_UNAVAILABLE,\n                            handleSecurityError: function (error, address, conn) {\n                                return _this._handleSecurityError(error, address, conn, database);\n                            }\n                        });\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth, forceReAuth: forceReAuth }, this._address)];\n                    case 1:\n                        connection = _c.sent();\n                        if (!auth) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._verifyStickyConnection({\n                                auth: auth,\n                                connection: connection,\n                                address: this._address\n                            })];\n                    case 2:\n                        _c.sent();\n                        return [2 /*return*/, connection];\n                    case 3: return [2 /*return*/, new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler)];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype._handleSecurityError = function (error, address, connection, database) {\n        this._log.warn(\"Direct driver \".concat(this._id, \" will close connection to \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        return _super.prototype._handleSecurityError.call(this, error, address, connection);\n    };\n    DirectConnectionProvider.prototype._hasProtocolVersion = function (versionPredicate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, protocolVersion;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._createChannelConnection(this._address)];\n                    case 1:\n                        connection = _a.sent();\n                        protocolVersion = connection.protocol()\n                            ? connection.protocol().version\n                            : null;\n                        return [4 /*yield*/, connection.close()];\n                    case 2:\n                        _a.sent();\n                        if (protocolVersion) {\n                            return [2 /*return*/, versionPredicate(protocolVersion)];\n                        }\n                        return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsMultiDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_0; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.getNegotiatedProtocolVersion = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._hasProtocolVersion(resolve)\n                .catch(reject);\n        });\n    };\n    DirectConnectionProvider.prototype.supportsTransactionConfig = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V3; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsUserImpersonation = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_4; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsSessionAuth = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V5_1; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.verifyAuthentication = function (_a) {\n        var auth = _a.auth;\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_b) {\n                return [2 /*return*/, this._verifyAuthentication({\n                        auth: auth,\n                        getAddress: function () { return _this._address; }\n                    })];\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.verifyConnectivityAndGetServerInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._verifyConnectivityAndGetServerVersion({ address: this._address })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    return DirectConnectionProvider;\n}(connection_provider_pooled_1.default));\nexports[\"default\"] = DirectConnectionProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLWRpcmVjdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1EQUFtRCxtQkFBTyxDQUFDLDZJQUE4QjtBQUN6RixtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG9JQUFvSTtBQUM1SztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMEJBQTBCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLDRFQUE0RSxzQ0FBc0M7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHVDQUF1QztBQUN0STtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixxQ0FBcUM7QUFDcEk7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRix1Q0FBdUM7QUFDdEk7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRix1Q0FBdUM7QUFDdEk7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxxQkFBcUI7QUFDckIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHdCQUF3QjtBQUN2SDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uLXByb3ZpZGVyL2Nvbm5lY3Rpb24tcHJvdmlkZXItZGlyZWN0LmpzP2RkNDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb25uZWN0aW9uX3Byb3ZpZGVyX3Bvb2xlZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tcHJvdmlkZXItcG9vbGVkXCIpKTtcbnZhciBjb25uZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vY29ubmVjdGlvblwiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIF9hID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMsIEJPTFRfUFJPVE9DT0xfVjMgPSBfYS5CT0xUX1BST1RPQ09MX1YzLCBCT0xUX1BST1RPQ09MX1Y0XzAgPSBfYS5CT0xUX1BST1RPQ09MX1Y0XzAsIEJPTFRfUFJPVE9DT0xfVjRfNCA9IF9hLkJPTFRfUFJPVE9DT0xfVjRfNCwgQk9MVF9QUk9UT0NPTF9WNV8xID0gX2EuQk9MVF9QUk9UT0NPTF9WNV8xO1xudmFyIFNFUlZJQ0VfVU5BVkFJTEFCTEUgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlNFUlZJQ0VfVU5BVkFJTEFCTEU7XG52YXIgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyKF9hKSB7XG4gICAgICAgIHZhciBpZCA9IF9hLmlkLCBjb25maWcgPSBfYS5jb25maWcsIGxvZyA9IF9hLmxvZywgYWRkcmVzcyA9IF9hLmFkZHJlc3MsIHVzZXJBZ2VudCA9IF9hLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2EuYm9sdEFnZW50LCBhdXRoVG9rZW5NYW5hZ2VyID0gX2EuYXV0aFRva2VuTWFuYWdlciwgbmV3UG9vbCA9IF9hLm5ld1Bvb2w7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHsgaWQ6IGlkLCBjb25maWc6IGNvbmZpZywgbG9nOiBsb2csIHVzZXJBZ2VudDogdXNlckFnZW50LCBib2x0QWdlbnQ6IGJvbHRBZ2VudCwgYXV0aFRva2VuTWFuYWdlcjogYXV0aFRva2VuTWFuYWdlciwgbmV3UG9vbDogbmV3UG9vbCB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlIHtAbGluayBDb25uZWN0aW9uUHJvdmlkZXJ9IGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgbWV0aG9kIGFuZFxuICAgICAqIGl0cyBhcmd1bWVudHMuXG4gICAgICovXG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5hY3F1aXJlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYWNjZXNzTW9kZSA9IF9iLmFjY2Vzc01vZGUsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgYXV0aCA9IF9iLmF1dGgsIGZvcmNlUmVBdXRoID0gX2IuZm9yY2VSZUF1dGg7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyLCBjb25uZWN0aW9uO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIgPSBjb25uZWN0aW9uXzEuQ29ubmVjdGlvbkVycm9ySGFuZGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZTogU0VSVklDRV9VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWN1cml0eUVycm9yOiBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGNvbm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVTZWN1cml0eUVycm9yKGVycm9yLCBhZGRyZXNzLCBjb25uLCBkYXRhYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jb25uZWN0aW9uUG9vbC5hY3F1aXJlKHsgYXV0aDogYXV0aCwgZm9yY2VSZUF1dGg6IGZvcmNlUmVBdXRoIH0sIHRoaXMuX2FkZHJlc3MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXV0aCkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl92ZXJpZnlTdGlja3lDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogYXV0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5fYWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbm5lY3Rpb25dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgY29ubmVjdGlvbl8xLkRlbGVnYXRlQ29ubmVjdGlvbihjb25uZWN0aW9uLCBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFuZGxlU2VjdXJpdHlFcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbiwgZGF0YWJhc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nLndhcm4oXCJEaXJlY3QgZHJpdmVyIFwiLmNvbmNhdCh0aGlzLl9pZCwgXCIgd2lsbCBjbG9zZSBjb25uZWN0aW9uIHRvIFwiKS5jb25jYXQoYWRkcmVzcywgXCIgZm9yIGRhdGFiYXNlICdcIikuY29uY2F0KGRhdGFiYXNlLCBcIicgYmVjYXVzZSBvZiBhbiBlcnJvciBcIikuY29uY2F0KGVycm9yLmNvZGUsIFwiICdcIikuY29uY2F0KGVycm9yLm1lc3NhZ2UsIFwiJ1wiKSk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl9oYW5kbGVTZWN1cml0eUVycm9yLmNhbGwodGhpcywgZXJyb3IsIGFkZHJlc3MsIGNvbm5lY3Rpb24pO1xuICAgIH07XG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFzUHJvdG9jb2xWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25QcmVkaWNhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb24sIHByb3RvY29sVmVyc2lvbjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb24odGhpcy5fYWRkcmVzcyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2xWZXJzaW9uID0gY29ubmVjdGlvbi5wcm90b2NvbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjb25uZWN0aW9uLnByb3RvY29sKCkudmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbm5lY3Rpb24uY2xvc2UoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm90b2NvbFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdmVyc2lvblByZWRpY2F0ZShwcm90b2NvbFZlcnNpb24pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5zdXBwb3J0c011bHRpRGIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKGZ1bmN0aW9uICh2ZXJzaW9uKSB7IHJldHVybiB2ZXJzaW9uID49IEJPTFRfUFJPVE9DT0xfVjRfMDsgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuZ2V0TmVnb3RpYXRlZFByb3RvY29sVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLl9oYXNQcm90b2NvbFZlcnNpb24ocmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnN1cHBvcnRzVHJhbnNhY3Rpb25Db25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKGZ1bmN0aW9uICh2ZXJzaW9uKSB7IHJldHVybiB2ZXJzaW9uID49IEJPTFRfUFJPVE9DT0xfVjM7IH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnN1cHBvcnRzVXNlckltcGVyc29uYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKGZ1bmN0aW9uICh2ZXJzaW9uKSB7IHJldHVybiB2ZXJzaW9uID49IEJPTFRfUFJPVE9DT0xfVjRfNDsgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuc3VwcG9ydHNTZXNzaW9uQXV0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9oYXNQcm90b2NvbFZlcnNpb24oZnVuY3Rpb24gKHZlcnNpb24pIHsgcmV0dXJuIHZlcnNpb24gPj0gQk9MVF9QUk9UT0NPTF9WNV8xOyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS52ZXJpZnlBdXRoZW50aWNhdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgYXV0aCA9IF9hLmF1dGg7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX3ZlcmlmeUF1dGhlbnRpY2F0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IGF1dGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRBZGRyZXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYWRkcmVzczsgfVxuICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnZlcmlmeUNvbm5lY3Rpdml0eUFuZEdldFNlcnZlckluZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fdmVyaWZ5Q29ubmVjdGl2aXR5QW5kR2V0U2VydmVyVmVyc2lvbih7IGFkZHJlc3M6IHRoaXMuX2FkZHJlc3MgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXI7XG59KGNvbm5lY3Rpb25fcHJvdmlkZXJfcG9vbGVkXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar connection_1 = __webpack_require__(/*! ../connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar authentication_provider_1 = __importDefault(__webpack_require__(/*! ./authentication-provider */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js\"));\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\nvar liveness_check_provider_1 = __importDefault(__webpack_require__(/*! ./liveness-check-provider */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js\"));\nvar client_certificate_holder_1 = __importDefault(__webpack_require__(/*! ./client-certificate-holder */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js\"));\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar AUTHENTICATION_ERRORS = [\n    'Neo.ClientError.Security.CredentialsExpired',\n    'Neo.ClientError.Security.Forbidden',\n    'Neo.ClientError.Security.TokenExpired',\n    'Neo.ClientError.Security.Unauthorized'\n];\nvar _a = neo4j_driver_core_1.internal.pool, Pool = _a.Pool, PoolConfig = _a.PoolConfig;\nvar PooledConnectionProvider = /** @class */ (function (_super) {\n    __extends(PooledConnectionProvider, _super);\n    function PooledConnectionProvider(_a, createChannelConnectionHook) {\n        var id = _a.id, config = _a.config, log = _a.log, userAgent = _a.userAgent, boltAgent = _a.boltAgent, authTokenManager = _a.authTokenManager, _b = _a.newPool, newPool = _b === void 0 ? function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new (Pool.bind.apply(Pool, __spreadArray([void 0], __read(args), false)))();\n        } : _b;\n        if (createChannelConnectionHook === void 0) { createChannelConnectionHook = null; }\n        var _this = _super.call(this) || this;\n        _this._id = id;\n        _this._config = config;\n        _this._log = log;\n        _this._clientCertificateHolder = new client_certificate_holder_1.default({ clientCertificateProvider: _this._config.clientCertificate });\n        _this._authenticationProvider = new authentication_provider_1.default({ authTokenManager: authTokenManager, userAgent: userAgent, boltAgent: boltAgent });\n        _this._livenessCheckProvider = new liveness_check_provider_1.default({ connectionLivenessCheckTimeout: config.connectionLivenessCheckTimeout });\n        _this._userAgent = userAgent;\n        _this._boltAgent = boltAgent;\n        _this._createChannelConnection =\n            createChannelConnectionHook ||\n                (function (address) { return __awaiter(_this, void 0, void 0, function () {\n                    var _a, _b;\n                    return __generator(this, function (_c) {\n                        switch (_c.label) {\n                            case 0:\n                                _a = connection_1.createChannelConnection;\n                                _b = [address,\n                                    this._config,\n                                    this._createConnectionErrorHandler(),\n                                    this._log];\n                                return [4 /*yield*/, this._clientCertificateHolder.getClientCertificate()];\n                            case 1: return [2 /*return*/, _a.apply(void 0, _b.concat([_c.sent()]))];\n                        }\n                    });\n                }); });\n        _this._connectionPool = newPool({\n            create: _this._createConnection.bind(_this),\n            destroy: _this._destroyConnection.bind(_this),\n            validateOnAcquire: _this._validateConnectionOnAcquire.bind(_this),\n            validateOnRelease: _this._validateConnectionOnRelease.bind(_this),\n            installIdleObserver: PooledConnectionProvider._installIdleObserverOnConnection.bind(_this),\n            removeIdleObserver: PooledConnectionProvider._removeIdleObserverOnConnection.bind(_this),\n            config: PoolConfig.fromDriverConfig(config),\n            log: _this._log\n        });\n        _this._openConnections = {};\n        return _this;\n    }\n    PooledConnectionProvider.prototype._createConnectionErrorHandler = function () {\n        return new connection_1.ConnectionErrorHandler(SERVICE_UNAVAILABLE);\n    };\n    PooledConnectionProvider.prototype._getClientCertificate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._config.clientCertificate.getClientCertificate()];\n            });\n        });\n    };\n    /**\n     * Create a new connection and initialize it.\n     * @return {Promise<Connection>} promise resolved with a new connection or rejected when failed to connect.\n     * @access private\n     */\n    PooledConnectionProvider.prototype._createConnection = function (_a, address, release) {\n        var _this = this;\n        var auth = _a.auth;\n        return this._createChannelConnection(address).then(function (connection) {\n            connection.release = function () {\n                connection.idleTimestamp = Date.now();\n                return release(address, connection);\n            };\n            _this._openConnections[connection.id] = connection;\n            return _this._authenticationProvider.authenticate({ connection: connection, auth: auth })\n                .catch(function (error) {\n                // let's destroy this connection\n                _this._destroyConnection(connection);\n                // propagate the error because connection failed to connect / initialize\n                throw error;\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._validateConnectionOnAcquire = function (_a, conn) {\n        var auth = _a.auth, skipReAuth = _a.skipReAuth;\n        return __awaiter(this, void 0, void 0, function () {\n            var error_1, error_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!this._validateConnection(conn)) {\n                            return [2 /*return*/, false];\n                        }\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._livenessCheckProvider.check(conn)];\n                    case 2:\n                        _b.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _b.sent();\n                        this._log.debug(\"The connection \".concat(conn.id, \" is not alive because of an error \").concat(error_1.code, \" '\").concat(error_1.message, \"'\"));\n                        return [2 /*return*/, false];\n                    case 4:\n                        _b.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this._authenticationProvider.authenticate({ connection: conn, auth: auth, skipReAuth: skipReAuth })];\n                    case 5:\n                        _b.sent();\n                        return [2 /*return*/, true];\n                    case 6:\n                        error_2 = _b.sent();\n                        this._log.debug(\"The connection \".concat(conn.id, \" is not valid because of an error \").concat(error_2.code, \" '\").concat(error_2.message, \"'\"));\n                        return [2 /*return*/, false];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._validateConnectionOnRelease = function (conn) {\n        return conn._sticky !== true && this._validateConnection(conn);\n    };\n    /**\n     * Check that a connection is usable\n     * @return {boolean} true if the connection is open\n     * @access private\n     **/\n    PooledConnectionProvider.prototype._validateConnection = function (conn) {\n        if (!conn.isOpen()) {\n            return false;\n        }\n        var maxConnectionLifetime = this._config.maxConnectionLifetime;\n        var lifetime = Date.now() - conn.creationTimestamp;\n        if (lifetime > maxConnectionLifetime) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Dispose of a connection.\n     * @return {Connection} the connection to dispose.\n     * @access private\n     */\n    PooledConnectionProvider.prototype._destroyConnection = function (conn) {\n        delete this._openConnections[conn.id];\n        return conn.close();\n    };\n    /**\n     * Acquire a connection from the pool and return it ServerInfo\n     * @param {object} param\n     * @param {string} param.address the server address\n     * @return {Promise<ServerInfo>} the server info\n     */\n    PooledConnectionProvider.prototype._verifyConnectivityAndGetServerVersion = function (_a) {\n        var address = _a.address;\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, serverInfo;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._connectionPool.acquire({}, address)];\n                    case 1:\n                        connection = _b.sent();\n                        serverInfo = new neo4j_driver_core_1.ServerInfo(connection.server, connection.protocol().version);\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 5, 7]);\n                        if (!!connection.protocol().isLastMessageLogon()) return [3 /*break*/, 4];\n                        return [4 /*yield*/, connection.resetAndFlush()];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4: return [3 /*break*/, 7];\n                    case 5: return [4 /*yield*/, connection.release()];\n                    case 6:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 7: return [2 /*return*/, serverInfo];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._verifyAuthentication = function (_a) {\n        var getAddress = _a.getAddress, auth = _a.auth;\n        return __awaiter(this, void 0, void 0, function () {\n            var connectionsToRelease, address, connection, lastMessageIsNotLogin, stickyConnection, error_3;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        connectionsToRelease = [];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 8, 9, 11]);\n                        return [4 /*yield*/, getAddress()];\n                    case 2:\n                        address = _b.sent();\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth, skipReAuth: true }, address)];\n                    case 3:\n                        connection = _b.sent();\n                        connectionsToRelease.push(connection);\n                        lastMessageIsNotLogin = !connection.protocol().isLastMessageLogon();\n                        if (!connection.supportsReAuth) {\n                            throw (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support user switch.');\n                        }\n                        if (!(lastMessageIsNotLogin && connection.supportsReAuth)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, this._authenticationProvider.authenticate({ connection: connection, auth: auth, waitReAuth: true, forceReAuth: true })];\n                    case 4:\n                        _b.sent();\n                        return [3 /*break*/, 7];\n                    case 5:\n                        if (!(lastMessageIsNotLogin && !connection.supportsReAuth)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth }, address, { requireNew: true })];\n                    case 6:\n                        stickyConnection = _b.sent();\n                        stickyConnection._sticky = true;\n                        connectionsToRelease.push(stickyConnection);\n                        _b.label = 7;\n                    case 7: return [2 /*return*/, true];\n                    case 8:\n                        error_3 = _b.sent();\n                        if (AUTHENTICATION_ERRORS.includes(error_3.code)) {\n                            return [2 /*return*/, false];\n                        }\n                        throw error_3;\n                    case 9: return [4 /*yield*/, Promise.all(connectionsToRelease.map(function (conn) { return conn.release(); }))];\n                    case 10:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 11: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._verifyStickyConnection = function (_a) {\n        var auth = _a.auth, connection = _a.connection, address = _a.address;\n        return __awaiter(this, void 0, void 0, function () {\n            var connectionWithSameCredentials, shouldCreateStickyConnection;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        connectionWithSameCredentials = lang_1.object.equals(auth, connection.authToken);\n                        shouldCreateStickyConnection = !connectionWithSameCredentials;\n                        connection._sticky = connectionWithSameCredentials && !connection.supportsReAuth;\n                        if (!(shouldCreateStickyConnection || connection._sticky)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, connection.release()];\n                    case 1:\n                        _b.sent();\n                        throw (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support user switch.');\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // purge all idle connections in the connection pool\n                    return [4 /*yield*/, this._connectionPool.close()\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                    ];\n                    case 1:\n                        // purge all idle connections in the connection pool\n                        _a.sent();\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                        return [4 /*yield*/, Promise.all(Object.values(this._openConnections).map(function (c) { return c.close(); }))];\n                    case 2:\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider._installIdleObserverOnConnection = function (conn, observer) {\n        conn._setIdle(observer);\n    };\n    PooledConnectionProvider._removeIdleObserverOnConnection = function (conn) {\n        conn._unsetIdle();\n    };\n    PooledConnectionProvider.prototype._handleSecurityError = function (error, address, connection) {\n        var handled = this._authenticationProvider.handleError({ connection: connection, code: error.code });\n        if (handled) {\n            error.retriable = true;\n        }\n        if (error.code === 'Neo.ClientError.Security.AuthorizationExpired') {\n            this._connectionPool.apply(address, function (conn) { conn.authToken = null; });\n        }\n        if (connection) {\n            connection.close().catch(function () { return undefined; });\n        }\n        return error;\n    };\n    return PooledConnectionProvider;\n}(neo4j_driver_core_1.ConnectionProvider));\nexports[\"default\"] = PooledConnectionProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXBvb2xlZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsT0FBTztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQixtQkFBTyxDQUFDLGdHQUFlO0FBQzFDLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCxnREFBZ0QsbUJBQU8sQ0FBQyx1SUFBMkI7QUFDbkYsYUFBYSxtQkFBTyxDQUFDLG9GQUFTO0FBQzlCLGdEQUFnRCxtQkFBTyxDQUFDLHVJQUEyQjtBQUNuRixrREFBa0QsbUJBQU8sQ0FBQywySUFBNkI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsNERBQTREO0FBQy9JLGdGQUFnRixnRkFBZ0Y7QUFDaEssK0VBQStFLHVFQUF1RTtBQUN0SjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCLElBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0Usb0NBQW9DO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixzREFBc0Q7QUFDL0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDhCQUE4QjtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLHlFQUF5RTtBQUNsSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLFlBQVksYUFBYSxrQkFBa0I7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLHdCQUF3QjtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUhBQWlILG1CQUFtQjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsMENBQTBDO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLHdCQUF3QjtBQUMxRjtBQUNBO0FBQ0EsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXBvb2xlZC5qcz8xYWRiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2Nvbm5lY3Rpb25cIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBhdXRoZW50aWNhdGlvbl9wcm92aWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2F1dGhlbnRpY2F0aW9uLXByb3ZpZGVyXCIpKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKFwiLi4vbGFuZ1wiKTtcbnZhciBsaXZlbmVzc19jaGVja19wcm92aWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xpdmVuZXNzLWNoZWNrLXByb3ZpZGVyXCIpKTtcbnZhciBjbGllbnRfY2VydGlmaWNhdGVfaG9sZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY2xpZW50LWNlcnRpZmljYXRlLWhvbGRlclwiKSk7XG52YXIgU0VSVklDRV9VTkFWQUlMQUJMRSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuU0VSVklDRV9VTkFWQUlMQUJMRTtcbnZhciBBVVRIRU5USUNBVElPTl9FUlJPUlMgPSBbXG4gICAgJ05lby5DbGllbnRFcnJvci5TZWN1cml0eS5DcmVkZW50aWFsc0V4cGlyZWQnLFxuICAgICdOZW8uQ2xpZW50RXJyb3IuU2VjdXJpdHkuRm9yYmlkZGVuJyxcbiAgICAnTmVvLkNsaWVudEVycm9yLlNlY3VyaXR5LlRva2VuRXhwaXJlZCcsXG4gICAgJ05lby5DbGllbnRFcnJvci5TZWN1cml0eS5VbmF1dGhvcml6ZWQnXG5dO1xudmFyIF9hID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5wb29sLCBQb29sID0gX2EuUG9vbCwgUG9vbENvbmZpZyA9IF9hLlBvb2xDb25maWc7XG52YXIgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyKF9hLCBjcmVhdGVDaGFubmVsQ29ubmVjdGlvbkhvb2spIHtcbiAgICAgICAgdmFyIGlkID0gX2EuaWQsIGNvbmZpZyA9IF9hLmNvbmZpZywgbG9nID0gX2EubG9nLCB1c2VyQWdlbnQgPSBfYS51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9hLmJvbHRBZ2VudCwgYXV0aFRva2VuTWFuYWdlciA9IF9hLmF1dGhUb2tlbk1hbmFnZXIsIF9iID0gX2EubmV3UG9vbCwgbmV3UG9vbCA9IF9iID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IChQb29sLmJpbmQuYXBwbHkoUG9vbCwgX19zcHJlYWRBcnJheShbdm9pZCAwXSwgX19yZWFkKGFyZ3MpLCBmYWxzZSkpKSgpO1xuICAgICAgICB9IDogX2I7XG4gICAgICAgIGlmIChjcmVhdGVDaGFubmVsQ29ubmVjdGlvbkhvb2sgPT09IHZvaWQgMCkgeyBjcmVhdGVDaGFubmVsQ29ubmVjdGlvbkhvb2sgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9pZCA9IGlkO1xuICAgICAgICBfdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICBfdGhpcy5fbG9nID0gbG9nO1xuICAgICAgICBfdGhpcy5fY2xpZW50Q2VydGlmaWNhdGVIb2xkZXIgPSBuZXcgY2xpZW50X2NlcnRpZmljYXRlX2hvbGRlcl8xLmRlZmF1bHQoeyBjbGllbnRDZXJ0aWZpY2F0ZVByb3ZpZGVyOiBfdGhpcy5fY29uZmlnLmNsaWVudENlcnRpZmljYXRlIH0pO1xuICAgICAgICBfdGhpcy5fYXV0aGVudGljYXRpb25Qcm92aWRlciA9IG5ldyBhdXRoZW50aWNhdGlvbl9wcm92aWRlcl8xLmRlZmF1bHQoeyBhdXRoVG9rZW5NYW5hZ2VyOiBhdXRoVG9rZW5NYW5hZ2VyLCB1c2VyQWdlbnQ6IHVzZXJBZ2VudCwgYm9sdEFnZW50OiBib2x0QWdlbnQgfSk7XG4gICAgICAgIF90aGlzLl9saXZlbmVzc0NoZWNrUHJvdmlkZXIgPSBuZXcgbGl2ZW5lc3NfY2hlY2tfcHJvdmlkZXJfMS5kZWZhdWx0KHsgY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0OiBjb25maWcuY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0IH0pO1xuICAgICAgICBfdGhpcy5fdXNlckFnZW50ID0gdXNlckFnZW50O1xuICAgICAgICBfdGhpcy5fYm9sdEFnZW50ID0gYm9sdEFnZW50O1xuICAgICAgICBfdGhpcy5fY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb24gPVxuICAgICAgICAgICAgY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb25Ib29rIHx8XG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChhZGRyZXNzKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gY29ubmVjdGlvbl8xLmNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYiA9IFthZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlQ29ubmVjdGlvbkVycm9ySGFuZGxlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY2xpZW50Q2VydGlmaWNhdGVIb2xkZXIuZ2V0Q2xpZW50Q2VydGlmaWNhdGUoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2EuYXBwbHkodm9pZCAwLCBfYi5jb25jYXQoW19jLnNlbnQoKV0pKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgX3RoaXMuX2Nvbm5lY3Rpb25Qb29sID0gbmV3UG9vbCh7XG4gICAgICAgICAgICBjcmVhdGU6IF90aGlzLl9jcmVhdGVDb25uZWN0aW9uLmJpbmQoX3RoaXMpLFxuICAgICAgICAgICAgZGVzdHJveTogX3RoaXMuX2Rlc3Ryb3lDb25uZWN0aW9uLmJpbmQoX3RoaXMpLFxuICAgICAgICAgICAgdmFsaWRhdGVPbkFjcXVpcmU6IF90aGlzLl92YWxpZGF0ZUNvbm5lY3Rpb25PbkFjcXVpcmUuYmluZChfdGhpcyksXG4gICAgICAgICAgICB2YWxpZGF0ZU9uUmVsZWFzZTogX3RoaXMuX3ZhbGlkYXRlQ29ubmVjdGlvbk9uUmVsZWFzZS5iaW5kKF90aGlzKSxcbiAgICAgICAgICAgIGluc3RhbGxJZGxlT2JzZXJ2ZXI6IFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5faW5zdGFsbElkbGVPYnNlcnZlck9uQ29ubmVjdGlvbi5iaW5kKF90aGlzKSxcbiAgICAgICAgICAgIHJlbW92ZUlkbGVPYnNlcnZlcjogUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLl9yZW1vdmVJZGxlT2JzZXJ2ZXJPbkNvbm5lY3Rpb24uYmluZChfdGhpcyksXG4gICAgICAgICAgICBjb25maWc6IFBvb2xDb25maWcuZnJvbURyaXZlckNvbmZpZyhjb25maWcpLFxuICAgICAgICAgICAgbG9nOiBfdGhpcy5fbG9nXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5fb3BlbkNvbm5lY3Rpb25zID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fY3JlYXRlQ29ubmVjdGlvbkVycm9ySGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjb25uZWN0aW9uXzEuQ29ubmVjdGlvbkVycm9ySGFuZGxlcihTRVJWSUNFX1VOQVZBSUxBQkxFKTtcbiAgICB9O1xuICAgIFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2dldENsaWVudENlcnRpZmljYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX2NvbmZpZy5jbGllbnRDZXJ0aWZpY2F0ZS5nZXRDbGllbnRDZXJ0aWZpY2F0ZSgpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb25uZWN0aW9uIGFuZCBpbml0aWFsaXplIGl0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8Q29ubmVjdGlvbj59IHByb21pc2UgcmVzb2x2ZWQgd2l0aCBhIG5ldyBjb25uZWN0aW9uIG9yIHJlamVjdGVkIHdoZW4gZmFpbGVkIHRvIGNvbm5lY3QuXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fY3JlYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChfYSwgYWRkcmVzcywgcmVsZWFzZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXV0aCA9IF9hLmF1dGg7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVDaGFubmVsQ29ubmVjdGlvbihhZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5pZGxlVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsZWFzZShhZGRyZXNzLCBjb25uZWN0aW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5fb3BlbkNvbm5lY3Rpb25zW2Nvbm5lY3Rpb24uaWRdID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fYXV0aGVudGljYXRpb25Qcm92aWRlci5hdXRoZW50aWNhdGUoeyBjb25uZWN0aW9uOiBjb25uZWN0aW9uLCBhdXRoOiBhdXRoIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIGxldCdzIGRlc3Ryb3kgdGhpcyBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgX3RoaXMuX2Rlc3Ryb3lDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0aGUgZXJyb3IgYmVjYXVzZSBjb25uZWN0aW9uIGZhaWxlZCB0byBjb25uZWN0IC8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fdmFsaWRhdGVDb25uZWN0aW9uT25BY3F1aXJlID0gZnVuY3Rpb24gKF9hLCBjb25uKSB7XG4gICAgICAgIHZhciBhdXRoID0gX2EuYXV0aCwgc2tpcFJlQXV0aCA9IF9hLnNraXBSZUF1dGg7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlcnJvcl8xLCBlcnJvcl8yO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl92YWxpZGF0ZUNvbm5lY3Rpb24oY29ubikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fbGl2ZW5lc3NDaGVja1Byb3ZpZGVyLmNoZWNrKGNvbm4pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoXCJUaGUgY29ubmVjdGlvbiBcIi5jb25jYXQoY29ubi5pZCwgXCIgaXMgbm90IGFsaXZlIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIpLmNvbmNhdChlcnJvcl8xLmNvZGUsIFwiICdcIikuY29uY2F0KGVycm9yXzEubWVzc2FnZSwgXCInXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNCwgNiwgLCA3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9hdXRoZW50aWNhdGlvblByb3ZpZGVyLmF1dGhlbnRpY2F0ZSh7IGNvbm5lY3Rpb246IGNvbm4sIGF1dGg6IGF1dGgsIHNraXBSZUF1dGg6IHNraXBSZUF1dGggfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzIgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoXCJUaGUgY29ubmVjdGlvbiBcIi5jb25jYXQoY29ubi5pZCwgXCIgaXMgbm90IHZhbGlkIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIpLmNvbmNhdChlcnJvcl8yLmNvZGUsIFwiICdcIikuY29uY2F0KGVycm9yXzIubWVzc2FnZSwgXCInXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX3ZhbGlkYXRlQ29ubmVjdGlvbk9uUmVsZWFzZSA9IGZ1bmN0aW9uIChjb25uKSB7XG4gICAgICAgIHJldHVybiBjb25uLl9zdGlja3kgIT09IHRydWUgJiYgdGhpcy5fdmFsaWRhdGVDb25uZWN0aW9uKGNvbm4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhIGNvbm5lY3Rpb24gaXMgdXNhYmxlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29ubmVjdGlvbiBpcyBvcGVuXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICoqL1xuICAgIFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX3ZhbGlkYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChjb25uKSB7XG4gICAgICAgIGlmICghY29ubi5pc09wZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXhDb25uZWN0aW9uTGlmZXRpbWUgPSB0aGlzLl9jb25maWcubWF4Q29ubmVjdGlvbkxpZmV0aW1lO1xuICAgICAgICB2YXIgbGlmZXRpbWUgPSBEYXRlLm5vdygpIC0gY29ubi5jcmVhdGlvblRpbWVzdGFtcDtcbiAgICAgICAgaWYgKGxpZmV0aW1lID4gbWF4Q29ubmVjdGlvbkxpZmV0aW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIGEgY29ubmVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtDb25uZWN0aW9ufSB0aGUgY29ubmVjdGlvbiB0byBkaXNwb3NlLlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2Rlc3Ryb3lDb25uZWN0aW9uID0gZnVuY3Rpb24gKGNvbm4pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX29wZW5Db25uZWN0aW9uc1tjb25uLmlkXTtcbiAgICAgICAgcmV0dXJuIGNvbm4uY2xvc2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjcXVpcmUgYSBjb25uZWN0aW9uIGZyb20gdGhlIHBvb2wgYW5kIHJldHVybiBpdCBTZXJ2ZXJJbmZvXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLmFkZHJlc3MgdGhlIHNlcnZlciBhZGRyZXNzXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxTZXJ2ZXJJbmZvPn0gdGhlIHNlcnZlciBpbmZvXG4gICAgICovXG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fdmVyaWZ5Q29ubmVjdGl2aXR5QW5kR2V0U2VydmVyVmVyc2lvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgYWRkcmVzcyA9IF9hLmFkZHJlc3M7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb25uZWN0aW9uLCBzZXJ2ZXJJbmZvO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jb25uZWN0aW9uUG9vbC5hY3F1aXJlKHt9LCBhZGRyZXNzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJJbmZvID0gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuU2VydmVySW5mbyhjb25uZWN0aW9uLnNlcnZlciwgY29ubmVjdGlvbi5wcm90b2NvbCgpLnZlcnNpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzIsICwgNSwgN10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY29ubmVjdGlvbi5wcm90b2NvbCgpLmlzTGFzdE1lc3NhZ2VMb2dvbigpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbm5lY3Rpb24ucmVzZXRBbmRGbHVzaCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbm5lY3Rpb24ucmVsZWFzZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qLywgc2VydmVySW5mb107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fdmVyaWZ5QXV0aGVudGljYXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGdldEFkZHJlc3MgPSBfYS5nZXRBZGRyZXNzLCBhdXRoID0gX2EuYXV0aDtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb25zVG9SZWxlYXNlLCBhZGRyZXNzLCBjb25uZWN0aW9uLCBsYXN0TWVzc2FnZUlzTm90TG9naW4sIHN0aWNreUNvbm5lY3Rpb24sIGVycm9yXzM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1RvUmVsZWFzZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDgsIDksIDExXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRBZGRyZXNzKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY29ubmVjdGlvblBvb2wuYWNxdWlyZSh7IGF1dGg6IGF1dGgsIHNraXBSZUF1dGg6IHRydWUgfSwgYWRkcmVzcyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnNUb1JlbGVhc2UucHVzaChjb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlSXNOb3RMb2dpbiA9ICFjb25uZWN0aW9uLnByb3RvY29sKCkuaXNMYXN0TWVzc2FnZUxvZ29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb24uc3VwcG9ydHNSZUF1dGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0RyaXZlciBpcyBjb25uZWN0ZWQgdG8gYSBkYXRhYmFzZSB0aGF0IGRvZXMgbm90IHN1cHBvcnQgdXNlciBzd2l0Y2guJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShsYXN0TWVzc2FnZUlzTm90TG9naW4gJiYgY29ubmVjdGlvbi5zdXBwb3J0c1JlQXV0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fYXV0aGVudGljYXRpb25Qcm92aWRlci5hdXRoZW50aWNhdGUoeyBjb25uZWN0aW9uOiBjb25uZWN0aW9uLCBhdXRoOiBhdXRoLCB3YWl0UmVBdXRoOiB0cnVlLCBmb3JjZVJlQXV0aDogdHJ1ZSB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShsYXN0TWVzc2FnZUlzTm90TG9naW4gJiYgIWNvbm5lY3Rpb24uc3VwcG9ydHNSZUF1dGgpKSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLmFjcXVpcmUoeyBhdXRoOiBhdXRoIH0sIGFkZHJlc3MsIHsgcmVxdWlyZU5ldzogdHJ1ZSB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0aWNreUNvbm5lY3Rpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGlja3lDb25uZWN0aW9uLl9zdGlja3kgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnNUb1JlbGVhc2UucHVzaChzdGlja3lDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzMgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQVVUSEVOVElDQVRJT05fRVJST1JTLmluY2x1ZGVzKGVycm9yXzMuY29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JfMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChjb25uZWN0aW9uc1RvUmVsZWFzZS5tYXAoZnVuY3Rpb24gKGNvbm4pIHsgcmV0dXJuIGNvbm4ucmVsZWFzZSgpOyB9KSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX3ZlcmlmeVN0aWNreUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGF1dGggPSBfYS5hdXRoLCBjb25uZWN0aW9uID0gX2EuY29ubmVjdGlvbiwgYWRkcmVzcyA9IF9hLmFkZHJlc3M7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb25uZWN0aW9uV2l0aFNhbWVDcmVkZW50aWFscywgc2hvdWxkQ3JlYXRlU3RpY2t5Q29ubmVjdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25XaXRoU2FtZUNyZWRlbnRpYWxzID0gbGFuZ18xLm9iamVjdC5lcXVhbHMoYXV0aCwgY29ubmVjdGlvbi5hdXRoVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkQ3JlYXRlU3RpY2t5Q29ubmVjdGlvbiA9ICFjb25uZWN0aW9uV2l0aFNhbWVDcmVkZW50aWFscztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uX3N0aWNreSA9IGNvbm5lY3Rpb25XaXRoU2FtZUNyZWRlbnRpYWxzICYmICFjb25uZWN0aW9uLnN1cHBvcnRzUmVBdXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoc2hvdWxkQ3JlYXRlU3RpY2t5Q29ubmVjdGlvbiB8fCBjb25uZWN0aW9uLl9zdGlja3kpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbm5lY3Rpb24ucmVsZWFzZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdEcml2ZXIgaXMgY29ubmVjdGVkIHRvIGEgZGF0YWJhc2UgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHVzZXIgc3dpdGNoLicpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IFxuICAgICAgICAgICAgICAgICAgICAvLyBwdXJnZSBhbGwgaWRsZSBjb25uZWN0aW9ucyBpbiB0aGUgY29ubmVjdGlvbiBwb29sXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gY2xvc2UgYWxsIGNvbm5lY3Rpb25zIGRyaXZlciBoYXMgZXZlciBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBpcyBuZWVkZWQgdG8gY2xvc2UgY29ubmVjdGlvbnMgdGhhdCBhcmUgYWN0aXZlIHJpZ2h0IG5vdyBhbmQgYXJlIGFjcXVpcmVkIGZyb20gdGhlIHBvb2xcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVyZ2UgYWxsIGlkbGUgY29ubmVjdGlvbnMgaW4gdGhlIGNvbm5lY3Rpb24gcG9vbFxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiBjbG9zZSBhbGwgY29ubmVjdGlvbnMgZHJpdmVyIGhhcyBldmVyIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IGlzIG5lZWRlZCB0byBjbG9zZSBjb25uZWN0aW9ucyB0aGF0IGFyZSBhY3RpdmUgcmlnaHQgbm93IGFuZCBhcmUgYWNxdWlyZWQgZnJvbSB0aGUgcG9vbFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwoT2JqZWN0LnZhbHVlcyh0aGlzLl9vcGVuQ29ubmVjdGlvbnMpLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5jbG9zZSgpOyB9KSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIGNsb3NlIGFsbCBjb25uZWN0aW9ucyBkcml2ZXIgaGFzIGV2ZXIgY3JlYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgaXMgbmVlZGVkIHRvIGNsb3NlIGNvbm5lY3Rpb25zIHRoYXQgYXJlIGFjdGl2ZSByaWdodCBub3cgYW5kIGFyZSBhY3F1aXJlZCBmcm9tIHRoZSBwb29sXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLl9pbnN0YWxsSWRsZU9ic2VydmVyT25Db25uZWN0aW9uID0gZnVuY3Rpb24gKGNvbm4sIG9ic2VydmVyKSB7XG4gICAgICAgIGNvbm4uX3NldElkbGUob2JzZXJ2ZXIpO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLl9yZW1vdmVJZGxlT2JzZXJ2ZXJPbkNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoY29ubikge1xuICAgICAgICBjb25uLl91bnNldElkbGUoKTtcbiAgICB9O1xuICAgIFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2hhbmRsZVNlY3VyaXR5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGNvbm5lY3Rpb24pIHtcbiAgICAgICAgdmFyIGhhbmRsZWQgPSB0aGlzLl9hdXRoZW50aWNhdGlvblByb3ZpZGVyLmhhbmRsZUVycm9yKHsgY29ubmVjdGlvbjogY29ubmVjdGlvbiwgY29kZTogZXJyb3IuY29kZSB9KTtcbiAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICAgIGVycm9yLnJldHJpYWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdOZW8uQ2xpZW50RXJyb3IuU2VjdXJpdHkuQXV0aG9yaXphdGlvbkV4cGlyZWQnKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uUG9vbC5hcHBseShhZGRyZXNzLCBmdW5jdGlvbiAoY29ubikgeyBjb25uLmF1dGhUb2tlbiA9IG51bGw7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfTtcbiAgICByZXR1cm4gUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyO1xufShuZW80al9kcml2ZXJfY29yZV8xLkNvbm5lY3Rpb25Qcm92aWRlcikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar rediscovery_1 = __importStar(__webpack_require__(/*! ../rediscovery */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js\"));\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar connection_provider_single_1 = __importDefault(__webpack_require__(/*! ./connection-provider-single */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js\"));\nvar connection_provider_pooled_1 = __importDefault(__webpack_require__(/*! ./connection-provider-pooled */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\"));\nvar load_balancing_1 = __webpack_require__(/*! ../load-balancing */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js\");\nvar connection_1 = __webpack_require__(/*! ../connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\");\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE, SESSION_EXPIRED = neo4j_driver_core_1.error.SESSION_EXPIRED;\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, READ = _a.ACCESS_MODE_READ, WRITE = _a.ACCESS_MODE_WRITE, BOLT_PROTOCOL_V3 = _a.BOLT_PROTOCOL_V3, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4, BOLT_PROTOCOL_V5_1 = _a.BOLT_PROTOCOL_V5_1;\nvar PROCEDURE_NOT_FOUND_CODE = 'Neo.ClientError.Procedure.ProcedureNotFound';\nvar DATABASE_NOT_FOUND_CODE = 'Neo.ClientError.Database.DatabaseNotFound';\nvar INVALID_BOOKMARK_CODE = 'Neo.ClientError.Transaction.InvalidBookmark';\nvar INVALID_BOOKMARK_MIXTURE_CODE = 'Neo.ClientError.Transaction.InvalidBookmarkMixture';\nvar AUTHORIZATION_EXPIRED_CODE = 'Neo.ClientError.Security.AuthorizationExpired';\nvar INVALID_ARGUMENT_ERROR = 'Neo.ClientError.Statement.ArgumentError';\nvar INVALID_REQUEST_ERROR = 'Neo.ClientError.Request.Invalid';\nvar STATEMENT_TYPE_ERROR = 'Neo.ClientError.Statement.TypeError';\nvar NOT_AVAILABLE = 'N/A';\nvar SYSTEM_DB_NAME = 'system';\nvar DEFAULT_DB_NAME = null;\nvar DEFAULT_ROUTING_TABLE_PURGE_DELAY = (0, neo4j_driver_core_1.int)(30000);\nvar RoutingConnectionProvider = /** @class */ (function (_super) {\n    __extends(RoutingConnectionProvider, _super);\n    function RoutingConnectionProvider(_a) {\n        var id = _a.id, address = _a.address, routingContext = _a.routingContext, hostNameResolver = _a.hostNameResolver, config = _a.config, log = _a.log, userAgent = _a.userAgent, boltAgent = _a.boltAgent, authTokenManager = _a.authTokenManager, routingTablePurgeDelay = _a.routingTablePurgeDelay, newPool = _a.newPool;\n        var _this = _super.call(this, { id: id, config: config, log: log, userAgent: userAgent, boltAgent: boltAgent, authTokenManager: authTokenManager, newPool: newPool }, function (address) { return __awaiter(_this, void 0, void 0, function () {\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = connection_1.createChannelConnection;\n                        _b = [address,\n                            this._config,\n                            this._createConnectionErrorHandler(),\n                            this._log];\n                        return [4 /*yield*/, this._clientCertificateHolder.getClientCertificate()];\n                    case 1: return [2 /*return*/, _a.apply(void 0, _b.concat([_c.sent(), this._routingContext,\n                            this._channelSsrCallback.bind(this)]))];\n                }\n            });\n        }); }) || this;\n        _this._routingContext = __assign(__assign({}, routingContext), { address: address.toString() });\n        _this._seedRouter = address;\n        _this._rediscovery = new rediscovery_1.default(_this._routingContext);\n        _this._loadBalancingStrategy = new load_balancing_1.LeastConnectedLoadBalancingStrategy(_this._connectionPool);\n        _this._hostNameResolver = hostNameResolver;\n        _this._dnsResolver = new channel_1.HostNameResolver();\n        _this._log = log;\n        _this._useSeedRouter = true;\n        _this._routingTableRegistry = new RoutingTableRegistry(routingTablePurgeDelay\n            ? (0, neo4j_driver_core_1.int)(routingTablePurgeDelay)\n            : DEFAULT_ROUTING_TABLE_PURGE_DELAY);\n        _this._refreshRoutingTable = lang_1.functional.reuseOngoingRequest(_this._refreshRoutingTable, _this);\n        _this._withSSR = 0;\n        _this._withoutSSR = 0;\n        return _this;\n    }\n    RoutingConnectionProvider.prototype._createConnectionErrorHandler = function () {\n        // connection errors mean SERVICE_UNAVAILABLE for direct driver but for routing driver they should only\n        // result in SESSION_EXPIRED because there might still exist other servers capable of serving the request\n        return new connection_1.ConnectionErrorHandler(SESSION_EXPIRED);\n    };\n    RoutingConnectionProvider.prototype._handleUnavailability = function (error, address, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will forget \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this.forget(address, database || DEFAULT_DB_NAME);\n        return error;\n    };\n    RoutingConnectionProvider.prototype._handleSecurityError = function (error, address, connection, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will close connections to \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        return _super.prototype._handleSecurityError.call(this, error, address, connection, database);\n    };\n    RoutingConnectionProvider.prototype._handleWriteFailure = function (error, address, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will forget writer \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this.forgetWriter(address, database || DEFAULT_DB_NAME);\n        return (0, neo4j_driver_core_1.newError)('No longer possible to write to server at ' + address, SESSION_EXPIRED, error);\n    };\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    RoutingConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, impersonatedUser = _b.impersonatedUser, onDatabaseNameResolved = _b.onDatabaseNameResolved, auth = _b.auth, homeDb = _b.homeDb;\n        return __awaiter(this, void 0, void 0, function () {\n            var context, databaseSpecificErrorHandler, conn, currentRoutingTable, routingTable;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        context = { database: database || DEFAULT_DB_NAME };\n                        databaseSpecificErrorHandler = new connection_1.ConnectionErrorHandler(SESSION_EXPIRED, function (error, address) { return _this._handleUnavailability(error, address, context.database); }, function (error, address) { return _this._handleWriteFailure(error, address, homeDb !== null && homeDb !== void 0 ? homeDb : context.database); }, function (error, address, conn) { return _this._handleSecurityError(error, address, conn, context.database); });\n                        if (!(this.SSREnabled() && homeDb !== undefined && database === '')) return [3 /*break*/, 2];\n                        currentRoutingTable = this._routingTableRegistry.get(homeDb, function () { return new rediscovery_1.RoutingTable({ database: homeDb }); });\n                        if (!(currentRoutingTable && !currentRoutingTable.isStaleFor(accessMode))) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.getConnectionFromRoutingTable(currentRoutingTable, auth, accessMode, databaseSpecificErrorHandler)];\n                    case 1:\n                        conn = _c.sent();\n                        if (this.SSREnabled()) {\n                            return [2 /*return*/, conn];\n                        }\n                        conn.release();\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, this._freshRoutingTable({\n                            accessMode: accessMode,\n                            database: context.database,\n                            bookmarks: bookmarks,\n                            impersonatedUser: impersonatedUser,\n                            auth: auth,\n                            onDatabaseNameResolved: function (databaseName) {\n                                context.database = context.database || databaseName;\n                                if (onDatabaseNameResolved) {\n                                    onDatabaseNameResolved(databaseName);\n                                }\n                            }\n                        })];\n                    case 3:\n                        routingTable = _c.sent();\n                        return [2 /*return*/, this.getConnectionFromRoutingTable(routingTable, auth, accessMode, databaseSpecificErrorHandler)];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.getConnectionFromRoutingTable = function (routingTable, auth, accessMode, databaseSpecificErrorHandler) {\n        return __awaiter(this, void 0, void 0, function () {\n            var name, address, connection, error_1, transformed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // select a target server based on specified access mode\n                        if (accessMode === READ) {\n                            address = this._loadBalancingStrategy.selectReader(routingTable.readers);\n                            name = 'read';\n                        }\n                        else if (accessMode === WRITE) {\n                            address = this._loadBalancingStrategy.selectWriter(routingTable.writers);\n                            name = 'write';\n                        }\n                        else {\n                            throw (0, neo4j_driver_core_1.newError)('Illegal mode ' + accessMode);\n                        }\n                        // we couldn't select a target server\n                        if (!address) {\n                            throw (0, neo4j_driver_core_1.newError)(\"Failed to obtain connection towards \".concat(name, \" server. Known routing table is: \").concat(routingTable), SESSION_EXPIRED);\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 5, , 6]);\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth }, address)];\n                    case 2:\n                        connection = _a.sent();\n                        if (!auth) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this._verifyStickyConnection({\n                                auth: auth,\n                                connection: connection,\n                                address: address\n                            })];\n                    case 3:\n                        _a.sent();\n                        return [2 /*return*/, connection];\n                    case 4: return [2 /*return*/, new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler)];\n                    case 5:\n                        error_1 = _a.sent();\n                        transformed = databaseSpecificErrorHandler.handleAndTransformError(error_1, address);\n                        throw transformed;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._hasProtocolVersion = function (versionPredicate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var addresses, lastError, i, connection, protocolVersion, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._resolveSeedRouter(this._seedRouter)];\n                    case 1:\n                        addresses = _a.sent();\n                        i = 0;\n                        _a.label = 2;\n                    case 2:\n                        if (!(i < addresses.length)) return [3 /*break*/, 8];\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 6, , 7]);\n                        return [4 /*yield*/, this._createChannelConnection(addresses[i])];\n                    case 4:\n                        connection = _a.sent();\n                        protocolVersion = connection.protocol()\n                            ? connection.protocol().version\n                            : null;\n                        return [4 /*yield*/, connection.close()];\n                    case 5:\n                        _a.sent();\n                        if (protocolVersion) {\n                            return [2 /*return*/, versionPredicate(protocolVersion)];\n                        }\n                        return [2 /*return*/, false];\n                    case 6:\n                        error_2 = _a.sent();\n                        lastError = error_2;\n                        return [3 /*break*/, 7];\n                    case 7:\n                        i++;\n                        return [3 /*break*/, 2];\n                    case 8:\n                        if (lastError) {\n                            throw lastError;\n                        }\n                        return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsMultiDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_0; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsTransactionConfig = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V3; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsUserImpersonation = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_4; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsSessionAuth = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V5_1; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.getNegotiatedProtocolVersion = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._hasProtocolVersion(resolve)\n                .catch(reject);\n        });\n    };\n    RoutingConnectionProvider.prototype.verifyAuthentication = function (_a) {\n        var database = _a.database, accessMode = _a.accessMode, auth = _a.auth;\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_b) {\n                return [2 /*return*/, this._verifyAuthentication({\n                        auth: auth,\n                        getAddress: function () { return __awaiter(_this, void 0, void 0, function () {\n                            var context, routingTable, servers;\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0:\n                                        context = { database: database || DEFAULT_DB_NAME };\n                                        return [4 /*yield*/, this._freshRoutingTable({\n                                                accessMode: accessMode,\n                                                database: context.database,\n                                                auth: auth,\n                                                onDatabaseNameResolved: function (databaseName) {\n                                                    context.database = context.database || databaseName;\n                                                }\n                                            })];\n                                    case 1:\n                                        routingTable = _a.sent();\n                                        servers = accessMode === WRITE ? routingTable.writers : routingTable.readers;\n                                        if (servers.length === 0) {\n                                            throw (0, neo4j_driver_core_1.newError)(\"No servers available for database '\".concat(context.database, \"' with access mode '\").concat(accessMode, \"'\"), SERVICE_UNAVAILABLE);\n                                        }\n                                        return [2 /*return*/, servers[0]];\n                                }\n                            });\n                        }); }\n                    })];\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.verifyConnectivityAndGetServerInfo = function (_a) {\n        var database = _a.database, accessMode = _a.accessMode;\n        return __awaiter(this, void 0, void 0, function () {\n            var context, routingTable, servers, error, servers_1, servers_1_1, address, serverInfo, e_1, e_2_1;\n            var e_2, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        context = { database: database || DEFAULT_DB_NAME };\n                        return [4 /*yield*/, this._freshRoutingTable({\n                                accessMode: accessMode,\n                                database: context.database,\n                                onDatabaseNameResolved: function (databaseName) {\n                                    context.database = context.database || databaseName;\n                                }\n                            })];\n                    case 1:\n                        routingTable = _c.sent();\n                        servers = accessMode === WRITE ? routingTable.writers : routingTable.readers;\n                        error = (0, neo4j_driver_core_1.newError)(\"No servers available for database '\".concat(context.database, \"' with access mode '\").concat(accessMode, \"'\"), SERVICE_UNAVAILABLE);\n                        _c.label = 2;\n                    case 2:\n                        _c.trys.push([2, 9, 10, 11]);\n                        servers_1 = __values(servers), servers_1_1 = servers_1.next();\n                        _c.label = 3;\n                    case 3:\n                        if (!!servers_1_1.done) return [3 /*break*/, 8];\n                        address = servers_1_1.value;\n                        _c.label = 4;\n                    case 4:\n                        _c.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this._verifyConnectivityAndGetServerVersion({ address: address })];\n                    case 5:\n                        serverInfo = _c.sent();\n                        return [2 /*return*/, serverInfo];\n                    case 6:\n                        e_1 = _c.sent();\n                        error = e_1;\n                        return [3 /*break*/, 7];\n                    case 7:\n                        servers_1_1 = servers_1.next();\n                        return [3 /*break*/, 3];\n                    case 8: return [3 /*break*/, 11];\n                    case 9:\n                        e_2_1 = _c.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3 /*break*/, 11];\n                    case 10:\n                        try {\n                            if (servers_1_1 && !servers_1_1.done && (_b = servers_1.return)) _b.call(servers_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                        return [7 /*endfinally*/];\n                    case 11: throw error;\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.forget = function (address, database) {\n        this._routingTableRegistry.apply(database, {\n            applyWhenExists: function (routingTable) { return routingTable.forget(address); }\n        });\n        // We're firing and forgetting this operation explicitly and listening for any\n        // errors to avoid unhandled promise rejection\n        this._connectionPool.purge(address).catch(function () { });\n    };\n    RoutingConnectionProvider.prototype.forgetWriter = function (address, database) {\n        this._routingTableRegistry.apply(database, {\n            applyWhenExists: function (routingTable) { return routingTable.forgetWriter(address); }\n        });\n    };\n    RoutingConnectionProvider.prototype._freshRoutingTable = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, impersonatedUser = _b.impersonatedUser, onDatabaseNameResolved = _b.onDatabaseNameResolved, auth = _b.auth;\n        var currentRoutingTable = this._routingTableRegistry.get(database, function () { return new rediscovery_1.RoutingTable({ database: database }); });\n        if (!currentRoutingTable.isStaleFor(accessMode)) {\n            return currentRoutingTable;\n        }\n        this._log.info(\"Routing table is stale for database: \\\"\".concat(database, \"\\\" and access mode: \\\"\").concat(accessMode, \"\\\": \").concat(currentRoutingTable));\n        return this._refreshRoutingTable(currentRoutingTable, bookmarks, impersonatedUser, auth)\n            .then(function (newRoutingTable) {\n            onDatabaseNameResolved(newRoutingTable.database);\n            return newRoutingTable;\n        });\n    };\n    RoutingConnectionProvider.prototype._refreshRoutingTable = function (currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        var knownRouters = currentRoutingTable.routers;\n        if (this._useSeedRouter) {\n            return this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth);\n        }\n        return this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth);\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var seenRouters, _a, newRoutingTable, error, _b, newRoutingTable2, error2;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        seenRouters = [];\n                        return [4 /*yield*/, this._fetchRoutingTableUsingSeedRouter(seenRouters, this._seedRouter, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 1:\n                        _a = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (!newRoutingTable) return [3 /*break*/, 2];\n                        this._useSeedRouter = false;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this._fetchRoutingTableUsingKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 3:\n                        _b = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable2 = _b[0], error2 = _b[1];\n                        newRoutingTable = newRoutingTable2;\n                        error = error2 || error;\n                        _c.label = 4;\n                    case 4: return [4 /*yield*/, this._applyRoutingTableIfPossible(currentRoutingTable, newRoutingTable, error)];\n                    case 5: return [2 /*return*/, _c.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, newRoutingTable, error;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, this._fetchRoutingTableUsingKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 1:\n                        _a = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (!!newRoutingTable) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._fetchRoutingTableUsingSeedRouter(knownRouters, this._seedRouter, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 2:\n                        // none of the known routers returned a valid routing table - try to use seed router address for rediscovery\n                        _b = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _b[0], error = _b[1];\n                        _c.label = 3;\n                    case 3: return [4 /*yield*/, this._applyRoutingTableIfPossible(currentRoutingTable, newRoutingTable, error)];\n                    case 4: return [2 /*return*/, _c.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableUsingKnownRouters = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, newRoutingTable, error, lastRouterIndex;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._fetchRoutingTable(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 1:\n                        _a = __read.apply(void 0, [_b.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (newRoutingTable) {\n                            // one of the known routers returned a valid routing table - use it\n                            return [2 /*return*/, [newRoutingTable, null]];\n                        }\n                        lastRouterIndex = knownRouters.length - 1;\n                        RoutingConnectionProvider._forgetRouter(currentRoutingTable, knownRouters, lastRouterIndex);\n                        return [2 /*return*/, [null, error]];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableUsingSeedRouter = function (seenRouters, seedRouter, routingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolvedAddresses, newAddresses;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._resolveSeedRouter(seedRouter)\n                        // filter out all addresses that we've already tried\n                    ];\n                    case 1:\n                        resolvedAddresses = _a.sent();\n                        newAddresses = resolvedAddresses.filter(function (address) { return seenRouters.indexOf(address) < 0; });\n                        return [4 /*yield*/, this._fetchRoutingTable(newAddresses, routingTable, bookmarks, impersonatedUser, auth)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._resolveSeedRouter = function (seedRouter) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolvedAddresses, dnsResolvedAddresses;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hostNameResolver.resolve(seedRouter)];\n                    case 1:\n                        resolvedAddresses = _a.sent();\n                        return [4 /*yield*/, Promise.all(resolvedAddresses.map(function (address) { return _this._dnsResolver.resolve(address); }))];\n                    case 2:\n                        dnsResolvedAddresses = _a.sent();\n                        return [2 /*return*/, [].concat.apply([], dnsResolvedAddresses)];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTable = function (routerAddresses, routingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, routerAddresses.reduce(function (refreshedTablePromise, currentRouter, currentIndex) { return __awaiter(_this, void 0, void 0, function () {\n                        var _a, newRoutingTable, previousRouterIndex, _b, session, error, error_3;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0: return [4 /*yield*/, refreshedTablePromise];\n                                case 1:\n                                    _a = __read.apply(void 0, [_c.sent(), 1]), newRoutingTable = _a[0];\n                                    if (newRoutingTable) {\n                                        // valid routing table was fetched - just return it, try next router otherwise\n                                        return [2 /*return*/, [newRoutingTable, null]];\n                                    }\n                                    else {\n                                        previousRouterIndex = currentIndex - 1;\n                                        RoutingConnectionProvider._forgetRouter(routingTable, routerAddresses, previousRouterIndex);\n                                    }\n                                    return [4 /*yield*/, this._createSessionForRediscovery(currentRouter, bookmarks, impersonatedUser, auth)];\n                                case 2:\n                                    _b = __read.apply(void 0, [_c.sent(), 2]), session = _b[0], error = _b[1];\n                                    if (!session) return [3 /*break*/, 8];\n                                    _c.label = 3;\n                                case 3:\n                                    _c.trys.push([3, 5, 6, 7]);\n                                    return [4 /*yield*/, this._rediscovery.lookupRoutingTableOnRouter(session, routingTable.database, currentRouter, impersonatedUser)];\n                                case 4: return [2 /*return*/, [_c.sent(), null]];\n                                case 5:\n                                    error_3 = _c.sent();\n                                    return [2 /*return*/, this._handleRediscoveryError(error_3, currentRouter)];\n                                case 6:\n                                    session.close();\n                                    return [7 /*endfinally*/];\n                                case 7: return [3 /*break*/, 9];\n                                case 8: \n                                // unable to acquire connection and create session towards the current router\n                                // return null to signal that the next router should be tried\n                                return [2 /*return*/, [null, error]];\n                                case 9: return [2 /*return*/];\n                            }\n                        });\n                    }); }, Promise.resolve([null, null]))];\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._createSessionForRediscovery = function (routerAddress, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, databaseSpecificErrorHandler, delegateConnection, connectionProvider, protocolVersion, error_4;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 4, , 5]);\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth }, routerAddress)];\n                    case 1:\n                        connection = _a.sent();\n                        if (!auth) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._verifyStickyConnection({\n                                auth: auth,\n                                connection: connection,\n                                address: routerAddress\n                            })];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        databaseSpecificErrorHandler = connection_1.ConnectionErrorHandler.create({\n                            errorCode: SESSION_EXPIRED,\n                            handleSecurityError: function (error, address, conn) { return _this._handleSecurityError(error, address, conn); }\n                        });\n                        delegateConnection = !connection._sticky\n                            ? new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler)\n                            : new connection_1.DelegateConnection(connection);\n                        connectionProvider = new connection_provider_single_1.default(delegateConnection);\n                        protocolVersion = connection.protocol().version;\n                        if (protocolVersion < 4.0) {\n                            return [2 /*return*/, [new neo4j_driver_core_1.Session({\n                                        mode: WRITE,\n                                        bookmarks: Bookmarks.empty(),\n                                        connectionProvider: connectionProvider\n                                    }), null]];\n                        }\n                        return [2 /*return*/, [new neo4j_driver_core_1.Session({\n                                    mode: READ,\n                                    database: SYSTEM_DB_NAME,\n                                    bookmarks: bookmarks,\n                                    connectionProvider: connectionProvider,\n                                    impersonatedUser: impersonatedUser\n                                }), null]];\n                    case 4:\n                        error_4 = _a.sent();\n                        return [2 /*return*/, this._handleRediscoveryError(error_4, routerAddress)];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._handleRediscoveryError = function (error, routerAddress) {\n        if (_isFailFastError(error) || _isFailFastSecurityError(error)) {\n            throw error;\n        }\n        else if (error.code === PROCEDURE_NOT_FOUND_CODE) {\n            // throw when getServers procedure not found because this is clearly a configuration issue\n            throw (0, neo4j_driver_core_1.newError)(\"Server at \".concat(routerAddress.asHostPort(), \" can't perform routing. Make sure you are connecting to a causal cluster\"), SERVICE_UNAVAILABLE, error);\n        }\n        this._log.warn(\"unable to fetch routing table because of an error \".concat(error));\n        return [null, error];\n    };\n    RoutingConnectionProvider.prototype._applyRoutingTableIfPossible = function (currentRoutingTable, newRoutingTable, error) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!newRoutingTable) {\n                            // none of routing servers returned valid routing table, throw exception\n                            throw (0, neo4j_driver_core_1.newError)(\"Could not perform discovery. No routing servers available. Known routing table: \".concat(currentRoutingTable), SERVICE_UNAVAILABLE, error);\n                        }\n                        if (newRoutingTable.writers.length === 0) {\n                            // use seed router next time. this is important when cluster is partitioned. it tries to make sure driver\n                            // does not always get routing table without writers because it talks exclusively to a minority partition\n                            this._useSeedRouter = true;\n                        }\n                        return [4 /*yield*/, this._updateRoutingTable(newRoutingTable)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, newRoutingTable];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._updateRoutingTable = function (newRoutingTable) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // close old connections to servers not present in the new routing table\n                    return [4 /*yield*/, this._connectionPool.keepAll(newRoutingTable.allServers())];\n                    case 1:\n                        // close old connections to servers not present in the new routing table\n                        _a.sent();\n                        this._routingTableRegistry.removeExpired();\n                        this._routingTableRegistry.register(newRoutingTable);\n                        this._log.info(\"Updated routing table \".concat(newRoutingTable));\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider._forgetRouter = function (routingTable, routersArray, routerIndex) {\n        var address = routersArray[routerIndex];\n        if (routingTable && address) {\n            routingTable.forgetRouter(address);\n        }\n    };\n    RoutingConnectionProvider.prototype._channelSsrCallback = function (isEnabled, action) {\n        if (action === 'OPEN') {\n            if (isEnabled === true) {\n                this._withSSR = this._withSSR + 1;\n            }\n            else {\n                this._withoutSSR = this._withoutSSR + 1;\n            }\n        }\n        else if (action === 'CLOSE') {\n            if (isEnabled === true) {\n                this._withSSR = this._withSSR - 1;\n            }\n            else {\n                this._withoutSSR = this._withoutSSR - 1;\n            }\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)(\"Channel SSR Callback invoked with action other than 'OPEN' or 'CLOSE'\");\n        }\n    };\n    RoutingConnectionProvider.prototype.SSREnabled = function () {\n        return this._withSSR > 0 && this._withoutSSR === 0;\n    };\n    return RoutingConnectionProvider;\n}(connection_provider_pooled_1.default));\nexports[\"default\"] = RoutingConnectionProvider;\n/**\n * Responsible for keeping track of the existing routing tables\n */\nvar RoutingTableRegistry = /** @class */ (function () {\n    /**\n     * Constructor\n     * @param {int} routingTablePurgeDelay The routing table purge delay\n     */\n    function RoutingTableRegistry(routingTablePurgeDelay) {\n        this._tables = new Map();\n        this._routingTablePurgeDelay = routingTablePurgeDelay;\n    }\n    /**\n     * Put a routing table in the registry\n     *\n     * @param {RoutingTable} table The routing table\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.register = function (table) {\n        this._tables.set(table.database, table);\n        return this;\n    };\n    /**\n     * Apply function in the routing table for an specific database. If the database name is not defined, the function will\n     * be applied for each element\n     *\n     * @param {string} database The database name\n     * @param {object} callbacks The actions\n     * @param {function (RoutingTable)} callbacks.applyWhenExists Call when the db exists or when the database property is not informed\n     * @param {function ()} callbacks.applyWhenDontExists Call when the database doesn't have the routing table registred\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.apply = function (database, _a) {\n        var _b = _a === void 0 ? {} : _a, applyWhenExists = _b.applyWhenExists, _c = _b.applyWhenDontExists, applyWhenDontExists = _c === void 0 ? function () { } : _c;\n        if (this._tables.has(database)) {\n            applyWhenExists(this._tables.get(database));\n        }\n        else if (typeof database === 'string' || database === null) {\n            applyWhenDontExists();\n        }\n        else {\n            this._forEach(applyWhenExists);\n        }\n        return this;\n    };\n    /**\n     * Retrieves a routing table from a given database name\n     *\n     * @param {string|impersonatedUser} impersonatedUser The impersonated User\n     * @param {string} database The database name\n     * @param {function()|RoutingTable} defaultSupplier The routing table supplier, if it's not a function or not exists, it will return itself as default value\n     * @returns {RoutingTable} The routing table for the respective database\n     */\n    RoutingTableRegistry.prototype.get = function (database, defaultSupplier) {\n        if (this._tables.has(database)) {\n            return this._tables.get(database);\n        }\n        return typeof defaultSupplier === 'function'\n            ? defaultSupplier()\n            : defaultSupplier;\n    };\n    /**\n     * Remove the routing table which is already expired\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.removeExpired = function () {\n        var _this = this;\n        return this._removeIf(function (value) {\n            return value.isExpiredFor(_this._routingTablePurgeDelay);\n        });\n    };\n    RoutingTableRegistry.prototype._forEach = function (apply) {\n        var e_3, _a;\n        try {\n            for (var _b = __values(this._tables), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), value = _d[1];\n                apply(value);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return this;\n    };\n    RoutingTableRegistry.prototype._remove = function (key) {\n        this._tables.delete(key);\n        return this;\n    };\n    RoutingTableRegistry.prototype._removeIf = function (predicate) {\n        var e_4, _a;\n        try {\n            for (var _b = __values(this._tables), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], value = _d[1];\n                if (predicate(value)) {\n                    this._remove(key);\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return this;\n    };\n    return RoutingTableRegistry;\n}());\nfunction _isFailFastError(error) {\n    return [\n        DATABASE_NOT_FOUND_CODE,\n        INVALID_BOOKMARK_CODE,\n        INVALID_BOOKMARK_MIXTURE_CODE,\n        INVALID_ARGUMENT_ERROR,\n        INVALID_REQUEST_ERROR,\n        STATEMENT_TYPE_ERROR,\n        NOT_AVAILABLE\n    ].includes(error.code);\n}\nfunction _isFailFastSecurityError(error) {\n    var _a;\n    return ((_a = error.code) === null || _a === void 0 ? void 0 : _a.startsWith('Neo.ClientError.Security.')) &&\n        ![\n            AUTHORIZATION_EXPIRED_CODE\n        ].includes(error.code);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXJvdXRpbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCxpQ0FBaUMsbUJBQU8sQ0FBQyxrR0FBZ0I7QUFDekQsZ0JBQWdCLG1CQUFPLENBQUMsMEZBQVk7QUFDcEMsbURBQW1ELG1CQUFPLENBQUMsNklBQThCO0FBQ3pGLG1EQUFtRCxtQkFBTyxDQUFDLDZJQUE4QjtBQUN6Rix1QkFBdUIsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbEQsbUJBQW1CLG1CQUFPLENBQUMsZ0dBQWU7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLG9GQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxvSUFBb0ksdUJBQXVCO0FBQ25NO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsSUFBSTtBQUNiLG9EQUFvRCxxQkFBcUIsNkJBQTZCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBCQUEwQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLDRJQUE0SSx1RUFBdUUsOEJBQThCLHFIQUFxSCxvQ0FBb0MsNEVBQTRFO0FBQ3RkO0FBQ0EsbUdBQW1HLHdDQUF3QyxrQkFBa0IsSUFBSTtBQUNqSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsWUFBWTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHVDQUF1QztBQUN0STtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHFDQUFxQztBQUNwSTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHVDQUF1QztBQUN0STtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHVDQUF1QztBQUN0STtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixrQkFBa0I7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMseUZBQXlGLHdDQUF3QyxvQkFBb0IsSUFBSTtBQUN6SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsMENBQTBDO0FBQy9IO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvR0FBb0csNkNBQTZDO0FBQ2pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkhBQTZIO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUIsSUFBSTtBQUN6QixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxZQUFZO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRjtBQUNuRix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0IsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUseUJBQXlCO0FBQ3hDLGVBQWUsYUFBYTtBQUM1QixpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQSxvQ0FBb0MsK0hBQStIO0FBQ25LO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlCQUF5QjtBQUN4QyxlQUFlLFFBQVE7QUFDdkIsZUFBZSx5QkFBeUI7QUFDeEMsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxVQUFVO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsVUFBVTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24tcHJvdmlkZXIvY29ubmVjdGlvbi1wcm92aWRlci1yb3V0aW5nLmpzPzRiYjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIHJlZGlzY292ZXJ5XzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4uL3JlZGlzY292ZXJ5XCIpKTtcbnZhciBjaGFubmVsXzEgPSByZXF1aXJlKFwiLi4vY2hhbm5lbFwiKTtcbnZhciBjb25uZWN0aW9uX3Byb3ZpZGVyX3NpbmdsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tcHJvdmlkZXItc2luZ2xlXCIpKTtcbnZhciBjb25uZWN0aW9uX3Byb3ZpZGVyX3Bvb2xlZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tcHJvdmlkZXItcG9vbGVkXCIpKTtcbnZhciBsb2FkX2JhbGFuY2luZ18xID0gcmVxdWlyZShcIi4uL2xvYWQtYmFsYW5jaW5nXCIpO1xudmFyIGNvbm5lY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9jb25uZWN0aW9uXCIpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoXCIuLi9sYW5nXCIpO1xudmFyIFNFUlZJQ0VfVU5BVkFJTEFCTEUgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlNFUlZJQ0VfVU5BVkFJTEFCTEUsIFNFU1NJT05fRVhQSVJFRCA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuU0VTU0lPTl9FWFBJUkVEO1xudmFyIEJvb2ttYXJrcyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuYm9va21hcmtzLkJvb2ttYXJrcywgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cywgUkVBRCA9IF9hLkFDQ0VTU19NT0RFX1JFQUQsIFdSSVRFID0gX2EuQUNDRVNTX01PREVfV1JJVEUsIEJPTFRfUFJPVE9DT0xfVjMgPSBfYS5CT0xUX1BST1RPQ09MX1YzLCBCT0xUX1BST1RPQ09MX1Y0XzAgPSBfYS5CT0xUX1BST1RPQ09MX1Y0XzAsIEJPTFRfUFJPVE9DT0xfVjRfNCA9IF9hLkJPTFRfUFJPVE9DT0xfVjRfNCwgQk9MVF9QUk9UT0NPTF9WNV8xID0gX2EuQk9MVF9QUk9UT0NPTF9WNV8xO1xudmFyIFBST0NFRFVSRV9OT1RfRk9VTkRfQ09ERSA9ICdOZW8uQ2xpZW50RXJyb3IuUHJvY2VkdXJlLlByb2NlZHVyZU5vdEZvdW5kJztcbnZhciBEQVRBQkFTRV9OT1RfRk9VTkRfQ09ERSA9ICdOZW8uQ2xpZW50RXJyb3IuRGF0YWJhc2UuRGF0YWJhc2VOb3RGb3VuZCc7XG52YXIgSU5WQUxJRF9CT09LTUFSS19DT0RFID0gJ05lby5DbGllbnRFcnJvci5UcmFuc2FjdGlvbi5JbnZhbGlkQm9va21hcmsnO1xudmFyIElOVkFMSURfQk9PS01BUktfTUlYVFVSRV9DT0RFID0gJ05lby5DbGllbnRFcnJvci5UcmFuc2FjdGlvbi5JbnZhbGlkQm9va21hcmtNaXh0dXJlJztcbnZhciBBVVRIT1JJWkFUSU9OX0VYUElSRURfQ09ERSA9ICdOZW8uQ2xpZW50RXJyb3IuU2VjdXJpdHkuQXV0aG9yaXphdGlvbkV4cGlyZWQnO1xudmFyIElOVkFMSURfQVJHVU1FTlRfRVJST1IgPSAnTmVvLkNsaWVudEVycm9yLlN0YXRlbWVudC5Bcmd1bWVudEVycm9yJztcbnZhciBJTlZBTElEX1JFUVVFU1RfRVJST1IgPSAnTmVvLkNsaWVudEVycm9yLlJlcXVlc3QuSW52YWxpZCc7XG52YXIgU1RBVEVNRU5UX1RZUEVfRVJST1IgPSAnTmVvLkNsaWVudEVycm9yLlN0YXRlbWVudC5UeXBlRXJyb3InO1xudmFyIE5PVF9BVkFJTEFCTEUgPSAnTi9BJztcbnZhciBTWVNURU1fREJfTkFNRSA9ICdzeXN0ZW0nO1xudmFyIERFRkFVTFRfREJfTkFNRSA9IG51bGw7XG52YXIgREVGQVVMVF9ST1VUSU5HX1RBQkxFX1BVUkdFX0RFTEFZID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSgzMDAwMCk7XG52YXIgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyKF9hKSB7XG4gICAgICAgIHZhciBpZCA9IF9hLmlkLCBhZGRyZXNzID0gX2EuYWRkcmVzcywgcm91dGluZ0NvbnRleHQgPSBfYS5yb3V0aW5nQ29udGV4dCwgaG9zdE5hbWVSZXNvbHZlciA9IF9hLmhvc3ROYW1lUmVzb2x2ZXIsIGNvbmZpZyA9IF9hLmNvbmZpZywgbG9nID0gX2EubG9nLCB1c2VyQWdlbnQgPSBfYS51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9hLmJvbHRBZ2VudCwgYXV0aFRva2VuTWFuYWdlciA9IF9hLmF1dGhUb2tlbk1hbmFnZXIsIHJvdXRpbmdUYWJsZVB1cmdlRGVsYXkgPSBfYS5yb3V0aW5nVGFibGVQdXJnZURlbGF5LCBuZXdQb29sID0gX2EubmV3UG9vbDtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgeyBpZDogaWQsIGNvbmZpZzogY29uZmlnLCBsb2c6IGxvZywgdXNlckFnZW50OiB1c2VyQWdlbnQsIGJvbHRBZ2VudDogYm9sdEFnZW50LCBhdXRoVG9rZW5NYW5hZ2VyOiBhdXRoVG9rZW5NYW5hZ2VyLCBuZXdQb29sOiBuZXdQb29sIH0sIGZ1bmN0aW9uIChhZGRyZXNzKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBjb25uZWN0aW9uXzEuY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IFthZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVDb25uZWN0aW9uRXJyb3JIYW5kbGVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2NsaWVudENlcnRpZmljYXRlSG9sZGVyLmdldENsaWVudENlcnRpZmljYXRlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5hcHBseSh2b2lkIDAsIF9iLmNvbmNhdChbX2Muc2VudCgpLCB0aGlzLl9yb3V0aW5nQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFubmVsU3NyQ2FsbGJhY2suYmluZCh0aGlzKV0pKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcm91dGluZ0NvbnRleHQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcm91dGluZ0NvbnRleHQpLCB7IGFkZHJlc3M6IGFkZHJlc3MudG9TdHJpbmcoKSB9KTtcbiAgICAgICAgX3RoaXMuX3NlZWRSb3V0ZXIgPSBhZGRyZXNzO1xuICAgICAgICBfdGhpcy5fcmVkaXNjb3ZlcnkgPSBuZXcgcmVkaXNjb3ZlcnlfMS5kZWZhdWx0KF90aGlzLl9yb3V0aW5nQ29udGV4dCk7XG4gICAgICAgIF90aGlzLl9sb2FkQmFsYW5jaW5nU3RyYXRlZ3kgPSBuZXcgbG9hZF9iYWxhbmNpbmdfMS5MZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneShfdGhpcy5fY29ubmVjdGlvblBvb2wpO1xuICAgICAgICBfdGhpcy5faG9zdE5hbWVSZXNvbHZlciA9IGhvc3ROYW1lUmVzb2x2ZXI7XG4gICAgICAgIF90aGlzLl9kbnNSZXNvbHZlciA9IG5ldyBjaGFubmVsXzEuSG9zdE5hbWVSZXNvbHZlcigpO1xuICAgICAgICBfdGhpcy5fbG9nID0gbG9nO1xuICAgICAgICBfdGhpcy5fdXNlU2VlZFJvdXRlciA9IHRydWU7XG4gICAgICAgIF90aGlzLl9yb3V0aW5nVGFibGVSZWdpc3RyeSA9IG5ldyBSb3V0aW5nVGFibGVSZWdpc3RyeShyb3V0aW5nVGFibGVQdXJnZURlbGF5XG4gICAgICAgICAgICA/ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkocm91dGluZ1RhYmxlUHVyZ2VEZWxheSlcbiAgICAgICAgICAgIDogREVGQVVMVF9ST1VUSU5HX1RBQkxFX1BVUkdFX0RFTEFZKTtcbiAgICAgICAgX3RoaXMuX3JlZnJlc2hSb3V0aW5nVGFibGUgPSBsYW5nXzEuZnVuY3Rpb25hbC5yZXVzZU9uZ29pbmdSZXF1ZXN0KF90aGlzLl9yZWZyZXNoUm91dGluZ1RhYmxlLCBfdGhpcyk7XG4gICAgICAgIF90aGlzLl93aXRoU1NSID0gMDtcbiAgICAgICAgX3RoaXMuX3dpdGhvdXRTU1IgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjb25uZWN0aW9uIGVycm9ycyBtZWFuIFNFUlZJQ0VfVU5BVkFJTEFCTEUgZm9yIGRpcmVjdCBkcml2ZXIgYnV0IGZvciByb3V0aW5nIGRyaXZlciB0aGV5IHNob3VsZCBvbmx5XG4gICAgICAgIC8vIHJlc3VsdCBpbiBTRVNTSU9OX0VYUElSRUQgYmVjYXVzZSB0aGVyZSBtaWdodCBzdGlsbCBleGlzdCBvdGhlciBzZXJ2ZXJzIGNhcGFibGUgb2Ygc2VydmluZyB0aGUgcmVxdWVzdFxuICAgICAgICByZXR1cm4gbmV3IGNvbm5lY3Rpb25fMS5Db25uZWN0aW9uRXJyb3JIYW5kbGVyKFNFU1NJT05fRVhQSVJFRCk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFuZGxlVW5hdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGRhdGFiYXNlKSB7XG4gICAgICAgIHRoaXMuX2xvZy53YXJuKFwiUm91dGluZyBkcml2ZXIgXCIuY29uY2F0KHRoaXMuX2lkLCBcIiB3aWxsIGZvcmdldCBcIikuY29uY2F0KGFkZHJlc3MsIFwiIGZvciBkYXRhYmFzZSAnXCIpLmNvbmNhdChkYXRhYmFzZSwgXCInIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIpLmNvbmNhdChlcnJvci5jb2RlLCBcIiAnXCIpLmNvbmNhdChlcnJvci5tZXNzYWdlLCBcIidcIikpO1xuICAgICAgICB0aGlzLmZvcmdldChhZGRyZXNzLCBkYXRhYmFzZSB8fCBERUZBVUxUX0RCX05BTUUpO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFuZGxlU2VjdXJpdHlFcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbiwgZGF0YWJhc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nLndhcm4oXCJSb3V0aW5nIGRyaXZlciBcIi5jb25jYXQodGhpcy5faWQsIFwiIHdpbGwgY2xvc2UgY29ubmVjdGlvbnMgdG8gXCIpLmNvbmNhdChhZGRyZXNzLCBcIiBmb3IgZGF0YWJhc2UgJ1wiKS5jb25jYXQoZGF0YWJhc2UsIFwiJyBiZWNhdXNlIG9mIGFuIGVycm9yIFwiKS5jb25jYXQoZXJyb3IuY29kZSwgXCIgJ1wiKS5jb25jYXQoZXJyb3IubWVzc2FnZSwgXCInXCIpKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX2hhbmRsZVNlY3VyaXR5RXJyb3IuY2FsbCh0aGlzLCBlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbiwgZGF0YWJhc2UpO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2hhbmRsZVdyaXRlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcywgZGF0YWJhc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nLndhcm4oXCJSb3V0aW5nIGRyaXZlciBcIi5jb25jYXQodGhpcy5faWQsIFwiIHdpbGwgZm9yZ2V0IHdyaXRlciBcIikuY29uY2F0KGFkZHJlc3MsIFwiIGZvciBkYXRhYmFzZSAnXCIpLmNvbmNhdChkYXRhYmFzZSwgXCInIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIpLmNvbmNhdChlcnJvci5jb2RlLCBcIiAnXCIpLmNvbmNhdChlcnJvci5tZXNzYWdlLCBcIidcIikpO1xuICAgICAgICB0aGlzLmZvcmdldFdyaXRlcihhZGRyZXNzLCBkYXRhYmFzZSB8fCBERUZBVUxUX0RCX05BTUUpO1xuICAgICAgICByZXR1cm4gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdObyBsb25nZXIgcG9zc2libGUgdG8gd3JpdGUgdG8gc2VydmVyIGF0ICcgKyBhZGRyZXNzLCBTRVNTSU9OX0VYUElSRUQsIGVycm9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZSB7QGxpbmsgQ29ubmVjdGlvblByb3ZpZGVyfSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG1ldGhvZCBhbmRcbiAgICAgKiBpdHMgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLmFjcXVpcmVDb25uZWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBhY2Nlc3NNb2RlID0gX2IuYWNjZXNzTW9kZSwgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgb25EYXRhYmFzZU5hbWVSZXNvbHZlZCA9IF9iLm9uRGF0YWJhc2VOYW1lUmVzb2x2ZWQsIGF1dGggPSBfYi5hdXRoLCBob21lRGIgPSBfYi5ob21lRGI7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0LCBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyLCBjb25uLCBjdXJyZW50Um91dGluZ1RhYmxlLCByb3V0aW5nVGFibGU7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IHsgZGF0YWJhc2U6IGRhdGFiYXNlIHx8IERFRkFVTFRfREJfTkFNRSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VTcGVjaWZpY0Vycm9ySGFuZGxlciA9IG5ldyBjb25uZWN0aW9uXzEuQ29ubmVjdGlvbkVycm9ySGFuZGxlcihTRVNTSU9OX0VYUElSRUQsIGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcykgeyByZXR1cm4gX3RoaXMuX2hhbmRsZVVuYXZhaWxhYmlsaXR5KGVycm9yLCBhZGRyZXNzLCBjb250ZXh0LmRhdGFiYXNlKTsgfSwgZnVuY3Rpb24gKGVycm9yLCBhZGRyZXNzKSB7IHJldHVybiBfdGhpcy5faGFuZGxlV3JpdGVGYWlsdXJlKGVycm9yLCBhZGRyZXNzLCBob21lRGIgIT09IG51bGwgJiYgaG9tZURiICE9PSB2b2lkIDAgPyBob21lRGIgOiBjb250ZXh0LmRhdGFiYXNlKTsgfSwgZnVuY3Rpb24gKGVycm9yLCBhZGRyZXNzLCBjb25uKSB7IHJldHVybiBfdGhpcy5faGFuZGxlU2VjdXJpdHlFcnJvcihlcnJvciwgYWRkcmVzcywgY29ubiwgY29udGV4dC5kYXRhYmFzZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5TU1JFbmFibGVkKCkgJiYgaG9tZURiICE9PSB1bmRlZmluZWQgJiYgZGF0YWJhc2UgPT09ICcnKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Um91dGluZ1RhYmxlID0gdGhpcy5fcm91dGluZ1RhYmxlUmVnaXN0cnkuZ2V0KGhvbWVEYiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IHJlZGlzY292ZXJ5XzEuUm91dGluZ1RhYmxlKHsgZGF0YWJhc2U6IGhvbWVEYiB9KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjdXJyZW50Um91dGluZ1RhYmxlICYmICFjdXJyZW50Um91dGluZ1RhYmxlLmlzU3RhbGVGb3IoYWNjZXNzTW9kZSkpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0Q29ubmVjdGlvbkZyb21Sb3V0aW5nVGFibGUoY3VycmVudFJvdXRpbmdUYWJsZSwgYXV0aCwgYWNjZXNzTW9kZSwgZGF0YWJhc2VTcGVjaWZpY0Vycm9ySGFuZGxlcildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuU1NSRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbm5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5yZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZnJlc2hSb3V0aW5nVGFibGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc01vZGU6IGFjY2Vzc01vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2U6IGNvbnRleHQuZGF0YWJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va21hcmtzOiBib29rbWFya3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGF0YWJhc2VOYW1lUmVzb2x2ZWQ6IGZ1bmN0aW9uIChkYXRhYmFzZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kYXRhYmFzZSA9IGNvbnRleHQuZGF0YWJhc2UgfHwgZGF0YWJhc2VOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25EYXRhYmFzZU5hbWVSZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EYXRhYmFzZU5hbWVSZXNvbHZlZChkYXRhYmFzZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0aW5nVGFibGUgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5nZXRDb25uZWN0aW9uRnJvbVJvdXRpbmdUYWJsZShyb3V0aW5nVGFibGUsIGF1dGgsIGFjY2Vzc01vZGUsIGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uRnJvbVJvdXRpbmdUYWJsZSA9IGZ1bmN0aW9uIChyb3V0aW5nVGFibGUsIGF1dGgsIGFjY2Vzc01vZGUsIGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5hbWUsIGFkZHJlc3MsIGNvbm5lY3Rpb24sIGVycm9yXzEsIHRyYW5zZm9ybWVkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0IGEgdGFyZ2V0IHNlcnZlciBiYXNlZCBvbiBzcGVjaWZpZWQgYWNjZXNzIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2Nlc3NNb2RlID09PSBSRUFEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IHRoaXMuX2xvYWRCYWxhbmNpbmdTdHJhdGVneS5zZWxlY3RSZWFkZXIocm91dGluZ1RhYmxlLnJlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSAncmVhZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhY2Nlc3NNb2RlID09PSBXUklURSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgPSB0aGlzLl9sb2FkQmFsYW5jaW5nU3RyYXRlZ3kuc2VsZWN0V3JpdGVyKHJvdXRpbmdUYWJsZS53cml0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gJ3dyaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnSWxsZWdhbCBtb2RlICcgKyBhY2Nlc3NNb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGNvdWxkbid0IHNlbGVjdCBhIHRhcmdldCBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIkZhaWxlZCB0byBvYnRhaW4gY29ubmVjdGlvbiB0b3dhcmRzIFwiLmNvbmNhdChuYW1lLCBcIiBzZXJ2ZXIuIEtub3duIHJvdXRpbmcgdGFibGUgaXM6IFwiKS5jb25jYXQocm91dGluZ1RhYmxlKSwgU0VTU0lPTl9FWFBJUkVEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCA1LCAsIDZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLmFjcXVpcmUoeyBhdXRoOiBhdXRoIH0sIGFkZHJlc3MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXV0aCkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl92ZXJpZnlTdGlja3lDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogYXV0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbm5lY3Rpb25dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgY29ubmVjdGlvbl8xLkRlbGVnYXRlQ29ubmVjdGlvbihjb25uZWN0aW9uLCBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZCA9IGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIuaGFuZGxlQW5kVHJhbnNmb3JtRXJyb3IoZXJyb3JfMSwgYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB0cmFuc2Zvcm1lZDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2hhc1Byb3RvY29sVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uUHJlZGljYXRlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhZGRyZXNzZXMsIGxhc3RFcnJvciwgaSwgY29ubmVjdGlvbiwgcHJvdG9jb2xWZXJzaW9uLCBlcnJvcl8yO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9yZXNvbHZlU2VlZFJvdXRlcih0aGlzLl9zZWVkUm91dGVyKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NlcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpIDwgYWRkcmVzc2VzLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzMsIDYsICwgN10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb24oYWRkcmVzc2VzW2ldKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm90b2NvbFZlcnNpb24gPSBjb25uZWN0aW9uLnByb3RvY29sKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNvbm5lY3Rpb24ucHJvdG9jb2woKS52ZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29ubmVjdGlvbi5jbG9zZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvY29sVmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB2ZXJzaW9uUHJlZGljYXRlKHByb3RvY29sVmVyc2lvbildO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yXzI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnN1cHBvcnRzTXVsdGlEYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9oYXNQcm90b2NvbFZlcnNpb24oZnVuY3Rpb24gKHZlcnNpb24pIHsgcmV0dXJuIHZlcnNpb24gPj0gQk9MVF9QUk9UT0NPTF9WNF8wOyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuc3VwcG9ydHNUcmFuc2FjdGlvbkNvbmZpZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9oYXNQcm90b2NvbFZlcnNpb24oZnVuY3Rpb24gKHZlcnNpb24pIHsgcmV0dXJuIHZlcnNpb24gPj0gQk9MVF9QUk9UT0NPTF9WMzsgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnN1cHBvcnRzVXNlckltcGVyc29uYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKGZ1bmN0aW9uICh2ZXJzaW9uKSB7IHJldHVybiB2ZXJzaW9uID49IEJPTFRfUFJPVE9DT0xfVjRfNDsgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnN1cHBvcnRzU2Vzc2lvbkF1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKGZ1bmN0aW9uICh2ZXJzaW9uKSB7IHJldHVybiB2ZXJzaW9uID49IEJPTFRfUFJPVE9DT0xfVjVfMTsgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLmdldE5lZ290aWF0ZWRQcm90b2NvbFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKHJlc29sdmUpXG4gICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUudmVyaWZ5QXV0aGVudGljYXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGRhdGFiYXNlID0gX2EuZGF0YWJhc2UsIGFjY2Vzc01vZGUgPSBfYS5hY2Nlc3NNb2RlLCBhdXRoID0gX2EuYXV0aDtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5fdmVyaWZ5QXV0aGVudGljYXRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogYXV0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEFkZHJlc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGV4dCwgcm91dGluZ1RhYmxlLCBzZXJ2ZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSB7IGRhdGFiYXNlOiBkYXRhYmFzZSB8fCBERUZBVUxUX0RCX05BTUUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9mcmVzaFJvdXRpbmdUYWJsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NNb2RlOiBhY2Nlc3NNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2U6IGNvbnRleHQuZGF0YWJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EYXRhYmFzZU5hbWVSZXNvbHZlZDogZnVuY3Rpb24gKGRhdGFiYXNlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZGF0YWJhc2UgPSBjb250ZXh0LmRhdGFiYXNlIHx8IGRhdGFiYXNlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRpbmdUYWJsZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJzID0gYWNjZXNzTW9kZSA9PT0gV1JJVEUgPyByb3V0aW5nVGFibGUud3JpdGVycyA6IHJvdXRpbmdUYWJsZS5yZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJObyBzZXJ2ZXJzIGF2YWlsYWJsZSBmb3IgZGF0YWJhc2UgJ1wiLmNvbmNhdChjb250ZXh0LmRhdGFiYXNlLCBcIicgd2l0aCBhY2Nlc3MgbW9kZSAnXCIpLmNvbmNhdChhY2Nlc3NNb2RlLCBcIidcIiksIFNFUlZJQ0VfVU5BVkFJTEFCTEUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgc2VydmVyc1swXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9XG4gICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnZlcmlmeUNvbm5lY3Rpdml0eUFuZEdldFNlcnZlckluZm8gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGRhdGFiYXNlID0gX2EuZGF0YWJhc2UsIGFjY2Vzc01vZGUgPSBfYS5hY2Nlc3NNb2RlO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCwgcm91dGluZ1RhYmxlLCBzZXJ2ZXJzLCBlcnJvciwgc2VydmVyc18xLCBzZXJ2ZXJzXzFfMSwgYWRkcmVzcywgc2VydmVySW5mbywgZV8xLCBlXzJfMTtcbiAgICAgICAgICAgIHZhciBlXzIsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IHsgZGF0YWJhc2U6IGRhdGFiYXNlIHx8IERFRkFVTFRfREJfTkFNRSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZnJlc2hSb3V0aW5nVGFibGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NNb2RlOiBhY2Nlc3NNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZTogY29udGV4dC5kYXRhYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EYXRhYmFzZU5hbWVSZXNvbHZlZDogZnVuY3Rpb24gKGRhdGFiYXNlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kYXRhYmFzZSA9IGNvbnRleHQuZGF0YWJhc2UgfHwgZGF0YWJhc2VOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0aW5nVGFibGUgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJzID0gYWNjZXNzTW9kZSA9PT0gV1JJVEUgPyByb3V0aW5nVGFibGUud3JpdGVycyA6IHJvdXRpbmdUYWJsZS5yZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJObyBzZXJ2ZXJzIGF2YWlsYWJsZSBmb3IgZGF0YWJhc2UgJ1wiLmNvbmNhdChjb250ZXh0LmRhdGFiYXNlLCBcIicgd2l0aCBhY2Nlc3MgbW9kZSAnXCIpLmNvbmNhdChhY2Nlc3NNb2RlLCBcIidcIiksIFNFUlZJQ0VfVU5BVkFJTEFCTEUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy50cnlzLnB1c2goWzIsIDksIDEwLCAxMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyc18xID0gX192YWx1ZXMoc2VydmVycyksIHNlcnZlcnNfMV8xID0gc2VydmVyc18xLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhc2VydmVyc18xXzEuZG9uZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzID0gc2VydmVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbNCwgNiwgLCA3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl92ZXJpZnlDb25uZWN0aXZpdHlBbmRHZXRTZXJ2ZXJWZXJzaW9uKHsgYWRkcmVzczogYWRkcmVzcyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckluZm8gPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgc2VydmVySW5mb107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gZV8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcnNfMV8xID0gc2VydmVyc18xLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8yXzEgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSB7IGVycm9yOiBlXzJfMSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTFdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmVyc18xXzEgJiYgIXNlcnZlcnNfMV8xLmRvbmUgJiYgKF9iID0gc2VydmVyc18xLnJldHVybikpIF9iLmNhbGwoc2VydmVyc18xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6IHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLmZvcmdldCA9IGZ1bmN0aW9uIChhZGRyZXNzLCBkYXRhYmFzZSkge1xuICAgICAgICB0aGlzLl9yb3V0aW5nVGFibGVSZWdpc3RyeS5hcHBseShkYXRhYmFzZSwge1xuICAgICAgICAgICAgYXBwbHlXaGVuRXhpc3RzOiBmdW5jdGlvbiAocm91dGluZ1RhYmxlKSB7IHJldHVybiByb3V0aW5nVGFibGUuZm9yZ2V0KGFkZHJlc3MpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXZSdyZSBmaXJpbmcgYW5kIGZvcmdldHRpbmcgdGhpcyBvcGVyYXRpb24gZXhwbGljaXRseSBhbmQgbGlzdGVuaW5nIGZvciBhbnlcbiAgICAgICAgLy8gZXJyb3JzIHRvIGF2b2lkIHVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvblxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uUG9vbC5wdXJnZShhZGRyZXNzKS5jYXRjaChmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuZm9yZ2V0V3JpdGVyID0gZnVuY3Rpb24gKGFkZHJlc3MsIGRhdGFiYXNlKSB7XG4gICAgICAgIHRoaXMuX3JvdXRpbmdUYWJsZVJlZ2lzdHJ5LmFwcGx5KGRhdGFiYXNlLCB7XG4gICAgICAgICAgICBhcHBseVdoZW5FeGlzdHM6IGZ1bmN0aW9uIChyb3V0aW5nVGFibGUpIHsgcmV0dXJuIHJvdXRpbmdUYWJsZS5mb3JnZXRXcml0ZXIoYWRkcmVzcyk7IH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fZnJlc2hSb3V0aW5nVGFibGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGFjY2Vzc01vZGUgPSBfYi5hY2Nlc3NNb2RlLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIgPSBfYi5pbXBlcnNvbmF0ZWRVc2VyLCBvbkRhdGFiYXNlTmFtZVJlc29sdmVkID0gX2Iub25EYXRhYmFzZU5hbWVSZXNvbHZlZCwgYXV0aCA9IF9iLmF1dGg7XG4gICAgICAgIHZhciBjdXJyZW50Um91dGluZ1RhYmxlID0gdGhpcy5fcm91dGluZ1RhYmxlUmVnaXN0cnkuZ2V0KGRhdGFiYXNlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgcmVkaXNjb3ZlcnlfMS5Sb3V0aW5nVGFibGUoeyBkYXRhYmFzZTogZGF0YWJhc2UgfSk7IH0pO1xuICAgICAgICBpZiAoIWN1cnJlbnRSb3V0aW5nVGFibGUuaXNTdGFsZUZvcihhY2Nlc3NNb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRSb3V0aW5nVGFibGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJSb3V0aW5nIHRhYmxlIGlzIHN0YWxlIGZvciBkYXRhYmFzZTogXFxcIlwiLmNvbmNhdChkYXRhYmFzZSwgXCJcXFwiIGFuZCBhY2Nlc3MgbW9kZTogXFxcIlwiKS5jb25jYXQoYWNjZXNzTW9kZSwgXCJcXFwiOiBcIikuY29uY2F0KGN1cnJlbnRSb3V0aW5nVGFibGUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZnJlc2hSb3V0aW5nVGFibGUoY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5ld1JvdXRpbmdUYWJsZSkge1xuICAgICAgICAgICAgb25EYXRhYmFzZU5hbWVSZXNvbHZlZChuZXdSb3V0aW5nVGFibGUuZGF0YWJhc2UpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1JvdXRpbmdUYWJsZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fcmVmcmVzaFJvdXRpbmdUYWJsZSA9IGZ1bmN0aW9uIChjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpIHtcbiAgICAgICAgdmFyIGtub3duUm91dGVycyA9IGN1cnJlbnRSb3V0aW5nVGFibGUucm91dGVycztcbiAgICAgICAgaWYgKHRoaXMuX3VzZVNlZWRSb3V0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZXRjaFJvdXRpbmdUYWJsZUZyb21TZWVkUm91dGVyRmFsbGJhY2tUb0tub3duUm91dGVycyhrbm93blJvdXRlcnMsIGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZldGNoUm91dGluZ1RhYmxlRnJvbUtub3duUm91dGVyc0ZhbGxiYWNrVG9TZWVkUm91dGVyKGtub3duUm91dGVycywgY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9mZXRjaFJvdXRpbmdUYWJsZUZyb21TZWVkUm91dGVyRmFsbGJhY2tUb0tub3duUm91dGVycyA9IGZ1bmN0aW9uIChrbm93blJvdXRlcnMsIGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VlblJvdXRlcnMsIF9hLCBuZXdSb3V0aW5nVGFibGUsIGVycm9yLCBfYiwgbmV3Um91dGluZ1RhYmxlMiwgZXJyb3IyO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VlblJvdXRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2ZldGNoUm91dGluZ1RhYmxlVXNpbmdTZWVkUm91dGVyKHNlZW5Sb3V0ZXJzLCB0aGlzLl9zZWVkUm91dGVyLCBjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBfX3JlYWQuYXBwbHkodm9pZCAwLCBbX2Muc2VudCgpLCAyXSksIG5ld1JvdXRpbmdUYWJsZSA9IF9hWzBdLCBlcnJvciA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdSb3V0aW5nVGFibGUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXNlU2VlZFJvdXRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZmV0Y2hSb3V0aW5nVGFibGVVc2luZ0tub3duUm91dGVycyhrbm93blJvdXRlcnMsIGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IF9fcmVhZC5hcHBseSh2b2lkIDAsIFtfYy5zZW50KCksIDJdKSwgbmV3Um91dGluZ1RhYmxlMiA9IF9iWzBdLCBlcnJvcjIgPSBfYlsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1JvdXRpbmdUYWJsZSA9IG5ld1JvdXRpbmdUYWJsZTI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGVycm9yMiB8fCBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9hcHBseVJvdXRpbmdUYWJsZUlmUG9zc2libGUoY3VycmVudFJvdXRpbmdUYWJsZSwgbmV3Um91dGluZ1RhYmxlLCBlcnJvcildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovLCBfYy5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9mZXRjaFJvdXRpbmdUYWJsZUZyb21Lbm93blJvdXRlcnNGYWxsYmFja1RvU2VlZFJvdXRlciA9IGZ1bmN0aW9uIChrbm93blJvdXRlcnMsIGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIG5ld1JvdXRpbmdUYWJsZSwgZXJyb3I7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2ZldGNoUm91dGluZ1RhYmxlVXNpbmdLbm93blJvdXRlcnMoa25vd25Sb3V0ZXJzLCBjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBfX3JlYWQuYXBwbHkodm9pZCAwLCBbX2Muc2VudCgpLCAyXSksIG5ld1JvdXRpbmdUYWJsZSA9IF9hWzBdLCBlcnJvciA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhbmV3Um91dGluZ1RhYmxlKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2ZldGNoUm91dGluZ1RhYmxlVXNpbmdTZWVkUm91dGVyKGtub3duUm91dGVycywgdGhpcy5fc2VlZFJvdXRlciwgY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIGtub3duIHJvdXRlcnMgcmV0dXJuZWQgYSB2YWxpZCByb3V0aW5nIHRhYmxlIC0gdHJ5IHRvIHVzZSBzZWVkIHJvdXRlciBhZGRyZXNzIGZvciByZWRpc2NvdmVyeVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSBfX3JlYWQuYXBwbHkodm9pZCAwLCBbX2Muc2VudCgpLCAyXSksIG5ld1JvdXRpbmdUYWJsZSA9IF9iWzBdLCBlcnJvciA9IF9iWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2FwcGx5Um91dGluZ1RhYmxlSWZQb3NzaWJsZShjdXJyZW50Um91dGluZ1RhYmxlLCBuZXdSb3V0aW5nVGFibGUsIGVycm9yKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9jLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2ZldGNoUm91dGluZ1RhYmxlVXNpbmdLbm93blJvdXRlcnMgPSBmdW5jdGlvbiAoa25vd25Sb3V0ZXJzLCBjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBuZXdSb3V0aW5nVGFibGUsIGVycm9yLCBsYXN0Um91dGVySW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2ZldGNoUm91dGluZ1RhYmxlKGtub3duUm91dGVycywgY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gX19yZWFkLmFwcGx5KHZvaWQgMCwgW19iLnNlbnQoKSwgMl0pLCBuZXdSb3V0aW5nVGFibGUgPSBfYVswXSwgZXJyb3IgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdSb3V0aW5nVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmUgb2YgdGhlIGtub3duIHJvdXRlcnMgcmV0dXJuZWQgYSB2YWxpZCByb3V0aW5nIHRhYmxlIC0gdXNlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFtuZXdSb3V0aW5nVGFibGUsIG51bGxdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSb3V0ZXJJbmRleCA9IGtub3duUm91dGVycy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5fZm9yZ2V0Um91dGVyKGN1cnJlbnRSb3V0aW5nVGFibGUsIGtub3duUm91dGVycywgbGFzdFJvdXRlckluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBbbnVsbCwgZXJyb3JdXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fZmV0Y2hSb3V0aW5nVGFibGVVc2luZ1NlZWRSb3V0ZXIgPSBmdW5jdGlvbiAoc2VlblJvdXRlcnMsIHNlZWRSb3V0ZXIsIHJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHZlZEFkZHJlc3NlcywgbmV3QWRkcmVzc2VzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9yZXNvbHZlU2VlZFJvdXRlcihzZWVkUm91dGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBhbGwgYWRkcmVzc2VzIHRoYXQgd2UndmUgYWxyZWFkeSB0cmllZFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZEFkZHJlc3NlcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FkZHJlc3NlcyA9IHJlc29sdmVkQWRkcmVzc2VzLmZpbHRlcihmdW5jdGlvbiAoYWRkcmVzcykgeyByZXR1cm4gc2VlblJvdXRlcnMuaW5kZXhPZihhZGRyZXNzKSA8IDA7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZmV0Y2hSb3V0aW5nVGFibGUobmV3QWRkcmVzc2VzLCByb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9yZXNvbHZlU2VlZFJvdXRlciA9IGZ1bmN0aW9uIChzZWVkUm91dGVyKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHZlZEFkZHJlc3NlcywgZG5zUmVzb2x2ZWRBZGRyZXNzZXM7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9ob3N0TmFtZVJlc29sdmVyLnJlc29sdmUoc2VlZFJvdXRlcildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZEFkZHJlc3NlcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKHJlc29sdmVkQWRkcmVzc2VzLm1hcChmdW5jdGlvbiAoYWRkcmVzcykgeyByZXR1cm4gX3RoaXMuX2Ruc1Jlc29sdmVyLnJlc29sdmUoYWRkcmVzcyk7IH0pKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRuc1Jlc29sdmVkQWRkcmVzc2VzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFtdLmNvbmNhdC5hcHBseShbXSwgZG5zUmVzb2x2ZWRBZGRyZXNzZXMpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fZmV0Y2hSb3V0aW5nVGFibGUgPSBmdW5jdGlvbiAocm91dGVyQWRkcmVzc2VzLCByb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByb3V0ZXJBZGRyZXNzZXMucmVkdWNlKGZ1bmN0aW9uIChyZWZyZXNoZWRUYWJsZVByb21pc2UsIGN1cnJlbnRSb3V0ZXIsIGN1cnJlbnRJbmRleCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBuZXdSb3V0aW5nVGFibGUsIHByZXZpb3VzUm91dGVySW5kZXgsIF9iLCBzZXNzaW9uLCBlcnJvciwgZXJyb3JfMztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVmcmVzaGVkVGFibGVQcm9taXNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBfX3JlYWQuYXBwbHkodm9pZCAwLCBbX2Muc2VudCgpLCAxXSksIG5ld1JvdXRpbmdUYWJsZSA9IF9hWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1JvdXRpbmdUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhbGlkIHJvdXRpbmcgdGFibGUgd2FzIGZldGNoZWQgLSBqdXN0IHJldHVybiBpdCwgdHJ5IG5leHQgcm91dGVyIG90aGVyd2lzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBbbmV3Um91dGluZ1RhYmxlLCBudWxsXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1JvdXRlckluZGV4ID0gY3VycmVudEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLl9mb3JnZXRSb3V0ZXIocm91dGluZ1RhYmxlLCByb3V0ZXJBZGRyZXNzZXMsIHByZXZpb3VzUm91dGVySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY3JlYXRlU2Vzc2lvbkZvclJlZGlzY292ZXJ5KGN1cnJlbnRSb3V0ZXIsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYiA9IF9fcmVhZC5hcHBseSh2b2lkIDAsIFtfYy5zZW50KCksIDJdKSwgc2Vzc2lvbiA9IF9iWzBdLCBlcnJvciA9IF9iWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gWzMgLypicmVhayovLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MudHJ5cy5wdXNoKFszLCA1LCA2LCA3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9yZWRpc2NvdmVyeS5sb29rdXBSb3V0aW5nVGFibGVPblJvdXRlcihzZXNzaW9uLCByb3V0aW5nVGFibGUuZGF0YWJhc2UsIGN1cnJlbnRSb3V0ZXIsIGltcGVyc29uYXRlZFVzZXIpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qLywgW19jLnNlbnQoKSwgbnVsbF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8zID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX2hhbmRsZVJlZGlzY292ZXJ5RXJyb3IoZXJyb3JfMywgY3VycmVudFJvdXRlcildO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1bmFibGUgdG8gYWNxdWlyZSBjb25uZWN0aW9uIGFuZCBjcmVhdGUgc2Vzc2lvbiB0b3dhcmRzIHRoZSBjdXJyZW50IHJvdXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gbnVsbCB0byBzaWduYWwgdGhhdCB0aGUgbmV4dCByb3V0ZXIgc2hvdWxkIGJlIHRyaWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBbbnVsbCwgZXJyb3JdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pOyB9LCBQcm9taXNlLnJlc29sdmUoW251bGwsIG51bGxdKSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2NyZWF0ZVNlc3Npb25Gb3JSZWRpc2NvdmVyeSA9IGZ1bmN0aW9uIChyb3V0ZXJBZGRyZXNzLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb24sIGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIsIGRlbGVnYXRlQ29ubmVjdGlvbiwgY29ubmVjdGlvblByb3ZpZGVyLCBwcm90b2NvbFZlcnNpb24sIGVycm9yXzQ7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCA0LCAsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLmFjcXVpcmUoeyBhdXRoOiBhdXRoIH0sIHJvdXRlckFkZHJlc3MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXV0aCkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl92ZXJpZnlTdGlja3lDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogYXV0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogcm91dGVyQWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyID0gY29ubmVjdGlvbl8xLkNvbm5lY3Rpb25FcnJvckhhbmRsZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IFNFU1NJT05fRVhQSVJFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWN1cml0eUVycm9yOiBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGNvbm4pIHsgcmV0dXJuIF90aGlzLl9oYW5kbGVTZWN1cml0eUVycm9yKGVycm9yLCBhZGRyZXNzLCBjb25uKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZUNvbm5lY3Rpb24gPSAhY29ubmVjdGlvbi5fc3RpY2t5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgY29ubmVjdGlvbl8xLkRlbGVnYXRlQ29ubmVjdGlvbihjb25uZWN0aW9uLCBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IGNvbm5lY3Rpb25fMS5EZWxlZ2F0ZUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uUHJvdmlkZXIgPSBuZXcgY29ubmVjdGlvbl9wcm92aWRlcl9zaW5nbGVfMS5kZWZhdWx0KGRlbGVnYXRlQ29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm90b2NvbFZlcnNpb24gPSBjb25uZWN0aW9uLnByb3RvY29sKCkudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm90b2NvbFZlcnNpb24gPCA0LjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgW25ldyBuZW80al9kcml2ZXJfY29yZV8xLlNlc3Npb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFdSSVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2ttYXJrczogQm9va21hcmtzLmVtcHR5KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblByb3ZpZGVyOiBjb25uZWN0aW9uUHJvdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBudWxsXV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgW25ldyBuZW80al9kcml2ZXJfY29yZV8xLlNlc3Npb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogUkVBRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBTWVNURU1fREJfTkFNRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2ttYXJrczogYm9va21hcmtzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblByb3ZpZGVyOiBjb25uZWN0aW9uUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBlcnNvbmF0ZWRVc2VyOiBpbXBlcnNvbmF0ZWRVc2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBudWxsXV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5faGFuZGxlUmVkaXNjb3ZlcnlFcnJvcihlcnJvcl80LCByb3V0ZXJBZGRyZXNzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9oYW5kbGVSZWRpc2NvdmVyeUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCByb3V0ZXJBZGRyZXNzKSB7XG4gICAgICAgIGlmIChfaXNGYWlsRmFzdEVycm9yKGVycm9yKSB8fCBfaXNGYWlsRmFzdFNlY3VyaXR5RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlcnJvci5jb2RlID09PSBQUk9DRURVUkVfTk9UX0ZPVU5EX0NPREUpIHtcbiAgICAgICAgICAgIC8vIHRocm93IHdoZW4gZ2V0U2VydmVycyBwcm9jZWR1cmUgbm90IGZvdW5kIGJlY2F1c2UgdGhpcyBpcyBjbGVhcmx5IGEgY29uZmlndXJhdGlvbiBpc3N1ZVxuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiU2VydmVyIGF0IFwiLmNvbmNhdChyb3V0ZXJBZGRyZXNzLmFzSG9zdFBvcnQoKSwgXCIgY2FuJ3QgcGVyZm9ybSByb3V0aW5nLiBNYWtlIHN1cmUgeW91IGFyZSBjb25uZWN0aW5nIHRvIGEgY2F1c2FsIGNsdXN0ZXJcIiksIFNFUlZJQ0VfVU5BVkFJTEFCTEUsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2cud2FybihcInVuYWJsZSB0byBmZXRjaCByb3V0aW5nIHRhYmxlIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIuY29uY2F0KGVycm9yKSk7XG4gICAgICAgIHJldHVybiBbbnVsbCwgZXJyb3JdO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2FwcGx5Um91dGluZ1RhYmxlSWZQb3NzaWJsZSA9IGZ1bmN0aW9uIChjdXJyZW50Um91dGluZ1RhYmxlLCBuZXdSb3V0aW5nVGFibGUsIGVycm9yKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV3Um91dGluZ1RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uZSBvZiByb3V0aW5nIHNlcnZlcnMgcmV0dXJuZWQgdmFsaWQgcm91dGluZyB0YWJsZSwgdGhyb3cgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiQ291bGQgbm90IHBlcmZvcm0gZGlzY292ZXJ5LiBObyByb3V0aW5nIHNlcnZlcnMgYXZhaWxhYmxlLiBLbm93biByb3V0aW5nIHRhYmxlOiBcIi5jb25jYXQoY3VycmVudFJvdXRpbmdUYWJsZSksIFNFUlZJQ0VfVU5BVkFJTEFCTEUsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdSb3V0aW5nVGFibGUud3JpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2Ugc2VlZCByb3V0ZXIgbmV4dCB0aW1lLiB0aGlzIGlzIGltcG9ydGFudCB3aGVuIGNsdXN0ZXIgaXMgcGFydGl0aW9uZWQuIGl0IHRyaWVzIHRvIG1ha2Ugc3VyZSBkcml2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb2VzIG5vdCBhbHdheXMgZ2V0IHJvdXRpbmcgdGFibGUgd2l0aG91dCB3cml0ZXJzIGJlY2F1c2UgaXQgdGFsa3MgZXhjbHVzaXZlbHkgdG8gYSBtaW5vcml0eSBwYXJ0aXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91c2VTZWVkUm91dGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3VwZGF0ZVJvdXRpbmdUYWJsZShuZXdSb3V0aW5nVGFibGUpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ld1JvdXRpbmdUYWJsZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX3VwZGF0ZVJvdXRpbmdUYWJsZSA9IGZ1bmN0aW9uIChuZXdSb3V0aW5nVGFibGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiBcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2Ugb2xkIGNvbm5lY3Rpb25zIHRvIHNlcnZlcnMgbm90IHByZXNlbnQgaW4gdGhlIG5ldyByb3V0aW5nIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLmtlZXBBbGwobmV3Um91dGluZ1RhYmxlLmFsbFNlcnZlcnMoKSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZSBvbGQgY29ubmVjdGlvbnMgdG8gc2VydmVycyBub3QgcHJlc2VudCBpbiB0aGUgbmV3IHJvdXRpbmcgdGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdXRpbmdUYWJsZVJlZ2lzdHJ5LnJlbW92ZUV4cGlyZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdXRpbmdUYWJsZVJlZ2lzdHJ5LnJlZ2lzdGVyKG5ld1JvdXRpbmdUYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIlVwZGF0ZWQgcm91dGluZyB0YWJsZSBcIi5jb25jYXQobmV3Um91dGluZ1RhYmxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5fZm9yZ2V0Um91dGVyID0gZnVuY3Rpb24gKHJvdXRpbmdUYWJsZSwgcm91dGVyc0FycmF5LCByb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgYWRkcmVzcyA9IHJvdXRlcnNBcnJheVtyb3V0ZXJJbmRleF07XG4gICAgICAgIGlmIChyb3V0aW5nVGFibGUgJiYgYWRkcmVzcykge1xuICAgICAgICAgICAgcm91dGluZ1RhYmxlLmZvcmdldFJvdXRlcihhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2NoYW5uZWxTc3JDYWxsYmFjayA9IGZ1bmN0aW9uIChpc0VuYWJsZWQsIGFjdGlvbikge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnT1BFTicpIHtcbiAgICAgICAgICAgIGlmIChpc0VuYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93aXRoU1NSID0gdGhpcy5fd2l0aFNTUiArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93aXRob3V0U1NSID0gdGhpcy5fd2l0aG91dFNTUiArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAnQ0xPU0UnKSB7XG4gICAgICAgICAgICBpZiAoaXNFbmFibGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2l0aFNTUiA9IHRoaXMuX3dpdGhTU1IgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2l0aG91dFNTUiA9IHRoaXMuX3dpdGhvdXRTU1IgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiQ2hhbm5lbCBTU1IgQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGFjdGlvbiBvdGhlciB0aGFuICdPUEVOJyBvciAnQ0xPU0UnXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5TU1JFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2l0aFNTUiA+IDAgJiYgdGhpcy5fd2l0aG91dFNTUiA9PT0gMDtcbiAgICB9O1xuICAgIHJldHVybiBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyO1xufShjb25uZWN0aW9uX3Byb3ZpZGVyX3Bvb2xlZF8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXI7XG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBrZWVwaW5nIHRyYWNrIG9mIHRoZSBleGlzdGluZyByb3V0aW5nIHRhYmxlc1xuICovXG52YXIgUm91dGluZ1RhYmxlUmVnaXN0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge2ludH0gcm91dGluZ1RhYmxlUHVyZ2VEZWxheSBUaGUgcm91dGluZyB0YWJsZSBwdXJnZSBkZWxheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdXRpbmdUYWJsZVJlZ2lzdHJ5KHJvdXRpbmdUYWJsZVB1cmdlRGVsYXkpIHtcbiAgICAgICAgdGhpcy5fdGFibGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9yb3V0aW5nVGFibGVQdXJnZURlbGF5ID0gcm91dGluZ1RhYmxlUHVyZ2VEZWxheTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHV0IGEgcm91dGluZyB0YWJsZSBpbiB0aGUgcmVnaXN0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Um91dGluZ1RhYmxlfSB0YWJsZSBUaGUgcm91dGluZyB0YWJsZVxuICAgICAqIEByZXR1cm5zIHtSb3V0aW5nVGFibGVSZWdpc3RyeX0gdGhpc1xuICAgICAqL1xuICAgIFJvdXRpbmdUYWJsZVJlZ2lzdHJ5LnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICB0aGlzLl90YWJsZXMuc2V0KHRhYmxlLmRhdGFiYXNlLCB0YWJsZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgZnVuY3Rpb24gaW4gdGhlIHJvdXRpbmcgdGFibGUgZm9yIGFuIHNwZWNpZmljIGRhdGFiYXNlLiBJZiB0aGUgZGF0YWJhc2UgbmFtZSBpcyBub3QgZGVmaW5lZCwgdGhlIGZ1bmN0aW9uIHdpbGxcbiAgICAgKiBiZSBhcHBsaWVkIGZvciBlYWNoIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZSBUaGUgZGF0YWJhc2UgbmFtZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFja3MgVGhlIGFjdGlvbnNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uIChSb3V0aW5nVGFibGUpfSBjYWxsYmFja3MuYXBwbHlXaGVuRXhpc3RzIENhbGwgd2hlbiB0aGUgZGIgZXhpc3RzIG9yIHdoZW4gdGhlIGRhdGFiYXNlIHByb3BlcnR5IGlzIG5vdCBpbmZvcm1lZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24gKCl9IGNhbGxiYWNrcy5hcHBseVdoZW5Eb250RXhpc3RzIENhbGwgd2hlbiB0aGUgZGF0YWJhc2UgZG9lc24ndCBoYXZlIHRoZSByb3V0aW5nIHRhYmxlIHJlZ2lzdHJlZFxuICAgICAqIEByZXR1cm5zIHtSb3V0aW5nVGFibGVSZWdpc3RyeX0gdGhpc1xuICAgICAqL1xuICAgIFJvdXRpbmdUYWJsZVJlZ2lzdHJ5LnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChkYXRhYmFzZSwgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGFwcGx5V2hlbkV4aXN0cyA9IF9iLmFwcGx5V2hlbkV4aXN0cywgX2MgPSBfYi5hcHBseVdoZW5Eb250RXhpc3RzLCBhcHBseVdoZW5Eb250RXhpc3RzID0gX2MgPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHsgfSA6IF9jO1xuICAgICAgICBpZiAodGhpcy5fdGFibGVzLmhhcyhkYXRhYmFzZSkpIHtcbiAgICAgICAgICAgIGFwcGx5V2hlbkV4aXN0cyh0aGlzLl90YWJsZXMuZ2V0KGRhdGFiYXNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRhdGFiYXNlID09PSAnc3RyaW5nJyB8fCBkYXRhYmFzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgYXBwbHlXaGVuRG9udEV4aXN0cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZm9yRWFjaChhcHBseVdoZW5FeGlzdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgcm91dGluZyB0YWJsZSBmcm9tIGEgZ2l2ZW4gZGF0YWJhc2UgbmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8aW1wZXJzb25hdGVkVXNlcn0gaW1wZXJzb25hdGVkVXNlciBUaGUgaW1wZXJzb25hdGVkIFVzZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YWJhc2UgVGhlIGRhdGFiYXNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl8Um91dGluZ1RhYmxlfSBkZWZhdWx0U3VwcGxpZXIgVGhlIHJvdXRpbmcgdGFibGUgc3VwcGxpZXIsIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24gb3Igbm90IGV4aXN0cywgaXQgd2lsbCByZXR1cm4gaXRzZWxmIGFzIGRlZmF1bHQgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7Um91dGluZ1RhYmxlfSBUaGUgcm91dGluZyB0YWJsZSBmb3IgdGhlIHJlc3BlY3RpdmUgZGF0YWJhc2VcbiAgICAgKi9cbiAgICBSb3V0aW5nVGFibGVSZWdpc3RyeS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGRhdGFiYXNlLCBkZWZhdWx0U3VwcGxpZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RhYmxlcy5oYXMoZGF0YWJhc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFibGVzLmdldChkYXRhYmFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0U3VwcGxpZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gZGVmYXVsdFN1cHBsaWVyKClcbiAgICAgICAgICAgIDogZGVmYXVsdFN1cHBsaWVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSByb3V0aW5nIHRhYmxlIHdoaWNoIGlzIGFscmVhZHkgZXhwaXJlZFxuICAgICAqIEByZXR1cm5zIHtSb3V0aW5nVGFibGVSZWdpc3RyeX0gdGhpc1xuICAgICAqL1xuICAgIFJvdXRpbmdUYWJsZVJlZ2lzdHJ5LnByb3RvdHlwZS5yZW1vdmVFeHBpcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlSWYoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuaXNFeHBpcmVkRm9yKF90aGlzLl9yb3V0aW5nVGFibGVQdXJnZURlbGF5KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nVGFibGVSZWdpc3RyeS5wcm90b3R5cGUuX2ZvckVhY2ggPSBmdW5jdGlvbiAoYXBwbHkpIHtcbiAgICAgICAgdmFyIGVfMywgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuX3RhYmxlcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCB2YWx1ZSA9IF9kWzFdO1xuICAgICAgICAgICAgICAgIGFwcGx5KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUm91dGluZ1RhYmxlUmVnaXN0cnkucHJvdG90eXBlLl9yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX3RhYmxlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSb3V0aW5nVGFibGVSZWdpc3RyeS5wcm90b3R5cGUuX3JlbW92ZUlmID0gZnVuY3Rpb24gKHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgZV80LCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5fdGFibGVzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBfZCA9IF9fcmVhZChfYy52YWx1ZSwgMiksIGtleSA9IF9kWzBdLCB2YWx1ZSA9IF9kWzFdO1xuICAgICAgICAgICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZShrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV80XzEpIHsgZV80ID0geyBlcnJvcjogZV80XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFJvdXRpbmdUYWJsZVJlZ2lzdHJ5O1xufSgpKTtcbmZ1bmN0aW9uIF9pc0ZhaWxGYXN0RXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBEQVRBQkFTRV9OT1RfRk9VTkRfQ09ERSxcbiAgICAgICAgSU5WQUxJRF9CT09LTUFSS19DT0RFLFxuICAgICAgICBJTlZBTElEX0JPT0tNQVJLX01JWFRVUkVfQ09ERSxcbiAgICAgICAgSU5WQUxJRF9BUkdVTUVOVF9FUlJPUixcbiAgICAgICAgSU5WQUxJRF9SRVFVRVNUX0VSUk9SLFxuICAgICAgICBTVEFURU1FTlRfVFlQRV9FUlJPUixcbiAgICAgICAgTk9UX0FWQUlMQUJMRVxuICAgIF0uaW5jbHVkZXMoZXJyb3IuY29kZSk7XG59XG5mdW5jdGlvbiBfaXNGYWlsRmFzdFNlY3VyaXR5RXJyb3IoZXJyb3IpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBlcnJvci5jb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRzV2l0aCgnTmVvLkNsaWVudEVycm9yLlNlY3VyaXR5LicpKSAmJlxuICAgICAgICAhW1xuICAgICAgICAgICAgQVVUSE9SSVpBVElPTl9FWFBJUkVEX0NPREVcbiAgICAgICAgXS5pbmNsdWRlcyhlcnJvci5jb2RlKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar SingleConnectionProvider = /** @class */ (function (_super) {\n    __extends(SingleConnectionProvider, _super);\n    function SingleConnectionProvider(connection) {\n        var _this = _super.call(this) || this;\n        _this._connection = connection;\n        return _this;\n    }\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    SingleConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks;\n        var connection = this._connection;\n        this._connection = null;\n        return Promise.resolve(connection);\n    };\n    return SingleConnectionProvider;\n}(neo4j_driver_core_1.ConnectionProvider));\nexports[\"default\"] = SingleConnectionProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXNpbmdsZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24tcHJvdmlkZXIvY29ubmVjdGlvbi1wcm92aWRlci1zaW5nbGUuanM/NjI1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgU2luZ2xlQ29ubmVjdGlvblByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW5nbGVDb25uZWN0aW9uUHJvdmlkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2luZ2xlQ29ubmVjdGlvblByb3ZpZGVyKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2Nvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZSB7QGxpbmsgQ29ubmVjdGlvblByb3ZpZGVyfSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG1ldGhvZCBhbmRcbiAgICAgKiBpdHMgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIFNpbmdsZUNvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuYWNxdWlyZUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGFjY2Vzc01vZGUgPSBfYi5hY2Nlc3NNb2RlLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBib29rbWFya3MgPSBfYi5ib29rbWFya3M7XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY29ubmVjdGlvbik7XG4gICAgfTtcbiAgICByZXR1cm4gU2luZ2xlQ29ubmVjdGlvblByb3ZpZGVyO1xufShuZW80al9kcml2ZXJfY29yZV8xLkNvbm5lY3Rpb25Qcm92aWRlcikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU2luZ2xlQ29ubmVjdGlvblByb3ZpZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RoutingConnectionProvider = exports.DirectConnectionProvider = exports.PooledConnectionProvider = exports.SingleConnectionProvider = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar connection_provider_single_1 = __webpack_require__(/*! ./connection-provider-single */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js\");\nObject.defineProperty(exports, \"SingleConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_single_1).default; } }));\nvar connection_provider_pooled_1 = __webpack_require__(/*! ./connection-provider-pooled */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\");\nObject.defineProperty(exports, \"PooledConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_pooled_1).default; } }));\nvar connection_provider_direct_1 = __webpack_require__(/*! ./connection-provider-direct */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js\");\nObject.defineProperty(exports, \"DirectConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_direct_1).default; } }));\nvar connection_provider_routing_1 = __webpack_require__(/*! ./connection-provider-routing */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js\");\nObject.defineProperty(exports, \"RoutingConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_routing_1).default; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQyxHQUFHLGdDQUFnQyxHQUFHLGdDQUFnQyxHQUFHLGdDQUFnQztBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtQkFBTyxDQUFDLDZJQUE4QjtBQUN6RSw0REFBMkQsRUFBRSxxQ0FBcUMsaUVBQWlFLEVBQUM7QUFDcEssbUNBQW1DLG1CQUFPLENBQUMsNklBQThCO0FBQ3pFLDREQUEyRCxFQUFFLHFDQUFxQyxpRUFBaUUsRUFBQztBQUNwSyxtQ0FBbUMsbUJBQU8sQ0FBQyw2SUFBOEI7QUFDekUsNERBQTJELEVBQUUscUNBQXFDLGlFQUFpRSxFQUFDO0FBQ3BLLG9DQUFvQyxtQkFBTyxDQUFDLCtJQUErQjtBQUMzRSw2REFBNEQsRUFBRSxxQ0FBcUMsa0VBQWtFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24tcHJvdmlkZXIvaW5kZXguanM/ZmQ3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlciA9IGV4cG9ydHMuRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyID0gZXhwb3J0cy5Qb29sZWRDb25uZWN0aW9uUHJvdmlkZXIgPSBleHBvcnRzLlNpbmdsZUNvbm5lY3Rpb25Qcm92aWRlciA9IHZvaWQgMDtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgY29ubmVjdGlvbl9wcm92aWRlcl9zaW5nbGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tcHJvdmlkZXItc2luZ2xlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2luZ2xlQ29ubmVjdGlvblByb3ZpZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQoY29ubmVjdGlvbl9wcm92aWRlcl9zaW5nbGVfMSkuZGVmYXVsdDsgfSB9KTtcbnZhciBjb25uZWN0aW9uX3Byb3ZpZGVyX3Bvb2xlZF8xID0gcmVxdWlyZShcIi4vY29ubmVjdGlvbi1wcm92aWRlci1wb29sZWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQb29sZWRDb25uZWN0aW9uUHJvdmlkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9faW1wb3J0RGVmYXVsdChjb25uZWN0aW9uX3Byb3ZpZGVyX3Bvb2xlZF8xKS5kZWZhdWx0OyB9IH0pO1xudmFyIGNvbm5lY3Rpb25fcHJvdmlkZXJfZGlyZWN0XzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aW9uLXByb3ZpZGVyLWRpcmVjdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkRpcmVjdENvbm5lY3Rpb25Qcm92aWRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KGNvbm5lY3Rpb25fcHJvdmlkZXJfZGlyZWN0XzEpLmRlZmF1bHQ7IH0gfSk7XG52YXIgY29ubmVjdGlvbl9wcm92aWRlcl9yb3V0aW5nXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aW9uLXByb3ZpZGVyLXJvdXRpbmdcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQoY29ubmVjdGlvbl9wcm92aWRlcl9yb3V0aW5nXzEpLmRlZmF1bHQ7IH0gfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar LivenessCheckProvider = /** @class */ (function () {\n    function LivenessCheckProvider(_a) {\n        var connectionLivenessCheckTimeout = _a.connectionLivenessCheckTimeout;\n        this._connectionLivenessCheckTimeout = connectionLivenessCheckTimeout;\n    }\n    /**\n     * Checks connection liveness with configured params.\n     *\n     * @param {Connection} connection\n     * @returns {Promise<true>} If liveness checks succeed, throws otherwise\n     */\n    LivenessCheckProvider.prototype.check = function (connection) {\n        return __awaiter(this, void 0, void 0, function () {\n            var idleFor;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._isCheckDisabled || this._isNewlyCreatedConnection(connection)) {\n                            return [2 /*return*/, true];\n                        }\n                        idleFor = Date.now() - connection.idleTimestamp;\n                        if (!(this._connectionLivenessCheckTimeout === 0 ||\n                            idleFor > this._connectionLivenessCheckTimeout)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, connection.resetAndFlush()\n                                .then(function () { return true; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                    case 2: return [2 /*return*/, true];\n                }\n            });\n        });\n    };\n    Object.defineProperty(LivenessCheckProvider.prototype, \"_isCheckDisabled\", {\n        get: function () {\n            return this._connectionLivenessCheckTimeout == null || this._connectionLivenessCheckTimeout < 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    LivenessCheckProvider.prototype._isNewlyCreatedConnection = function (connection) {\n        return connection.authToken == null;\n    };\n    return LivenessCheckProvider;\n}());\nexports[\"default\"] = LivenessCheckProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9saXZlbmVzcy1jaGVjay1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxZQUFZO0FBQzNCLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsY0FBYztBQUNsRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24tcHJvdmlkZXIvbGl2ZW5lc3MtY2hlY2stcHJvdmlkZXIuanM/NDBkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgTGl2ZW5lc3NDaGVja1Byb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpdmVuZXNzQ2hlY2tQcm92aWRlcihfYSkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0ID0gX2EuY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0O1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uTGl2ZW5lc3NDaGVja1RpbWVvdXQgPSBjb25uZWN0aW9uTGl2ZW5lc3NDaGVja1RpbWVvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBjb25uZWN0aW9uIGxpdmVuZXNzIHdpdGggY29uZmlndXJlZCBwYXJhbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn0gSWYgbGl2ZW5lc3MgY2hlY2tzIHN1Y2NlZWQsIHRocm93cyBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBMaXZlbmVzc0NoZWNrUHJvdmlkZXIucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlkbGVGb3I7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNDaGVja0Rpc2FibGVkIHx8IHRoaXMuX2lzTmV3bHlDcmVhdGVkQ29ubmVjdGlvbihjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVGb3IgPSBEYXRlLm5vdygpIC0gY29ubmVjdGlvbi5pZGxlVGltZXN0YW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5fY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0ID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZUZvciA+IHRoaXMuX2Nvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29ubmVjdGlvbi5yZXNldEFuZEZsdXNoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGl2ZW5lc3NDaGVja1Byb3ZpZGVyLnByb3RvdHlwZSwgXCJfaXNDaGVja0Rpc2FibGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0ID09IG51bGwgfHwgdGhpcy5fY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0IDwgMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExpdmVuZXNzQ2hlY2tQcm92aWRlci5wcm90b3R5cGUuX2lzTmV3bHlDcmVhdGVkQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uLmF1dGhUb2tlbiA9PSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIExpdmVuZXNzQ2hlY2tQcm92aWRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMaXZlbmVzc0NoZWNrUHJvdmlkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createChannelConnection = void 0;\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar connection_1 = __importDefault(__webpack_require__(/*! ./connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\"));\nvar bolt_1 = __importDefault(__webpack_require__(/*! ../bolt */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\"));\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar Logger = neo4j_driver_core_1.internal.logger.Logger;\nvar idGenerator = 0;\n/**\n * Crete new connection to the provided address. Returned connection is not connected.\n * @param {ServerAddress} address - the Bolt endpoint to connect to.\n * @param {Object} config - the driver configuration.\n * @param {ConnectionErrorHandler} errorHandler - the error handler for connection errors.\n * @param {Logger} log - configured logger.\n * @param {clientCertificate} clientCertificate - configured client certificate\n * @param ssrCallback - callback function used to update the counts of ssr enabled and disabled connections\n * @param createChannel - function taking a channelConfig object and creating a channel with it\n * @return {Connection} - new connection.\n */\nfunction createChannelConnection(address, config, errorHandler, log, clientCertificate, serversideRouting, ssrCallback, createChannel) {\n    if (serversideRouting === void 0) { serversideRouting = null; }\n    if (createChannel === void 0) { createChannel = function (channelConfig) { return new channel_1.Channel(channelConfig); }; }\n    var channelConfig = new channel_1.ChannelConfig(address, config, errorHandler.errorCode(), clientCertificate);\n    var channel = createChannel(channelConfig);\n    return bolt_1.default.handshake(channel, log)\n        .then(function (_a) {\n        var version = _a.protocolVersion, consumeRemainingBuffer = _a.consumeRemainingBuffer;\n        var chunker = new channel_1.Chunker(channel);\n        var dechunker = new channel_1.Dechunker();\n        var createProtocol = function (conn) {\n            return bolt_1.default.create({\n                version: version,\n                channel: channel,\n                chunker: chunker,\n                dechunker: dechunker,\n                disableLosslessIntegers: config.disableLosslessIntegers,\n                useBigInt: config.useBigInt,\n                serversideRouting: serversideRouting,\n                server: conn.server,\n                log: conn.logger,\n                observer: {\n                    onObserversCountChange: conn._handleOngoingRequestsNumberChange.bind(conn),\n                    onError: conn._handleFatalError.bind(conn),\n                    onFailure: conn._resetOnFailure.bind(conn),\n                    onProtocolError: conn._handleProtocolError.bind(conn),\n                    onErrorApplyTransformation: function (error) {\n                        return conn.handleAndTransformError(error, conn._address);\n                    }\n                }\n            });\n        };\n        var connection = new ChannelConnection(channel, errorHandler, address, log, config.disableLosslessIntegers, serversideRouting, chunker, config.notificationFilter, createProtocol, config.telemetryDisabled, ssrCallback);\n        // forward all pending bytes to the dechunker\n        consumeRemainingBuffer(function (buffer) { return dechunker.write(buffer); });\n        return connection;\n    })\n        .catch(function (reason) {\n        return channel.close().then(function () {\n            throw reason;\n        });\n    });\n}\nexports.createChannelConnection = createChannelConnection;\nvar ChannelConnection = /** @class */ (function (_super) {\n    __extends(ChannelConnection, _super);\n    /**\n     * @constructor\n     * @param {Channel} channel - channel with a 'write' function and a 'onmessage' callback property.\n     * @param {ConnectionErrorHandler} errorHandler the error handler.\n     * @param {ServerAddress} address - the server address to connect to.\n     * @param {Logger} log - the configured logger.\n     * @param {boolean} disableLosslessIntegers - if this connection should convert all received integers to native JS numbers.\n     * @param {Chunker} chunker - the chunker\n     * @param protocolSupplier - Bolt protocol supplier\n     * @param {boolean} telemetryDisabled - wether telemetry has been disabled in driver config.\n     * @param ssrCallback - callback function used to update the counts of ssr enabled and disabled connections.\n     */\n    function ChannelConnection(channel, errorHandler, address, log, disableLosslessIntegers, serversideRouting, chunker, // to be removed,\n    notificationFilter, protocolSupplier, telemetryDisabled, ssrCallback) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (serversideRouting === void 0) { serversideRouting = null; }\n        if (ssrCallback === void 0) { ssrCallback = function (_) { }; }\n        var _this = _super.call(this, errorHandler) || this;\n        _this._authToken = null;\n        _this._idle = false;\n        _this._reseting = false;\n        _this._resetObservers = [];\n        _this._id = idGenerator++;\n        _this._address = address;\n        _this._server = { address: address.asHostPort() };\n        _this._creationTimestamp = Date.now();\n        _this._disableLosslessIntegers = disableLosslessIntegers;\n        _this._ch = channel;\n        _this._chunker = chunker;\n        _this._log = createConnectionLogger(_this, log);\n        _this._serversideRouting = serversideRouting;\n        _this._notificationFilter = notificationFilter;\n        _this._telemetryDisabledDriverConfig = telemetryDisabled === true;\n        _this._telemetryDisabledConnection = true;\n        _this._ssrCallback = ssrCallback;\n        // connection from the database, returned in response for HELLO message and might not be available\n        _this._dbConnectionId = null;\n        // bolt protocol is initially not initialized\n        /**\n         * @private\n         * @type {BoltProtocol}\n         */\n        _this._protocol = protocolSupplier(_this);\n        // Set to true on fatal errors, to get this out of connection pool.\n        _this._isBroken = false;\n        if (_this._log.isDebugEnabled()) {\n            _this._log.debug(\"created towards \".concat(address));\n        }\n        return _this;\n    }\n    ChannelConnection.prototype.beginTransaction = function (config) {\n        this._sendTelemetryIfEnabled(config);\n        return this._protocol.beginTransaction(config);\n    };\n    ChannelConnection.prototype.run = function (query, parameters, config) {\n        this._sendTelemetryIfEnabled(config);\n        return this._protocol.run(query, parameters, config);\n    };\n    ChannelConnection.prototype._sendTelemetryIfEnabled = function (config) {\n        if (this._telemetryDisabledConnection ||\n            this._telemetryDisabledDriverConfig ||\n            config == null ||\n            config.apiTelemetryConfig == null) {\n            return;\n        }\n        this._protocol.telemetry({\n            api: config.apiTelemetryConfig.api\n        }, {\n            onCompleted: config.apiTelemetryConfig.onTelemetrySuccess,\n            onError: config.beforeError\n        });\n    };\n    ChannelConnection.prototype.commitTransaction = function (config) {\n        return this._protocol.commitTransaction(config);\n    };\n    ChannelConnection.prototype.rollbackTransaction = function (config) {\n        return this._protocol.rollbackTransaction(config);\n    };\n    ChannelConnection.prototype.getProtocolVersion = function () {\n        return this._protocol.version;\n    };\n    Object.defineProperty(ChannelConnection.prototype, \"authToken\", {\n        get: function () {\n            return this._authToken;\n        },\n        set: function (value) {\n            this._authToken = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"supportsReAuth\", {\n        get: function () {\n            return this._protocol.supportsReAuth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"databaseId\", {\n        get: function () {\n            return this._dbConnectionId;\n        },\n        set: function (value) {\n            this._dbConnectionId = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"idleTimestamp\", {\n        get: function () {\n            return this._idleTimestamp;\n        },\n        set: function (value) {\n            this._idleTimestamp = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"creationTimestamp\", {\n        get: function () {\n            return this._creationTimestamp;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send initialization message.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} boltAgent the bolt agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @param {boolean} waitReAuth whether ot not the connection will wait for re-authentication to happen\n     * @return {Promise<Connection>} promise resolved with the current connection if connection is successful. Rejected promise otherwise.\n     */\n    ChannelConnection.prototype.connect = function (userAgent, boltAgent, authToken, waitReAuth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._protocol.initialized && !this._protocol.supportsReAuth) {\n                            throw (0, neo4j_driver_core_1.newError)('Connection does not support re-auth');\n                        }\n                        this._authToken = authToken;\n                        if (!!this._protocol.initialized) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._initialize(userAgent, boltAgent, authToken)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                    case 2:\n                        if (!waitReAuth) return [3 /*break*/, 4];\n                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                _this._protocol.logoff({\n                                    onError: reject\n                                });\n                                _this._protocol.logon({\n                                    authToken: authToken,\n                                    onError: reject,\n                                    onComplete: function () { return resolve(_this); },\n                                    flush: true\n                                });\n                            })];\n                    case 3: return [2 /*return*/, _a.sent()];\n                    case 4:\n                        this._protocol.logoff();\n                        this._protocol.logon({ authToken: authToken, flush: true });\n                        return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    /**\n     * Perform protocol-specific initialization which includes authentication.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {string} boltAgent the bolt agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @return {Promise<Connection>} promise resolved with the current connection if initialization is successful. Rejected promise otherwise.\n     */\n    ChannelConnection.prototype._initialize = function (userAgent, boltAgent, authToken) {\n        var _this = this;\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            _this._protocol.initialize({\n                userAgent: userAgent,\n                boltAgent: boltAgent,\n                authToken: authToken,\n                notificationFilter: _this._notificationFilter,\n                onError: function (err) { return reject(err); },\n                onComplete: function (metadata) {\n                    var _a;\n                    if (metadata) {\n                        // read server version from the response metadata, if it is available\n                        var serverVersion = metadata.server;\n                        if (!_this.version || serverVersion) {\n                            _this.version = serverVersion;\n                        }\n                        // read database connection id from the response metadata, if it is available\n                        var dbConnectionId = metadata.connection_id;\n                        if (!_this.databaseId) {\n                            _this.databaseId = dbConnectionId;\n                        }\n                        if (metadata.hints) {\n                            var receiveTimeoutRaw = metadata.hints['connection.recv_timeout_seconds'];\n                            if (receiveTimeoutRaw !== null &&\n                                receiveTimeoutRaw !== undefined) {\n                                var receiveTimeoutInSeconds = (0, neo4j_driver_core_1.toNumber)(receiveTimeoutRaw);\n                                if (Number.isInteger(receiveTimeoutInSeconds) &&\n                                    receiveTimeoutInSeconds > 0) {\n                                    _this._ch.setupReceiveTimeout(receiveTimeoutInSeconds * 1000);\n                                }\n                                else {\n                                    _this._log.info(\"Server located at \".concat(_this._address, \" supplied an invalid connection receive timeout value (\").concat(receiveTimeoutInSeconds, \"). \") +\n                                        'Please, verify the server configuration and status because this can be the symptom of a bigger issue.');\n                                }\n                            }\n                            var telemetryEnabledHint = metadata.hints['telemetry.enabled'];\n                            if (telemetryEnabledHint === true) {\n                                _this._telemetryDisabledConnection = false;\n                            }\n                            _this.SSREnabledHint = metadata.hints['ssr.enabled'];\n                        }\n                        _this._ssrCallback((_a = _this.SSREnabledHint) !== null && _a !== void 0 ? _a : false, 'OPEN');\n                    }\n                    resolve(self);\n                }\n            });\n        });\n    };\n    /**\n     * Get the Bolt protocol for the connection.\n     * @return {BoltProtocol} the protocol.\n     */\n    ChannelConnection.prototype.protocol = function () {\n        return this._protocol;\n    };\n    Object.defineProperty(ChannelConnection.prototype, \"address\", {\n        get: function () {\n            return this._address;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"version\", {\n        /**\n         * Get the version of the connected server.\n         * Available only after initialization\n         *\n         * @returns {ServerVersion} version\n         */\n        get: function () {\n            return this._server.version;\n        },\n        set: function (value) {\n            this._server.version = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"server\", {\n        get: function () {\n            return this._server;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"logger\", {\n        get: function () {\n            return this._log;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * \"Fatal\" means the connection is dead. Only call this if something\n     * happens that cannot be recovered from. This will lead to all subscribers\n     * failing, and the connection getting ejected from the session pool.\n     *\n     * @param error an error object, forwarded to all current and future subscribers\n     */\n    ChannelConnection.prototype._handleFatalError = function (error) {\n        this._isBroken = true;\n        this._error = this.handleAndTransformError(this._protocol.currentFailure || error, this._address);\n        if (this._log.isErrorEnabled()) {\n            this._log.error(\"experienced a fatal error caused by \".concat(this._error, \" (\").concat(neo4j_driver_core_1.json.stringify(this._error), \")\"));\n        }\n        this._protocol.notifyFatalError(this._error);\n    };\n    /**\n     * This method is used by the {@link PooledConnectionProvider}\n     *\n     * @param {any} observer\n     */\n    ChannelConnection.prototype._setIdle = function (observer) {\n        this._idle = true;\n        this._ch.stopReceiveTimeout();\n        this._protocol.queueObserverIfProtocolIsNotBroken(observer);\n    };\n    /**\n     * This method is used by the {@link PooledConnectionProvider}\n     */\n    ChannelConnection.prototype._unsetIdle = function () {\n        this._idle = false;\n        this._updateCurrentObserver();\n    };\n    /**\n     * This method still here because of the connection-channel.tests.js\n     *\n     * @param {any} observer\n     */\n    ChannelConnection.prototype._queueObserver = function (observer) {\n        return this._protocol.queueObserverIfProtocolIsNotBroken(observer);\n    };\n    ChannelConnection.prototype.hasOngoingObservableRequests = function () {\n        return !this._idle && this._protocol.hasOngoingObservableRequests();\n    };\n    /**\n     * Send a RESET-message to the database. Message is immediately flushed to the network.\n     * @return {Promise<void>} promise resolved when SUCCESS-message response arrives, or failed when other response messages arrives.\n     */\n    ChannelConnection.prototype.resetAndFlush = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._reset({\n                onError: function (error) {\n                    if (_this._isBroken) {\n                        // handling a fatal error, no need to raise a protocol violation\n                        reject(error);\n                    }\n                    else {\n                        var neo4jError = _this._handleProtocolError(\"Received FAILURE as a response for RESET: \".concat(error));\n                        reject(neo4jError);\n                    }\n                },\n                onComplete: function () {\n                    resolve();\n                }\n            });\n        });\n    };\n    ChannelConnection.prototype._resetOnFailure = function () {\n        var _this = this;\n        if (!this.isOpen()) {\n            return;\n        }\n        this._reset({\n            onError: function () {\n                _this._protocol.resetFailure();\n            },\n            onComplete: function () {\n                _this._protocol.resetFailure();\n            }\n        });\n    };\n    ChannelConnection.prototype._reset = function (observer) {\n        var _this = this;\n        if (this._reseting) {\n            if (!this._protocol.isLastMessageReset()) {\n                this._protocol.reset({\n                    onError: function (error) {\n                        observer.onError(error);\n                    },\n                    onComplete: function () {\n                        observer.onComplete();\n                    }\n                });\n            }\n            else {\n                this._resetObservers.push(observer);\n            }\n            return;\n        }\n        this._resetObservers.push(observer);\n        this._reseting = true;\n        var notifyFinish = function (notify) {\n            _this._reseting = false;\n            var observers = _this._resetObservers;\n            _this._resetObservers = [];\n            observers.forEach(notify);\n        };\n        this._protocol.reset({\n            onError: function (error) {\n                notifyFinish(function (obs) { return obs.onError(error); });\n            },\n            onComplete: function () {\n                notifyFinish(function (obs) { return obs.onComplete(); });\n            }\n        });\n    };\n    /*\n     * Pop next pending observer form the list of observers and make it current observer.\n     * @protected\n     */\n    ChannelConnection.prototype._updateCurrentObserver = function () {\n        this._protocol.updateCurrentObserver();\n    };\n    /** Check if this connection is in working condition */\n    ChannelConnection.prototype.isOpen = function () {\n        return !this._isBroken && this._ch._open;\n    };\n    /**\n     * Starts and stops the receive timeout timer.\n     * @param {number} requestsNumber Ongoing requests number\n     */\n    ChannelConnection.prototype._handleOngoingRequestsNumberChange = function (requestsNumber) {\n        if (this._idle) {\n            return;\n        }\n        if (requestsNumber === 0) {\n            this._ch.stopReceiveTimeout();\n        }\n        else {\n            this._ch.startReceiveTimeout();\n        }\n    };\n    /**\n     * Call close on the channel.\n     * @returns {Promise<void>} - A promise that will be resolved when the underlying channel is closed.\n     */\n    ChannelConnection.prototype.close = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this._ssrCallback((_a = this.SSREnabledHint) !== null && _a !== void 0 ? _a : false, 'CLOSE');\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug('closing');\n                        }\n                        if (this._protocol && this.isOpen()) {\n                            // protocol has been initialized and this connection is healthy\n                            // notify the database about the upcoming close of the connection\n                            this._protocol.prepareToClose();\n                        }\n                        return [4 /*yield*/, this._ch.close()];\n                    case 1:\n                        _b.sent();\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug('closed');\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ChannelConnection.prototype.toString = function () {\n        return \"Connection [\".concat(this.id, \"][\").concat(this.databaseId || '', \"]\");\n    };\n    ChannelConnection.prototype._handleProtocolError = function (message) {\n        this._protocol.resetFailure();\n        this._updateCurrentObserver();\n        var error = (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n        this._handleFatalError(error);\n        return error;\n    };\n    return ChannelConnection;\n}(connection_1.default));\nexports[\"default\"] = ChannelConnection;\n/**\n * Creates a log with the connection info as prefix\n * @param {Connection} connection The connection\n * @param {Logger} logger The logger\n * @returns {Logger} The new logger with enriched messages\n */\nfunction createConnectionLogger(connection, logger) {\n    return new Logger(logger._level, function (level, message) {\n        return logger._loggerFunction(level, \"\".concat(connection, \" \").concat(message));\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLWNoYW5uZWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0IsZ0JBQWdCLG1CQUFPLENBQUMsMEZBQVk7QUFDcEMsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELG1DQUFtQyxtQkFBTyxDQUFDLG9HQUFjO0FBQ3pELDZCQUE2QixtQkFBTyxDQUFDLG9GQUFTO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0JBQXdCO0FBQ25DLFdBQVcsUUFBUTtBQUNuQixXQUFXLG1CQUFtQjtBQUM5QjtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsb0NBQW9DLDJDQUEyQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGlDQUFpQztBQUNwRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsd0JBQXdCO0FBQ3ZDLGVBQWUsZUFBZTtBQUM5QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsU0FBUztBQUN4QjtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCw0Q0FBNEM7QUFDNUMsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsOERBQThELHdCQUF3QjtBQUN0RjtBQUNBLGlDQUFpQztBQUNqQyw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLG1DQUFtQztBQUNsRjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFCQUFxQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBLGVBQWUsS0FBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDRCQUE0QjtBQUMxRSxhQUFhO0FBQ2I7QUFDQSw4Q0FBOEMsMEJBQTBCO0FBQ3hFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2Y7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uL2Nvbm5lY3Rpb24tY2hhbm5lbC5qcz9hZWQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uID0gdm9pZCAwO1xudmFyIGNoYW5uZWxfMSA9IHJlcXVpcmUoXCIuLi9jaGFubmVsXCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgY29ubmVjdGlvbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb25cIikpO1xudmFyIGJvbHRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vYm9sdFwiKSk7XG52YXIgUFJPVE9DT0xfRVJST1IgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlBST1RPQ09MX0VSUk9SO1xudmFyIExvZ2dlciA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwubG9nZ2VyLkxvZ2dlcjtcbnZhciBpZEdlbmVyYXRvciA9IDA7XG4vKipcbiAqIENyZXRlIG5ldyBjb25uZWN0aW9uIHRvIHRoZSBwcm92aWRlZCBhZGRyZXNzLiBSZXR1cm5lZCBjb25uZWN0aW9uIGlzIG5vdCBjb25uZWN0ZWQuXG4gKiBAcGFyYW0ge1NlcnZlckFkZHJlc3N9IGFkZHJlc3MgLSB0aGUgQm9sdCBlbmRwb2ludCB0byBjb25uZWN0IHRvLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyAtIHRoZSBkcml2ZXIgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7Q29ubmVjdGlvbkVycm9ySGFuZGxlcn0gZXJyb3JIYW5kbGVyIC0gdGhlIGVycm9yIGhhbmRsZXIgZm9yIGNvbm5lY3Rpb24gZXJyb3JzLlxuICogQHBhcmFtIHtMb2dnZXJ9IGxvZyAtIGNvbmZpZ3VyZWQgbG9nZ2VyLlxuICogQHBhcmFtIHtjbGllbnRDZXJ0aWZpY2F0ZX0gY2xpZW50Q2VydGlmaWNhdGUgLSBjb25maWd1cmVkIGNsaWVudCBjZXJ0aWZpY2F0ZVxuICogQHBhcmFtIHNzckNhbGxiYWNrIC0gY2FsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byB1cGRhdGUgdGhlIGNvdW50cyBvZiBzc3IgZW5hYmxlZCBhbmQgZGlzYWJsZWQgY29ubmVjdGlvbnNcbiAqIEBwYXJhbSBjcmVhdGVDaGFubmVsIC0gZnVuY3Rpb24gdGFraW5nIGEgY2hhbm5lbENvbmZpZyBvYmplY3QgYW5kIGNyZWF0aW5nIGEgY2hhbm5lbCB3aXRoIGl0XG4gKiBAcmV0dXJuIHtDb25uZWN0aW9ufSAtIG5ldyBjb25uZWN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVDaGFubmVsQ29ubmVjdGlvbihhZGRyZXNzLCBjb25maWcsIGVycm9ySGFuZGxlciwgbG9nLCBjbGllbnRDZXJ0aWZpY2F0ZSwgc2VydmVyc2lkZVJvdXRpbmcsIHNzckNhbGxiYWNrLCBjcmVhdGVDaGFubmVsKSB7XG4gICAgaWYgKHNlcnZlcnNpZGVSb3V0aW5nID09PSB2b2lkIDApIHsgc2VydmVyc2lkZVJvdXRpbmcgPSBudWxsOyB9XG4gICAgaWYgKGNyZWF0ZUNoYW5uZWwgPT09IHZvaWQgMCkgeyBjcmVhdGVDaGFubmVsID0gZnVuY3Rpb24gKGNoYW5uZWxDb25maWcpIHsgcmV0dXJuIG5ldyBjaGFubmVsXzEuQ2hhbm5lbChjaGFubmVsQ29uZmlnKTsgfTsgfVxuICAgIHZhciBjaGFubmVsQ29uZmlnID0gbmV3IGNoYW5uZWxfMS5DaGFubmVsQ29uZmlnKGFkZHJlc3MsIGNvbmZpZywgZXJyb3JIYW5kbGVyLmVycm9yQ29kZSgpLCBjbGllbnRDZXJ0aWZpY2F0ZSk7XG4gICAgdmFyIGNoYW5uZWwgPSBjcmVhdGVDaGFubmVsKGNoYW5uZWxDb25maWcpO1xuICAgIHJldHVybiBib2x0XzEuZGVmYXVsdC5oYW5kc2hha2UoY2hhbm5lbCwgbG9nKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHZlcnNpb24gPSBfYS5wcm90b2NvbFZlcnNpb24sIGNvbnN1bWVSZW1haW5pbmdCdWZmZXIgPSBfYS5jb25zdW1lUmVtYWluaW5nQnVmZmVyO1xuICAgICAgICB2YXIgY2h1bmtlciA9IG5ldyBjaGFubmVsXzEuQ2h1bmtlcihjaGFubmVsKTtcbiAgICAgICAgdmFyIGRlY2h1bmtlciA9IG5ldyBjaGFubmVsXzEuRGVjaHVua2VyKCk7XG4gICAgICAgIHZhciBjcmVhdGVQcm90b2NvbCA9IGZ1bmN0aW9uIChjb25uKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9sdF8xLmRlZmF1bHQuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICAgICAgICAgIGNoYW5uZWw6IGNoYW5uZWwsXG4gICAgICAgICAgICAgICAgY2h1bmtlcjogY2h1bmtlcixcbiAgICAgICAgICAgICAgICBkZWNodW5rZXI6IGRlY2h1bmtlcixcbiAgICAgICAgICAgICAgICBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VyczogY29uZmlnLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLFxuICAgICAgICAgICAgICAgIHVzZUJpZ0ludDogY29uZmlnLnVzZUJpZ0ludCxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJzaWRlUm91dGluZzogc2VydmVyc2lkZVJvdXRpbmcsXG4gICAgICAgICAgICAgICAgc2VydmVyOiBjb25uLnNlcnZlcixcbiAgICAgICAgICAgICAgICBsb2c6IGNvbm4ubG9nZ2VyLFxuICAgICAgICAgICAgICAgIG9ic2VydmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uT2JzZXJ2ZXJzQ291bnRDaGFuZ2U6IGNvbm4uX2hhbmRsZU9uZ29pbmdSZXF1ZXN0c051bWJlckNoYW5nZS5iaW5kKGNvbm4pLFxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiBjb25uLl9oYW5kbGVGYXRhbEVycm9yLmJpbmQoY29ubiksXG4gICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZTogY29ubi5fcmVzZXRPbkZhaWx1cmUuYmluZChjb25uKSxcbiAgICAgICAgICAgICAgICAgICAgb25Qcm90b2NvbEVycm9yOiBjb25uLl9oYW5kbGVQcm90b2NvbEVycm9yLmJpbmQoY29ubiksXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3JBcHBseVRyYW5zZm9ybWF0aW9uOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25uLmhhbmRsZUFuZFRyYW5zZm9ybUVycm9yKGVycm9yLCBjb25uLl9hZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IG5ldyBDaGFubmVsQ29ubmVjdGlvbihjaGFubmVsLCBlcnJvckhhbmRsZXIsIGFkZHJlc3MsIGxvZywgY29uZmlnLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCBzZXJ2ZXJzaWRlUm91dGluZywgY2h1bmtlciwgY29uZmlnLm5vdGlmaWNhdGlvbkZpbHRlciwgY3JlYXRlUHJvdG9jb2wsIGNvbmZpZy50ZWxlbWV0cnlEaXNhYmxlZCwgc3NyQ2FsbGJhY2spO1xuICAgICAgICAvLyBmb3J3YXJkIGFsbCBwZW5kaW5nIGJ5dGVzIHRvIHRoZSBkZWNodW5rZXJcbiAgICAgICAgY29uc3VtZVJlbWFpbmluZ0J1ZmZlcihmdW5jdGlvbiAoYnVmZmVyKSB7IHJldHVybiBkZWNodW5rZXIud3JpdGUoYnVmZmVyKTsgfSk7XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBjaGFubmVsLmNsb3NlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5jcmVhdGVDaGFubmVsQ29ubmVjdGlvbiA9IGNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uO1xudmFyIENoYW5uZWxDb25uZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDaGFubmVsQ29ubmVjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWx9IGNoYW5uZWwgLSBjaGFubmVsIHdpdGggYSAnd3JpdGUnIGZ1bmN0aW9uIGFuZCBhICdvbm1lc3NhZ2UnIGNhbGxiYWNrIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7Q29ubmVjdGlvbkVycm9ySGFuZGxlcn0gZXJyb3JIYW5kbGVyIHRoZSBlcnJvciBoYW5kbGVyLlxuICAgICAqIEBwYXJhbSB7U2VydmVyQWRkcmVzc30gYWRkcmVzcyAtIHRoZSBzZXJ2ZXIgYWRkcmVzcyB0byBjb25uZWN0IHRvLlxuICAgICAqIEBwYXJhbSB7TG9nZ2VyfSBsb2cgLSB0aGUgY29uZmlndXJlZCBsb2dnZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyAtIGlmIHRoaXMgY29ubmVjdGlvbiBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEpTIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHtDaHVua2VyfSBjaHVua2VyIC0gdGhlIGNodW5rZXJcbiAgICAgKiBAcGFyYW0gcHJvdG9jb2xTdXBwbGllciAtIEJvbHQgcHJvdG9jb2wgc3VwcGxpZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRlbGVtZXRyeURpc2FibGVkIC0gd2V0aGVyIHRlbGVtZXRyeSBoYXMgYmVlbiBkaXNhYmxlZCBpbiBkcml2ZXIgY29uZmlnLlxuICAgICAqIEBwYXJhbSBzc3JDYWxsYmFjayAtIGNhbGxiYWNrIGZ1bmN0aW9uIHVzZWQgdG8gdXBkYXRlIHRoZSBjb3VudHMgb2Ygc3NyIGVuYWJsZWQgYW5kIGRpc2FibGVkIGNvbm5lY3Rpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENoYW5uZWxDb25uZWN0aW9uKGNoYW5uZWwsIGVycm9ySGFuZGxlciwgYWRkcmVzcywgbG9nLCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2Vycywgc2VydmVyc2lkZVJvdXRpbmcsIGNodW5rZXIsIC8vIHRvIGJlIHJlbW92ZWQsXG4gICAgbm90aWZpY2F0aW9uRmlsdGVyLCBwcm90b2NvbFN1cHBsaWVyLCB0ZWxlbWV0cnlEaXNhYmxlZCwgc3NyQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID09PSB2b2lkIDApIHsgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoc2VydmVyc2lkZVJvdXRpbmcgPT09IHZvaWQgMCkgeyBzZXJ2ZXJzaWRlUm91dGluZyA9IG51bGw7IH1cbiAgICAgICAgaWYgKHNzckNhbGxiYWNrID09PSB2b2lkIDApIHsgc3NyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoXykgeyB9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9ySGFuZGxlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2F1dGhUb2tlbiA9IG51bGw7XG4gICAgICAgIF90aGlzLl9pZGxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9yZXNldGluZyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fcmVzZXRPYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2lkID0gaWRHZW5lcmF0b3IrKztcbiAgICAgICAgX3RoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICBfdGhpcy5fc2VydmVyID0geyBhZGRyZXNzOiBhZGRyZXNzLmFzSG9zdFBvcnQoKSB9O1xuICAgICAgICBfdGhpcy5fY3JlYXRpb25UaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBfdGhpcy5fZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycztcbiAgICAgICAgX3RoaXMuX2NoID0gY2hhbm5lbDtcbiAgICAgICAgX3RoaXMuX2NodW5rZXIgPSBjaHVua2VyO1xuICAgICAgICBfdGhpcy5fbG9nID0gY3JlYXRlQ29ubmVjdGlvbkxvZ2dlcihfdGhpcywgbG9nKTtcbiAgICAgICAgX3RoaXMuX3NlcnZlcnNpZGVSb3V0aW5nID0gc2VydmVyc2lkZVJvdXRpbmc7XG4gICAgICAgIF90aGlzLl9ub3RpZmljYXRpb25GaWx0ZXIgPSBub3RpZmljYXRpb25GaWx0ZXI7XG4gICAgICAgIF90aGlzLl90ZWxlbWV0cnlEaXNhYmxlZERyaXZlckNvbmZpZyA9IHRlbGVtZXRyeURpc2FibGVkID09PSB0cnVlO1xuICAgICAgICBfdGhpcy5fdGVsZW1ldHJ5RGlzYWJsZWRDb25uZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX3NzckNhbGxiYWNrID0gc3NyQ2FsbGJhY2s7XG4gICAgICAgIC8vIGNvbm5lY3Rpb24gZnJvbSB0aGUgZGF0YWJhc2UsIHJldHVybmVkIGluIHJlc3BvbnNlIGZvciBIRUxMTyBtZXNzYWdlIGFuZCBtaWdodCBub3QgYmUgYXZhaWxhYmxlXG4gICAgICAgIF90aGlzLl9kYkNvbm5lY3Rpb25JZCA9IG51bGw7XG4gICAgICAgIC8vIGJvbHQgcHJvdG9jb2wgaXMgaW5pdGlhbGx5IG5vdCBpbml0aWFsaXplZFxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0JvbHRQcm90b2NvbH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm90b2NvbCA9IHByb3RvY29sU3VwcGxpZXIoX3RoaXMpO1xuICAgICAgICAvLyBTZXQgdG8gdHJ1ZSBvbiBmYXRhbCBlcnJvcnMsIHRvIGdldCB0aGlzIG91dCBvZiBjb25uZWN0aW9uIHBvb2wuXG4gICAgICAgIF90aGlzLl9pc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBpZiAoX3RoaXMuX2xvZy5pc0RlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBfdGhpcy5fbG9nLmRlYnVnKFwiY3JlYXRlZCB0b3dhcmRzIFwiLmNvbmNhdChhZGRyZXNzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuYmVnaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5fc2VuZFRlbGVtZXRyeUlmRW5hYmxlZChjb25maWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wuYmVnaW5UcmFuc2FjdGlvbihjb25maWcpO1xuICAgIH07XG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChxdWVyeSwgcGFyYW1ldGVycywgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX3NlbmRUZWxlbWV0cnlJZkVuYWJsZWQoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sLnJ1bihxdWVyeSwgcGFyYW1ldGVycywgY29uZmlnKTtcbiAgICB9O1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5fc2VuZFRlbGVtZXRyeUlmRW5hYmxlZCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RlbGVtZXRyeURpc2FibGVkQ29ubmVjdGlvbiB8fFxuICAgICAgICAgICAgdGhpcy5fdGVsZW1ldHJ5RGlzYWJsZWREcml2ZXJDb25maWcgfHxcbiAgICAgICAgICAgIGNvbmZpZyA9PSBudWxsIHx8XG4gICAgICAgICAgICBjb25maWcuYXBpVGVsZW1ldHJ5Q29uZmlnID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm90b2NvbC50ZWxlbWV0cnkoe1xuICAgICAgICAgICAgYXBpOiBjb25maWcuYXBpVGVsZW1ldHJ5Q29uZmlnLmFwaVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogY29uZmlnLmFwaVRlbGVtZXRyeUNvbmZpZy5vblRlbGVtZXRyeVN1Y2Nlc3MsXG4gICAgICAgICAgICBvbkVycm9yOiBjb25maWcuYmVmb3JlRXJyb3JcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuY29tbWl0VHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm90b2NvbC5jb21taXRUcmFuc2FjdGlvbihjb25maWcpO1xuICAgIH07XG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLnJvbGxiYWNrVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm90b2NvbC5yb2xsYmFja1RyYW5zYWN0aW9uKGNvbmZpZyk7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UHJvdG9jb2xWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wudmVyc2lvbjtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiYXV0aFRva2VuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aFRva2VuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYXV0aFRva2VuID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLCBcInN1cHBvcnRzUmVBdXRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wuc3VwcG9ydHNSZUF1dGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImRhdGFiYXNlSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYkNvbm5lY3Rpb25JZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RiQ29ubmVjdGlvbklkID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImlkbGVUaW1lc3RhbXBcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZGxlVGltZXN0YW1wO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faWRsZVRpbWVzdGFtcCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJjcmVhdGlvblRpbWVzdGFtcFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0aW9uVGltZXN0YW1wO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2VuZCBpbml0aWFsaXphdGlvbiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWdlbnQgdGhlIHVzZXIgYWdlbnQgZm9yIHRoaXMgZHJpdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBib2x0QWdlbnQgdGhlIGJvbHQgYWdlbnQgZm9yIHRoaXMgZHJpdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoVG9rZW4gdGhlIG9iamVjdCBjb250YWluaW5nIGF1dGggaW5mb3JtYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSB3YWl0UmVBdXRoIHdoZXRoZXIgb3Qgbm90IHRoZSBjb25uZWN0aW9uIHdpbGwgd2FpdCBmb3IgcmUtYXV0aGVudGljYXRpb24gdG8gaGFwcGVuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxDb25uZWN0aW9uPn0gcHJvbWlzZSByZXNvbHZlZCB3aXRoIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gaWYgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsLiBSZWplY3RlZCBwcm9taXNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICh1c2VyQWdlbnQsIGJvbHRBZ2VudCwgYXV0aFRva2VuLCB3YWl0UmVBdXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJvdG9jb2wuaW5pdGlhbGl6ZWQgJiYgIXRoaXMuX3Byb3RvY29sLnN1cHBvcnRzUmVBdXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdDb25uZWN0aW9uIGRvZXMgbm90IHN1cHBvcnQgcmUtYXV0aCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXV0aFRva2VuID0gYXV0aFRva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5fcHJvdG9jb2wuaW5pdGlhbGl6ZWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faW5pdGlhbGl6ZSh1c2VyQWdlbnQsIGJvbHRBZ2VudCwgYXV0aFRva2VuKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FpdFJlQXV0aCkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wcm90b2NvbC5sb2dvZmYoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcHJvdG9jb2wubG9nb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aFRva2VuOiBhdXRoVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKF90aGlzKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2wubG9nb2ZmKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm90b2NvbC5sb2dvbih7IGF1dGhUb2tlbjogYXV0aFRva2VuLCBmbHVzaDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIHByb3RvY29sLXNwZWNpZmljIGluaXRpYWxpemF0aW9uIHdoaWNoIGluY2x1ZGVzIGF1dGhlbnRpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWdlbnQgdGhlIHVzZXIgYWdlbnQgZm9yIHRoaXMgZHJpdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBib2x0QWdlbnQgdGhlIGJvbHQgYWdlbnQgZm9yIHRoaXMgZHJpdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoVG9rZW4gdGhlIG9iamVjdCBjb250YWluaW5nIGF1dGggaW5mb3JtYXRpb24uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxDb25uZWN0aW9uPn0gcHJvbWlzZSByZXNvbHZlZCB3aXRoIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gaWYgaW5pdGlhbGl6YXRpb24gaXMgc3VjY2Vzc2Z1bC4gUmVqZWN0ZWQgcHJvbWlzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLl9pbml0aWFsaXplID0gZnVuY3Rpb24gKHVzZXJBZ2VudCwgYm9sdEFnZW50LCBhdXRoVG9rZW4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgX3RoaXMuX3Byb3RvY29sLmluaXRpYWxpemUoe1xuICAgICAgICAgICAgICAgIHVzZXJBZ2VudDogdXNlckFnZW50LFxuICAgICAgICAgICAgICAgIGJvbHRBZ2VudDogYm9sdEFnZW50LFxuICAgICAgICAgICAgICAgIGF1dGhUb2tlbjogYXV0aFRva2VuLFxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkZpbHRlcjogX3RoaXMuX25vdGlmaWNhdGlvbkZpbHRlcixcbiAgICAgICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWQgc2VydmVyIHZlcnNpb24gZnJvbSB0aGUgcmVzcG9uc2UgbWV0YWRhdGEsIGlmIGl0IGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZlclZlcnNpb24gPSBtZXRhZGF0YS5zZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZlcnNpb24gfHwgc2VydmVyVmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnZlcnNpb24gPSBzZXJ2ZXJWZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhZCBkYXRhYmFzZSBjb25uZWN0aW9uIGlkIGZyb20gdGhlIHJlc3BvbnNlIG1ldGFkYXRhLCBpZiBpdCBpcyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYkNvbm5lY3Rpb25JZCA9IG1ldGFkYXRhLmNvbm5lY3Rpb25faWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRhdGFiYXNlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhYmFzZUlkID0gZGJDb25uZWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEuaGludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjZWl2ZVRpbWVvdXRSYXcgPSBtZXRhZGF0YS5oaW50c1snY29ubmVjdGlvbi5yZWN2X3RpbWVvdXRfc2Vjb25kcyddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlVGltZW91dFJhdyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlVGltZW91dFJhdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNlaXZlVGltZW91dEluU2Vjb25kcyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLnRvTnVtYmVyKShyZWNlaXZlVGltZW91dFJhdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHJlY2VpdmVUaW1lb3V0SW5TZWNvbmRzKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZVRpbWVvdXRJblNlY29uZHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2guc2V0dXBSZWNlaXZlVGltZW91dChyZWNlaXZlVGltZW91dEluU2Vjb25kcyAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xvZy5pbmZvKFwiU2VydmVyIGxvY2F0ZWQgYXQgXCIuY29uY2F0KF90aGlzLl9hZGRyZXNzLCBcIiBzdXBwbGllZCBhbiBpbnZhbGlkIGNvbm5lY3Rpb24gcmVjZWl2ZSB0aW1lb3V0IHZhbHVlIChcIikuY29uY2F0KHJlY2VpdmVUaW1lb3V0SW5TZWNvbmRzLCBcIikuIFwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1BsZWFzZSwgdmVyaWZ5IHRoZSBzZXJ2ZXIgY29uZmlndXJhdGlvbiBhbmQgc3RhdHVzIGJlY2F1c2UgdGhpcyBjYW4gYmUgdGhlIHN5bXB0b20gb2YgYSBiaWdnZXIgaXNzdWUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbGVtZXRyeUVuYWJsZWRIaW50ID0gbWV0YWRhdGEuaGludHNbJ3RlbGVtZXRyeS5lbmFibGVkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbGVtZXRyeUVuYWJsZWRIaW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90ZWxlbWV0cnlEaXNhYmxlZENvbm5lY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuU1NSRW5hYmxlZEhpbnQgPSBtZXRhZGF0YS5oaW50c1snc3NyLmVuYWJsZWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zc3JDYWxsYmFjaygoX2EgPSBfdGhpcy5TU1JFbmFibGVkSGludCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsICdPUEVOJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzZWxmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEJvbHQgcHJvdG9jb2wgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge0JvbHRQcm90b2NvbH0gdGhlIHByb3RvY29sLlxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5wcm90b2NvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJhZGRyZXNzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkcmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIGNvbm5lY3RlZCBzZXJ2ZXIuXG4gICAgICAgICAqIEF2YWlsYWJsZSBvbmx5IGFmdGVyIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtTZXJ2ZXJWZXJzaW9ufSB2ZXJzaW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXIudmVyc2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlcnZlci52ZXJzaW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLCBcInNlcnZlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwibG9nZ2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogXCJGYXRhbFwiIG1lYW5zIHRoZSBjb25uZWN0aW9uIGlzIGRlYWQuIE9ubHkgY2FsbCB0aGlzIGlmIHNvbWV0aGluZ1xuICAgICAqIGhhcHBlbnMgdGhhdCBjYW5ub3QgYmUgcmVjb3ZlcmVkIGZyb20uIFRoaXMgd2lsbCBsZWFkIHRvIGFsbCBzdWJzY3JpYmVyc1xuICAgICAqIGZhaWxpbmcsIGFuZCB0aGUgY29ubmVjdGlvbiBnZXR0aW5nIGVqZWN0ZWQgZnJvbSB0aGUgc2Vzc2lvbiBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVycm9yIGFuIGVycm9yIG9iamVjdCwgZm9yd2FyZGVkIHRvIGFsbCBjdXJyZW50IGFuZCBmdXR1cmUgc3Vic2NyaWJlcnNcbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX2hhbmRsZUZhdGFsRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5faXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLl9lcnJvciA9IHRoaXMuaGFuZGxlQW5kVHJhbnNmb3JtRXJyb3IodGhpcy5fcHJvdG9jb2wuY3VycmVudEZhaWx1cmUgfHwgZXJyb3IsIHRoaXMuX2FkZHJlc3MpO1xuICAgICAgICBpZiAodGhpcy5fbG9nLmlzRXJyb3JFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcihcImV4cGVyaWVuY2VkIGEgZmF0YWwgZXJyb3IgY2F1c2VkIGJ5IFwiLmNvbmNhdCh0aGlzLl9lcnJvciwgXCIgKFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeSh0aGlzLl9lcnJvciksIFwiKVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvdG9jb2wubm90aWZ5RmF0YWxFcnJvcih0aGlzLl9lcnJvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyfVxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IG9ic2VydmVyXG4gICAgICovXG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLl9zZXRJZGxlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuX2lkbGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jaC5zdG9wUmVjZWl2ZVRpbWVvdXQoKTtcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wucXVldWVPYnNlcnZlcklmUHJvdG9jb2xJc05vdEJyb2tlbihvYnNlcnZlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyfVxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5fdW5zZXRJZGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9pZGxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUN1cnJlbnRPYnNlcnZlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc3RpbGwgaGVyZSBiZWNhdXNlIG9mIHRoZSBjb25uZWN0aW9uLWNoYW5uZWwudGVzdHMuanNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBvYnNlcnZlclxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5fcXVldWVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wucXVldWVPYnNlcnZlcklmUHJvdG9jb2xJc05vdEJyb2tlbihvYnNlcnZlcik7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuaGFzT25nb2luZ09ic2VydmFibGVSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9pZGxlICYmIHRoaXMuX3Byb3RvY29sLmhhc09uZ29pbmdPYnNlcnZhYmxlUmVxdWVzdHMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBSRVNFVC1tZXNzYWdlIHRvIHRoZSBkYXRhYmFzZS4gTWVzc2FnZSBpcyBpbW1lZGlhdGVseSBmbHVzaGVkIHRvIHRoZSBuZXR3b3JrLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IHByb21pc2UgcmVzb2x2ZWQgd2hlbiBTVUNDRVNTLW1lc3NhZ2UgcmVzcG9uc2UgYXJyaXZlcywgb3IgZmFpbGVkIHdoZW4gb3RoZXIgcmVzcG9uc2UgbWVzc2FnZXMgYXJyaXZlcy5cbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUucmVzZXRBbmRGbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXNldCh7XG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faXNCcm9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nIGEgZmF0YWwgZXJyb3IsIG5vIG5lZWQgdG8gcmFpc2UgYSBwcm90b2NvbCB2aW9sYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVvNGpFcnJvciA9IF90aGlzLl9oYW5kbGVQcm90b2NvbEVycm9yKFwiUmVjZWl2ZWQgRkFJTFVSRSBhcyBhIHJlc3BvbnNlIGZvciBSRVNFVDogXCIuY29uY2F0KGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmVvNGpFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5fcmVzZXRPbkZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc2V0KHtcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcHJvdG9jb2wucmVzZXRGYWlsdXJlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wcm90b2NvbC5yZXNldEZhaWx1cmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9yZXNldGluZykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9wcm90b2NvbC5pc0xhc3RNZXNzYWdlUmVzZXQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3RvY29sLnJlc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldE9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNldE9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy5fcmVzZXRpbmcgPSB0cnVlO1xuICAgICAgICB2YXIgbm90aWZ5RmluaXNoID0gZnVuY3Rpb24gKG5vdGlmeSkge1xuICAgICAgICAgICAgX3RoaXMuX3Jlc2V0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gX3RoaXMuX3Jlc2V0T2JzZXJ2ZXJzO1xuICAgICAgICAgICAgX3RoaXMuX3Jlc2V0T2JzZXJ2ZXJzID0gW107XG4gICAgICAgICAgICBvYnNlcnZlcnMuZm9yRWFjaChub3RpZnkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wcm90b2NvbC5yZXNldCh7XG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBub3RpZnlGaW5pc2goZnVuY3Rpb24gKG9icykgeyByZXR1cm4gb2JzLm9uRXJyb3IoZXJyb3IpOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbm90aWZ5RmluaXNoKGZ1bmN0aW9uIChvYnMpIHsgcmV0dXJuIG9icy5vbkNvbXBsZXRlKCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qXG4gICAgICogUG9wIG5leHQgcGVuZGluZyBvYnNlcnZlciBmb3JtIHRoZSBsaXN0IG9mIG9ic2VydmVycyBhbmQgbWFrZSBpdCBjdXJyZW50IG9ic2VydmVyLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX3VwZGF0ZUN1cnJlbnRPYnNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wudXBkYXRlQ3VycmVudE9ic2VydmVyKCk7XG4gICAgfTtcbiAgICAvKiogQ2hlY2sgaWYgdGhpcyBjb25uZWN0aW9uIGlzIGluIHdvcmtpbmcgY29uZGl0aW9uICovXG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9pc0Jyb2tlbiAmJiB0aGlzLl9jaC5fb3BlbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhbmQgc3RvcHMgdGhlIHJlY2VpdmUgdGltZW91dCB0aW1lci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVxdWVzdHNOdW1iZXIgT25nb2luZyByZXF1ZXN0cyBudW1iZXJcbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX2hhbmRsZU9uZ29pbmdSZXF1ZXN0c051bWJlckNoYW5nZSA9IGZ1bmN0aW9uIChyZXF1ZXN0c051bWJlcikge1xuICAgICAgICBpZiAodGhpcy5faWRsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1ZXN0c051bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fY2guc3RvcFJlY2VpdmVUaW1lb3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jaC5zdGFydFJlY2VpdmVUaW1lb3V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGwgY2xvc2Ugb24gdGhlIGNoYW5uZWwuXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IC0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSB1bmRlcmx5aW5nIGNoYW5uZWwgaXMgY2xvc2VkLlxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zc3JDYWxsYmFjaygoX2EgPSB0aGlzLlNTUkVuYWJsZWRIaW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSwgJ0NMT1NFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoJ2Nsb3NpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wcm90b2NvbCAmJiB0aGlzLmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvdG9jb2wgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYW5kIHRoaXMgY29ubmVjdGlvbiBpcyBoZWFsdGh5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aWZ5IHRoZSBkYXRhYmFzZSBhYm91dCB0aGUgdXBjb21pbmcgY2xvc2Ugb2YgdGhlIGNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm90b2NvbC5wcmVwYXJlVG9DbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY2guY2xvc2UoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb2cuaXNEZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5kZWJ1ZygnY2xvc2VkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJDb25uZWN0aW9uIFtcIi5jb25jYXQodGhpcy5pZCwgXCJdW1wiKS5jb25jYXQodGhpcy5kYXRhYmFzZUlkIHx8ICcnLCBcIl1cIik7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX2hhbmRsZVByb3RvY29sRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB0aGlzLl9wcm90b2NvbC5yZXNldEZhaWx1cmUoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ3VycmVudE9ic2VydmVyKCk7XG4gICAgICAgIHZhciBlcnJvciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShtZXNzYWdlLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhbm5lbENvbm5lY3Rpb247XG59KGNvbm5lY3Rpb25fMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDaGFubmVsQ29ubmVjdGlvbjtcbi8qKlxuICogQ3JlYXRlcyBhIGxvZyB3aXRoIHRoZSBjb25uZWN0aW9uIGluZm8gYXMgcHJlZml4XG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7TG9nZ2VyfSBsb2dnZXIgVGhlIGxvZ2dlclxuICogQHJldHVybnMge0xvZ2dlcn0gVGhlIG5ldyBsb2dnZXIgd2l0aCBlbnJpY2hlZCBtZXNzYWdlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVDb25uZWN0aW9uTG9nZ2VyKGNvbm5lY3Rpb24sIGxvZ2dlcikge1xuICAgIHJldHVybiBuZXcgTG9nZ2VyKGxvZ2dlci5fbGV2ZWwsIGZ1bmN0aW9uIChsZXZlbCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbG9nZ2VyLl9sb2dnZXJGdW5jdGlvbihsZXZlbCwgXCJcIi5jb25jYXQoY29ubmVjdGlvbiwgXCIgXCIpLmNvbmNhdChtZXNzYWdlKSk7XG4gICAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar connection_1 = __importDefault(__webpack_require__(/*! ./connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\"));\nvar DelegateConnection = /** @class */ (function (_super) {\n    __extends(DelegateConnection, _super);\n    /**\n     * @param delegate {Connection} the delegated connection\n     * @param errorHandler {ConnectionErrorHandler} the error handler\n     */\n    function DelegateConnection(delegate, errorHandler) {\n        var _this = _super.call(this, errorHandler) || this;\n        if (errorHandler) {\n            _this._originalErrorHandler = delegate._errorHandler;\n            delegate._errorHandler = _this._errorHandler;\n        }\n        _this._delegate = delegate;\n        return _this;\n    }\n    DelegateConnection.prototype.beginTransaction = function (config) {\n        return this._delegate.beginTransaction(config);\n    };\n    DelegateConnection.prototype.run = function (query, param, config) {\n        return this._delegate.run(query, param, config);\n    };\n    DelegateConnection.prototype.commitTransaction = function (config) {\n        return this._delegate.commitTransaction(config);\n    };\n    DelegateConnection.prototype.rollbackTransaction = function (config) {\n        return this._delegate.rollbackTransaction(config);\n    };\n    DelegateConnection.prototype.getProtocolVersion = function () {\n        return this._delegate.getProtocolVersion();\n    };\n    Object.defineProperty(DelegateConnection.prototype, \"id\", {\n        get: function () {\n            return this._delegate.id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"databaseId\", {\n        get: function () {\n            return this._delegate.databaseId;\n        },\n        set: function (value) {\n            this._delegate.databaseId = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"server\", {\n        get: function () {\n            return this._delegate.server;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"authToken\", {\n        get: function () {\n            return this._delegate.authToken;\n        },\n        set: function (value) {\n            this._delegate.authToken = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"supportsReAuth\", {\n        get: function () {\n            return this._delegate.supportsReAuth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"address\", {\n        get: function () {\n            return this._delegate.address;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"version\", {\n        get: function () {\n            return this._delegate.version;\n        },\n        set: function (value) {\n            this._delegate.version = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"creationTimestamp\", {\n        get: function () {\n            return this._delegate.creationTimestamp;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"idleTimestamp\", {\n        get: function () {\n            return this._delegate.idleTimestamp;\n        },\n        set: function (value) {\n            this._delegate.idleTimestamp = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DelegateConnection.prototype.isOpen = function () {\n        return this._delegate.isOpen();\n    };\n    DelegateConnection.prototype.protocol = function () {\n        return this._delegate.protocol();\n    };\n    DelegateConnection.prototype.connect = function (userAgent, boltAgent, authToken, waitReAuth) {\n        return this._delegate.connect(userAgent, boltAgent, authToken, waitReAuth);\n    };\n    DelegateConnection.prototype.write = function (message, observer, flush) {\n        return this._delegate.write(message, observer, flush);\n    };\n    DelegateConnection.prototype.resetAndFlush = function () {\n        return this._delegate.resetAndFlush();\n    };\n    DelegateConnection.prototype.hasOngoingObservableRequests = function () {\n        return this._delegate.hasOngoingObservableRequests();\n    };\n    DelegateConnection.prototype.close = function () {\n        return this._delegate.close();\n    };\n    DelegateConnection.prototype.release = function () {\n        if (this._originalErrorHandler) {\n            this._delegate._errorHandler = this._originalErrorHandler;\n        }\n        return this._delegate.release();\n    };\n    return DelegateConnection;\n}(connection_1.default));\nexports[\"default\"] = DelegateConnection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLWRlbGVnYXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQ0FBbUMsbUJBQU8sQ0FBQyxvR0FBYztBQUN6RDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQyw0QkFBNEIsd0JBQXdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLWRlbGVnYXRlLmpzPzNjNTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb25uZWN0aW9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29ubmVjdGlvblwiKSk7XG52YXIgRGVsZWdhdGVDb25uZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZWxlZ2F0ZUNvbm5lY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRlbGVnYXRlIHtDb25uZWN0aW9ufSB0aGUgZGVsZWdhdGVkIGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gZXJyb3JIYW5kbGVyIHtDb25uZWN0aW9uRXJyb3JIYW5kbGVyfSB0aGUgZXJyb3IgaGFuZGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERlbGVnYXRlQ29ubmVjdGlvbihkZWxlZ2F0ZSwgZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9ySGFuZGxlcikgfHwgdGhpcztcbiAgICAgICAgaWYgKGVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgX3RoaXMuX29yaWdpbmFsRXJyb3JIYW5kbGVyID0gZGVsZWdhdGUuX2Vycm9ySGFuZGxlcjtcbiAgICAgICAgICAgIGRlbGVnYXRlLl9lcnJvckhhbmRsZXIgPSBfdGhpcy5fZXJyb3JIYW5kbGVyO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUuYmVnaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmJlZ2luVHJhbnNhY3Rpb24oY29uZmlnKTtcbiAgICB9O1xuICAgIERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbSwgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5ydW4ocXVlcnksIHBhcmFtLCBjb25maWcpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS5jb21taXRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmNvbW1pdFRyYW5zYWN0aW9uKGNvbmZpZyk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLnJvbGxiYWNrVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5yb2xsYmFja1RyYW5zYWN0aW9uKGNvbmZpZyk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFByb3RvY29sVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmdldFByb3RvY29sVmVyc2lvbigpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiaWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5pZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImRhdGFiYXNlSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5kYXRhYmFzZUlkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGVsZWdhdGUuZGF0YWJhc2VJZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwic2VydmVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuc2VydmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiYXV0aFRva2VuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuYXV0aFRva2VuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGVsZWdhdGUuYXV0aFRva2VuID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJzdXBwb3J0c1JlQXV0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLnN1cHBvcnRzUmVBdXRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiYWRkcmVzc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmFkZHJlc3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUudmVyc2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGVnYXRlLnZlcnNpb24gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImNyZWF0aW9uVGltZXN0YW1wXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuY3JlYXRpb25UaW1lc3RhbXA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJpZGxlVGltZXN0YW1wXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuaWRsZVRpbWVzdGFtcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGVnYXRlLmlkbGVUaW1lc3RhbXAgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuaXNPcGVuKCk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLnByb3RvY29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUucHJvdG9jb2woKTtcbiAgICB9O1xuICAgIERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICh1c2VyQWdlbnQsIGJvbHRBZ2VudCwgYXV0aFRva2VuLCB3YWl0UmVBdXRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5jb25uZWN0KHVzZXJBZ2VudCwgYm9sdEFnZW50LCBhdXRoVG9rZW4sIHdhaXRSZUF1dGgpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvYnNlcnZlciwgZmx1c2gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLndyaXRlKG1lc3NhZ2UsIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLnJlc2V0QW5kRmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5yZXNldEFuZEZsdXNoKCk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLmhhc09uZ29pbmdPYnNlcnZhYmxlUmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5oYXNPbmdvaW5nT2JzZXJ2YWJsZVJlcXVlc3RzKCk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuY2xvc2UoKTtcbiAgICB9O1xuICAgIERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX29yaWdpbmFsRXJyb3JIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWxlZ2F0ZS5fZXJyb3JIYW5kbGVyID0gdGhpcy5fb3JpZ2luYWxFcnJvckhhbmRsZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLnJlbGVhc2UoKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWxlZ2F0ZUNvbm5lY3Rpb247XG59KGNvbm5lY3Rpb25fMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEZWxlZ2F0ZUNvbm5lY3Rpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE, SESSION_EXPIRED = neo4j_driver_core_1.error.SESSION_EXPIRED;\nvar ConnectionErrorHandler = /** @class */ (function () {\n    function ConnectionErrorHandler(errorCode, handleUnavailability, handleWriteFailure, handleSecurityError) {\n        this._errorCode = errorCode;\n        this._handleUnavailability = handleUnavailability || noOpHandler;\n        this._handleWriteFailure = handleWriteFailure || noOpHandler;\n        this._handleSecurityError = handleSecurityError || noOpHandler;\n    }\n    ConnectionErrorHandler.create = function (_a) {\n        var errorCode = _a.errorCode, handleUnavailability = _a.handleUnavailability, handleWriteFailure = _a.handleWriteFailure, handleSecurityError = _a.handleSecurityError;\n        return new ConnectionErrorHandler(errorCode, handleUnavailability, handleWriteFailure, handleSecurityError);\n    };\n    /**\n     * Error code to use for network errors.\n     * @return {string} the error code.\n     */\n    ConnectionErrorHandler.prototype.errorCode = function () {\n        return this._errorCode;\n    };\n    /**\n     * Handle and transform the error.\n     * @param {Neo4jError} error the original error.\n     * @param {ServerAddress} address the address of the connection where the error happened.\n     * @return {Neo4jError} new error that should be propagated to the user.\n     */\n    ConnectionErrorHandler.prototype.handleAndTransformError = function (error, address, connection) {\n        if (isSecurityError(error)) {\n            return this._handleSecurityError(error, address, connection);\n        }\n        if (isAvailabilityError(error)) {\n            return this._handleUnavailability(error, address, connection);\n        }\n        if (isFailureToWrite(error)) {\n            return this._handleWriteFailure(error, address, connection);\n        }\n        return error;\n    };\n    return ConnectionErrorHandler;\n}());\nexports[\"default\"] = ConnectionErrorHandler;\nfunction isSecurityError(error) {\n    return error != null &&\n        error.code != null &&\n        error.code.startsWith('Neo.ClientError.Security.');\n}\nfunction isAvailabilityError(error) {\n    if (error) {\n        return (error.code === SESSION_EXPIRED ||\n            error.code === SERVICE_UNAVAILABLE ||\n            error.code === 'Neo.TransientError.General.DatabaseUnavailable');\n    }\n    return false;\n}\nfunction isFailureToWrite(error) {\n    if (error) {\n        return (error.code === 'Neo.ClientError.Cluster.NotALeader' ||\n            error.code === 'Neo.ClientError.General.ForbiddenOnReadOnlyDatabase');\n    }\n    return false;\n}\nfunction noOpHandler(error) {\n    return error;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLWVycm9yLWhhbmRsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQixlQUFlLGVBQWU7QUFDOUIsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi1lcnJvci1oYW5kbGVyLmpzP2Y4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgU0VSVklDRV9VTkFWQUlMQUJMRSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuU0VSVklDRV9VTkFWQUlMQUJMRSwgU0VTU0lPTl9FWFBJUkVEID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5lcnJvci5TRVNTSU9OX0VYUElSRUQ7XG52YXIgQ29ubmVjdGlvbkVycm9ySGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25uZWN0aW9uRXJyb3JIYW5kbGVyKGVycm9yQ29kZSwgaGFuZGxlVW5hdmFpbGFiaWxpdHksIGhhbmRsZVdyaXRlRmFpbHVyZSwgaGFuZGxlU2VjdXJpdHlFcnJvcikge1xuICAgICAgICB0aGlzLl9lcnJvckNvZGUgPSBlcnJvckNvZGU7XG4gICAgICAgIHRoaXMuX2hhbmRsZVVuYXZhaWxhYmlsaXR5ID0gaGFuZGxlVW5hdmFpbGFiaWxpdHkgfHwgbm9PcEhhbmRsZXI7XG4gICAgICAgIHRoaXMuX2hhbmRsZVdyaXRlRmFpbHVyZSA9IGhhbmRsZVdyaXRlRmFpbHVyZSB8fCBub09wSGFuZGxlcjtcbiAgICAgICAgdGhpcy5faGFuZGxlU2VjdXJpdHlFcnJvciA9IGhhbmRsZVNlY3VyaXR5RXJyb3IgfHwgbm9PcEhhbmRsZXI7XG4gICAgfVxuICAgIENvbm5lY3Rpb25FcnJvckhhbmRsZXIuY3JlYXRlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBlcnJvckNvZGUgPSBfYS5lcnJvckNvZGUsIGhhbmRsZVVuYXZhaWxhYmlsaXR5ID0gX2EuaGFuZGxlVW5hdmFpbGFiaWxpdHksIGhhbmRsZVdyaXRlRmFpbHVyZSA9IF9hLmhhbmRsZVdyaXRlRmFpbHVyZSwgaGFuZGxlU2VjdXJpdHlFcnJvciA9IF9hLmhhbmRsZVNlY3VyaXR5RXJyb3I7XG4gICAgICAgIHJldHVybiBuZXcgQ29ubmVjdGlvbkVycm9ySGFuZGxlcihlcnJvckNvZGUsIGhhbmRsZVVuYXZhaWxhYmlsaXR5LCBoYW5kbGVXcml0ZUZhaWx1cmUsIGhhbmRsZVNlY3VyaXR5RXJyb3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSB0byB1c2UgZm9yIG5ldHdvcmsgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVycm9yIGNvZGUuXG4gICAgICovXG4gICAgQ29ubmVjdGlvbkVycm9ySGFuZGxlci5wcm90b3R5cGUuZXJyb3JDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3JDb2RlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuZCB0cmFuc2Zvcm0gdGhlIGVycm9yLlxuICAgICAqIEBwYXJhbSB7TmVvNGpFcnJvcn0gZXJyb3IgdGhlIG9yaWdpbmFsIGVycm9yLlxuICAgICAqIEBwYXJhbSB7U2VydmVyQWRkcmVzc30gYWRkcmVzcyB0aGUgYWRkcmVzcyBvZiB0aGUgY29ubmVjdGlvbiB3aGVyZSB0aGUgZXJyb3IgaGFwcGVuZWQuXG4gICAgICogQHJldHVybiB7TmVvNGpFcnJvcn0gbmV3IGVycm9yIHRoYXQgc2hvdWxkIGJlIHByb3BhZ2F0ZWQgdG8gdGhlIHVzZXIuXG4gICAgICovXG4gICAgQ29ubmVjdGlvbkVycm9ySGFuZGxlci5wcm90b3R5cGUuaGFuZGxlQW5kVHJhbnNmb3JtRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGNvbm5lY3Rpb24pIHtcbiAgICAgICAgaWYgKGlzU2VjdXJpdHlFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTZWN1cml0eUVycm9yKGVycm9yLCBhZGRyZXNzLCBjb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBdmFpbGFiaWxpdHlFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVVbmF2YWlsYWJpbGl0eShlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRmFpbHVyZVRvV3JpdGUoZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlV3JpdGVGYWlsdXJlKGVycm9yLCBhZGRyZXNzLCBjb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfTtcbiAgICByZXR1cm4gQ29ubmVjdGlvbkVycm9ySGFuZGxlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDb25uZWN0aW9uRXJyb3JIYW5kbGVyO1xuZnVuY3Rpb24gaXNTZWN1cml0eUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yICE9IG51bGwgJiZcbiAgICAgICAgZXJyb3IuY29kZSAhPSBudWxsICYmXG4gICAgICAgIGVycm9yLmNvZGUuc3RhcnRzV2l0aCgnTmVvLkNsaWVudEVycm9yLlNlY3VyaXR5LicpO1xufVxuZnVuY3Rpb24gaXNBdmFpbGFiaWxpdHlFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gKGVycm9yLmNvZGUgPT09IFNFU1NJT05fRVhQSVJFRCB8fFxuICAgICAgICAgICAgZXJyb3IuY29kZSA9PT0gU0VSVklDRV9VTkFWQUlMQUJMRSB8fFxuICAgICAgICAgICAgZXJyb3IuY29kZSA9PT0gJ05lby5UcmFuc2llbnRFcnJvci5HZW5lcmFsLkRhdGFiYXNlVW5hdmFpbGFibGUnKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNGYWlsdXJlVG9Xcml0ZShlcnJvcikge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gKGVycm9yLmNvZGUgPT09ICdOZW8uQ2xpZW50RXJyb3IuQ2x1c3Rlci5Ob3RBTGVhZGVyJyB8fFxuICAgICAgICAgICAgZXJyb3IuY29kZSA9PT0gJ05lby5DbGllbnRFcnJvci5HZW5lcmFsLkZvcmJpZGRlbk9uUmVhZE9ubHlEYXRhYmFzZScpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBub09wSGFuZGxlcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\nvar bolt_1 = __webpack_require__(/*! ../bolt */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Connection = /** @class */ (function (_super) {\n    __extends(Connection, _super);\n    /**\n     * @param {ConnectionErrorHandler} errorHandler the error handler\n     */\n    function Connection(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this._errorHandler = errorHandler;\n        return _this;\n    }\n    Object.defineProperty(Connection.prototype, \"id\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"databaseId\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"authToken\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"supportsReAuth\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"creationTimestamp\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"idleTimestamp\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @returns {BoltProtocol} the underlying bolt protocol assigned to this connection\n     */\n    Connection.prototype.protocol = function () {\n        throw new Error('not implemented');\n    };\n    Object.defineProperty(Connection.prototype, \"address\", {\n        /**\n         * @returns {ServerAddress} the server address this connection is opened against\n         */\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"version\", {\n        /**\n         * @returns {ServerVersion} the version of the server this connection is connected to\n         */\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"server\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Connect to the target address, negotiate Bolt protocol and send initialization message.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} boltAgent the bolt agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @param {boolean} shouldWaitReAuth whether ot not the connection will wait for re-authentication to happen\n     * @return {Promise<Connection>} promise resolved with the current connection if connection is successful. Rejected promise otherwise.\n     */\n    Connection.prototype.connect = function (userAgent, boltAgent, authToken, shouldWaitReAuth) {\n        throw new Error('not implemented');\n    };\n    /**\n     * Write a message to the network channel.\n     * @param {RequestMessage} message the message to write.\n     * @param {ResultStreamObserver} observer the response observer.\n     * @param {boolean} flush `true` if flush should happen after the message is written to the buffer.\n     */\n    Connection.prototype.write = function (message, observer, flush) {\n        throw new Error('not implemented');\n    };\n    /**\n     * Call close on the channel.\n     * @returns {Promise<void>} - A promise that will be resolved when the connection is closed.\n     *\n     */\n    Connection.prototype.close = function () {\n        throw new Error('not implemented');\n    };\n    /**\n     *\n     * @param error\n     * @param address\n     * @returns {Neo4jError|*}\n     */\n    Connection.prototype.handleAndTransformError = function (error, address) {\n        if (this._errorHandler) {\n            return this._errorHandler.handleAndTransformError(error, address, this);\n        }\n        return error;\n    };\n    return Connection;\n}(neo4j_driver_core_1.Connection));\nexports[\"default\"] = Connection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1CQUFPLENBQUMsb0ZBQVM7QUFDOUIsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0JBQXdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHFCQUFxQixlQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QixnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLmpzP2NlMjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xudmFyIGJvbHRfMSA9IHJlcXVpcmUoXCIuLi9ib2x0XCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgQ29ubmVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29ubmVjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb25FcnJvckhhbmRsZXJ9IGVycm9ySGFuZGxlciB0aGUgZXJyb3IgaGFuZGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbm5lY3Rpb24oZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9lcnJvckhhbmRsZXIgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImRhdGFiYXNlSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImF1dGhUb2tlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwic3VwcG9ydHNSZUF1dGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiY3JlYXRpb25UaW1lc3RhbXBcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiaWRsZVRpbWVzdGFtcFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Qm9sdFByb3RvY29sfSB0aGUgdW5kZXJseWluZyBib2x0IHByb3RvY29sIGFzc2lnbmVkIHRvIHRoaXMgY29ubmVjdGlvblxuICAgICAqL1xuICAgIENvbm5lY3Rpb24ucHJvdG90eXBlLnByb3RvY29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImFkZHJlc3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge1NlcnZlckFkZHJlc3N9IHRoZSBzZXJ2ZXIgYWRkcmVzcyB0aGlzIGNvbm5lY3Rpb24gaXMgb3BlbmVkIGFnYWluc3RcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtTZXJ2ZXJWZXJzaW9ufSB0aGUgdmVyc2lvbiBvZiB0aGUgc2VydmVyIHRoaXMgY29ubmVjdGlvbiBpcyBjb25uZWN0ZWQgdG9cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwic2VydmVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgdGFyZ2V0IGFkZHJlc3MsIG5lZ290aWF0ZSBCb2x0IHByb3RvY29sIGFuZCBzZW5kIGluaXRpYWxpemF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudCBmb3IgdGhpcyBkcml2ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGJvbHRBZ2VudCB0aGUgYm9sdCBhZ2VudCBmb3IgdGhpcyBkcml2ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF1dGhUb2tlbiB0aGUgb2JqZWN0IGNvbnRhaW5pbmcgYXV0aCBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3VsZFdhaXRSZUF1dGggd2hldGhlciBvdCBub3QgdGhlIGNvbm5lY3Rpb24gd2lsbCB3YWl0IGZvciByZS1hdXRoZW50aWNhdGlvbiB0byBoYXBwZW5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPENvbm5lY3Rpb24+fSBwcm9taXNlIHJlc29sdmVkIHdpdGggdGhlIGN1cnJlbnQgY29ubmVjdGlvbiBpZiBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWwuIFJlamVjdGVkIHByb21pc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIENvbm5lY3Rpb24ucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAodXNlckFnZW50LCBib2x0QWdlbnQsIGF1dGhUb2tlbiwgc2hvdWxkV2FpdFJlQXV0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBtZXNzYWdlIHRvIHRoZSBuZXR3b3JrIGNoYW5uZWwuXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0TWVzc2FnZX0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byB3cml0ZS5cbiAgICAgKiBAcGFyYW0ge1Jlc3VsdFN0cmVhbU9ic2VydmVyfSBvYnNlcnZlciB0aGUgcmVzcG9uc2Ugb2JzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmbHVzaCBgdHJ1ZWAgaWYgZmx1c2ggc2hvdWxkIGhhcHBlbiBhZnRlciB0aGUgbWVzc2FnZSBpcyB3cml0dGVuIHRvIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgQ29ubmVjdGlvbi5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb2JzZXJ2ZXIsIGZsdXNoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsIGNsb3NlIG9uIHRoZSBjaGFubmVsLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAtIEEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQuXG4gICAgICpcbiAgICAgKi9cbiAgICBDb25uZWN0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVycm9yXG4gICAgICogQHBhcmFtIGFkZHJlc3NcbiAgICAgKiBAcmV0dXJucyB7TmVvNGpFcnJvcnwqfVxuICAgICAqL1xuICAgIENvbm5lY3Rpb24ucHJvdG90eXBlLmhhbmRsZUFuZFRyYW5zZm9ybUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBhZGRyZXNzKSB7XG4gICAgICAgIGlmICh0aGlzLl9lcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvckhhbmRsZXIuaGFuZGxlQW5kVHJhbnNmb3JtRXJyb3IoZXJyb3IsIGFkZHJlc3MsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0aW9uO1xufShuZW80al9kcml2ZXJfY29yZV8xLkNvbm5lY3Rpb24pKTtcbmV4cG9ydHMuZGVmYXVsdCA9IENvbm5lY3Rpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createChannelConnection = exports.ConnectionErrorHandler = exports.DelegateConnection = exports.ChannelConnection = exports.Connection = void 0;\nvar connection_1 = __importDefault(__webpack_require__(/*! ./connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\"));\nexports.Connection = connection_1.default;\nvar connection_channel_1 = __importStar(__webpack_require__(/*! ./connection-channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js\"));\nexports.ChannelConnection = connection_channel_1.default;\nObject.defineProperty(exports, \"createChannelConnection\", ({ enumerable: true, get: function () { return connection_channel_1.createChannelConnection; } }));\nvar connection_delegate_1 = __importDefault(__webpack_require__(/*! ./connection-delegate */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js\"));\nexports.DelegateConnection = connection_delegate_1.default;\nvar connection_error_handler_1 = __importDefault(__webpack_require__(/*! ./connection-error-handler */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js\"));\nexports.ConnectionErrorHandler = connection_error_handler_1.default;\nexports[\"default\"] = connection_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQixHQUFHLDhCQUE4QixHQUFHLDBCQUEwQixHQUFHLHlCQUF5QixHQUFHLGtCQUFrQjtBQUM5SSxtQ0FBbUMsbUJBQU8sQ0FBQyxvR0FBYztBQUN6RCxrQkFBa0I7QUFDbEIsd0NBQXdDLG1CQUFPLENBQUMsb0hBQXNCO0FBQ3RFLHlCQUF5QjtBQUN6QiwyREFBMEQsRUFBRSxxQ0FBcUMsd0RBQXdELEVBQUM7QUFDMUosNENBQTRDLG1CQUFPLENBQUMsc0hBQXVCO0FBQzNFLDBCQUEwQjtBQUMxQixpREFBaUQsbUJBQU8sQ0FBQyxnSUFBNEI7QUFDckYsOEJBQThCO0FBQzlCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uL2luZGV4LmpzPzE2NTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uID0gZXhwb3J0cy5Db25uZWN0aW9uRXJyb3JIYW5kbGVyID0gZXhwb3J0cy5EZWxlZ2F0ZUNvbm5lY3Rpb24gPSBleHBvcnRzLkNoYW5uZWxDb25uZWN0aW9uID0gZXhwb3J0cy5Db25uZWN0aW9uID0gdm9pZCAwO1xudmFyIGNvbm5lY3Rpb25fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb25uZWN0aW9uXCIpKTtcbmV4cG9ydHMuQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb25fMS5kZWZhdWx0O1xudmFyIGNvbm5lY3Rpb25fY2hhbm5lbF8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tY2hhbm5lbFwiKSk7XG5leHBvcnRzLkNoYW5uZWxDb25uZWN0aW9uID0gY29ubmVjdGlvbl9jaGFubmVsXzEuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25uZWN0aW9uX2NoYW5uZWxfMS5jcmVhdGVDaGFubmVsQ29ubmVjdGlvbjsgfSB9KTtcbnZhciBjb25uZWN0aW9uX2RlbGVnYXRlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29ubmVjdGlvbi1kZWxlZ2F0ZVwiKSk7XG5leHBvcnRzLkRlbGVnYXRlQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb25fZGVsZWdhdGVfMS5kZWZhdWx0O1xudmFyIGNvbm5lY3Rpb25fZXJyb3JfaGFuZGxlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tZXJyb3ItaGFuZGxlclwiKSk7XG5leHBvcnRzLkNvbm5lY3Rpb25FcnJvckhhbmRsZXIgPSBjb25uZWN0aW9uX2Vycm9yX2hhbmRsZXJfMS5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0gY29ubmVjdGlvbl8xLmRlZmF1bHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/index.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.packstream = exports.channel = exports.buf = exports.bolt = exports.loadBalancing = void 0;\nexports.loadBalancing = __importStar(__webpack_require__(/*! ./load-balancing */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js\"));\nexports.bolt = __importStar(__webpack_require__(/*! ./bolt */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\"));\nexports.buf = __importStar(__webpack_require__(/*! ./buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\"));\nexports.channel = __importStar(__webpack_require__(/*! ./channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\"));\nexports.packstream = __importStar(__webpack_require__(/*! ./packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\"));\n__exportStar(__webpack_require__(/*! ./connection-provider */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLEdBQUcsZUFBZSxHQUFHLFdBQVcsR0FBRyxZQUFZLEdBQUcscUJBQXFCO0FBQ3pGLHFCQUFxQixnQkFBZ0IsbUJBQU8sQ0FBQyx1R0FBa0I7QUFDL0QsWUFBWSxnQkFBZ0IsbUJBQU8sQ0FBQyxtRkFBUTtBQUM1QyxXQUFXLGdCQUFnQixtQkFBTyxDQUFDLGlGQUFPO0FBQzFDLGVBQWUsZ0JBQWdCLG1CQUFPLENBQUMseUZBQVc7QUFDbEQsa0JBQWtCLGdCQUFnQixtQkFBTyxDQUFDLCtGQUFjO0FBQ3hELGFBQWEsbUJBQU8sQ0FBQyxpSEFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2luZGV4LmpzP2ViZWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYWNrc3RyZWFtID0gZXhwb3J0cy5jaGFubmVsID0gZXhwb3J0cy5idWYgPSBleHBvcnRzLmJvbHQgPSBleHBvcnRzLmxvYWRCYWxhbmNpbmcgPSB2b2lkIDA7XG5leHBvcnRzLmxvYWRCYWxhbmNpbmcgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbG9hZC1iYWxhbmNpbmdcIikpO1xuZXhwb3J0cy5ib2x0ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2JvbHRcIikpO1xuZXhwb3J0cy5idWYgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vYnVmXCIpKTtcbmV4cG9ydHMuY2hhbm5lbCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9jaGFubmVsXCIpKTtcbmV4cG9ydHMucGFja3N0cmVhbSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9wYWNrc3RyZWFtXCIpKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25uZWN0aW9uLXByb3ZpZGVyXCIpLCBleHBvcnRzKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js":
/*!**************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.reuseOngoingRequest = exports.identity = void 0;\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\n/**\n * Identity function.\n *\n * Identity functions are function which returns the input as output.\n *\n * @param {any} x\n * @returns {any} the x\n */\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n/**\n * Makes the function able to share ongoing requests\n *\n * @param {function(...args): Promise} func The function to be decorated\n * @param {any} thisArg The `this` which should be used in the function call\n * @return {function(...args): Promise} The decorated function\n */\nfunction reuseOngoingRequest(func, thisArg) {\n    if (thisArg === void 0) { thisArg = null; }\n    var ongoingRequests = new Map();\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = neo4j_driver_core_1.json.stringify(args);\n        if (ongoingRequests.has(key)) {\n            return ongoingRequests.get(key);\n        }\n        var promise = func.apply(thisArg, args);\n        ongoingRequests.set(key, promise);\n        return promise.finally(function () {\n            ongoingRequests.delete(key);\n        });\n    };\n}\nexports.reuseOngoingRequest = reuseOngoingRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9mdW5jdGlvbmFsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCLEdBQUcsZ0JBQWdCO0FBQzlDLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QyxXQUFXLEtBQUs7QUFDaEIsWUFBWSw0QkFBNEI7QUFDeEM7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUJBQXVCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2xhbmcvZnVuY3Rpb25hbC5qcz9jYzBlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmV1c2VPbmdvaW5nUmVxdWVzdCA9IGV4cG9ydHMuaWRlbnRpdHkgPSB2b2lkIDA7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbi8qKlxuICogSWRlbnRpdHkgZnVuY3Rpb24uXG4gKlxuICogSWRlbnRpdHkgZnVuY3Rpb25zIGFyZSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRoZSBpbnB1dCBhcyBvdXRwdXQuXG4gKlxuICogQHBhcmFtIHthbnl9IHhcbiAqIEByZXR1cm5zIHthbnl9IHRoZSB4XG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbmV4cG9ydHMuaWRlbnRpdHkgPSBpZGVudGl0eTtcbi8qKlxuICogTWFrZXMgdGhlIGZ1bmN0aW9uIGFibGUgdG8gc2hhcmUgb25nb2luZyByZXF1ZXN0c1xuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uYXJncyk6IFByb21pc2V9IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJlIGRlY29yYXRlZFxuICogQHBhcmFtIHthbnl9IHRoaXNBcmcgVGhlIGB0aGlzYCB3aGljaCBzaG91bGQgYmUgdXNlZCBpbiB0aGUgZnVuY3Rpb24gY2FsbFxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uYXJncyk6IFByb21pc2V9IFRoZSBkZWNvcmF0ZWQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gcmV1c2VPbmdvaW5nUmVxdWVzdChmdW5jLCB0aGlzQXJnKSB7XG4gICAgaWYgKHRoaXNBcmcgPT09IHZvaWQgMCkgeyB0aGlzQXJnID0gbnVsbDsgfVxuICAgIHZhciBvbmdvaW5nUmVxdWVzdHMgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5ID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShhcmdzKTtcbiAgICAgICAgaWYgKG9uZ29pbmdSZXF1ZXN0cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIG9uZ29pbmdSZXF1ZXN0cy5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvbWlzZSA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIG9uZ29pbmdSZXF1ZXN0cy5zZXQoa2V5LCBwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2UuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvbmdvaW5nUmVxdWVzdHMuZGVsZXRlKGtleSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5leHBvcnRzLnJldXNlT25nb2luZ1JlcXVlc3QgPSByZXVzZU9uZ29pbmdSZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.object = exports.functional = void 0;\nexports.functional = __importStar(__webpack_require__(/*! ./functional */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js\"));\nexports.object = __importStar(__webpack_require__(/*! ./object */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjLEdBQUcsa0JBQWtCO0FBQ25DLGtCQUFrQixnQkFBZ0IsbUJBQU8sQ0FBQyw4RkFBYztBQUN4RCxjQUFjLGdCQUFnQixtQkFBTyxDQUFDLHNGQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9sYW5nL2luZGV4LmpzPzkyNDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm9iamVjdCA9IGV4cG9ydHMuZnVuY3Rpb25hbCA9IHZvaWQgMDtcbmV4cG9ydHMuZnVuY3Rpb25hbCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9mdW5jdGlvbmFsXCIpKTtcbmV4cG9ydHMub2JqZWN0ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL29iamVjdFwiKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js":
/*!**********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.equals = void 0;\nfunction equals(a, b) {\n    var e_1, _a;\n    if (a === b) {\n        return true;\n    }\n    if (a === null || b === null) {\n        return false;\n    }\n    if (typeof a === 'object' && typeof b === 'object') {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        if (keysA.length !== keysB.length) {\n            return false;\n        }\n        try {\n            for (var keysA_1 = __values(keysA), keysA_1_1 = keysA_1.next(); !keysA_1_1.done; keysA_1_1 = keysA_1.next()) {\n                var key = keysA_1_1.value;\n                if (a[key] !== b[key]) {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (keysA_1_1 && !keysA_1_1.done && (_a = keysA_1.return)) _a.call(keysA_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return true;\n    }\n    return false;\n}\nexports.equals = equals;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9vYmplY3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLGlCQUFpQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9vYmplY3QuanM/ZTdkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVxdWFscyA9IHZvaWQgMDtcbmZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgdmFyIGVfMSwgX2E7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChhID09PSBudWxsIHx8IGIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgICAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhhKTtcbiAgICAgICAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMoYik7XG4gICAgICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXlzQV8xID0gX192YWx1ZXMoa2V5c0EpLCBrZXlzQV8xXzEgPSBrZXlzQV8xLm5leHQoKTsgIWtleXNBXzFfMS5kb25lOyBrZXlzQV8xXzEgPSBrZXlzQV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzQV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGFba2V5XSAhPT0gYltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlzQV8xXzEgJiYgIWtleXNBXzFfMS5kb25lICYmIChfYSA9IGtleXNBXzEucmV0dXJuKSkgX2EuY2FsbChrZXlzQV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5lcXVhbHMgPSBlcXVhbHM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LeastConnectedLoadBalancingStrategy = exports.LoadBalancingStrategy = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar load_balancing_strategy_1 = __importDefault(__webpack_require__(/*! ./load-balancing-strategy */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js\"));\nexports.LoadBalancingStrategy = load_balancing_strategy_1.default;\nvar least_connected_load_balancing_strategy_1 = __importDefault(__webpack_require__(/*! ./least-connected-load-balancing-strategy */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js\"));\nexports.LeastConnectedLoadBalancingStrategy = least_connected_load_balancing_strategy_1.default;\nexports[\"default\"] = least_connected_load_balancing_strategy_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQ0FBMkMsR0FBRyw2QkFBNkI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsbUJBQU8sQ0FBQyxrSUFBMkI7QUFDbkYsNkJBQTZCO0FBQzdCLGdFQUFnRSxtQkFBTyxDQUFDLGtLQUEyQztBQUNuSCwyQ0FBMkM7QUFDM0Msa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2xvYWQtYmFsYW5jaW5nL2luZGV4LmpzP2ZiMzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5ID0gZXhwb3J0cy5Mb2FkQmFsYW5jaW5nU3RyYXRlZ3kgPSB2b2lkIDA7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGxvYWRfYmFsYW5jaW5nX3N0cmF0ZWd5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbG9hZC1iYWxhbmNpbmctc3RyYXRlZ3lcIikpO1xuZXhwb3J0cy5Mb2FkQmFsYW5jaW5nU3RyYXRlZ3kgPSBsb2FkX2JhbGFuY2luZ19zdHJhdGVneV8xLmRlZmF1bHQ7XG52YXIgbGVhc3RfY29ubmVjdGVkX2xvYWRfYmFsYW5jaW5nX3N0cmF0ZWd5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbGVhc3QtY29ubmVjdGVkLWxvYWQtYmFsYW5jaW5nLXN0cmF0ZWd5XCIpKTtcbmV4cG9ydHMuTGVhc3RDb25uZWN0ZWRMb2FkQmFsYW5jaW5nU3RyYXRlZ3kgPSBsZWFzdF9jb25uZWN0ZWRfbG9hZF9iYWxhbmNpbmdfc3RyYXRlZ3lfMS5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0gbGVhc3RfY29ubmVjdGVkX2xvYWRfYmFsYW5jaW5nX3N0cmF0ZWd5XzEuZGVmYXVsdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar round_robin_array_index_1 = __importDefault(__webpack_require__(/*! ./round-robin-array-index */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js\"));\nvar load_balancing_strategy_1 = __importDefault(__webpack_require__(/*! ./load-balancing-strategy */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js\"));\nvar LeastConnectedLoadBalancingStrategy = /** @class */ (function (_super) {\n    __extends(LeastConnectedLoadBalancingStrategy, _super);\n    /**\n     * @constructor\n     * @param {Pool} connectionPool the connection pool of this driver.\n     */\n    function LeastConnectedLoadBalancingStrategy(connectionPool) {\n        var _this = _super.call(this) || this;\n        _this._readersIndex = new round_robin_array_index_1.default();\n        _this._writersIndex = new round_robin_array_index_1.default();\n        _this._connectionPool = connectionPool;\n        return _this;\n    }\n    /**\n     * @inheritDoc\n     */\n    LeastConnectedLoadBalancingStrategy.prototype.selectReader = function (knownReaders) {\n        return this._select(knownReaders, this._readersIndex);\n    };\n    /**\n     * @inheritDoc\n     */\n    LeastConnectedLoadBalancingStrategy.prototype.selectWriter = function (knownWriters) {\n        return this._select(knownWriters, this._writersIndex);\n    };\n    LeastConnectedLoadBalancingStrategy.prototype._select = function (addresses, roundRobinIndex) {\n        var length = addresses.length;\n        if (length === 0) {\n            return null;\n        }\n        // choose start index for iteration in round-robin fashion\n        var startIndex = roundRobinIndex.next(length);\n        var index = startIndex;\n        var leastConnectedAddress = null;\n        var leastActiveConnections = Number.MAX_SAFE_INTEGER;\n        // iterate over the array to find least connected address\n        do {\n            var address = addresses[index];\n            var activeConnections = this._connectionPool.activeResourceCount(address);\n            if (activeConnections < leastActiveConnections) {\n                leastConnectedAddress = address;\n                leastActiveConnections = activeConnections;\n            }\n            // loop over to the start of the array when end is reached\n            if (index === length - 1) {\n                index = 0;\n            }\n            else {\n                index++;\n            }\n        } while (index !== startIndex);\n        return leastConnectedAddress;\n    };\n    return LeastConnectedLoadBalancingStrategy;\n}(load_balancing_strategy_1.default));\nexports[\"default\"] = LeastConnectedLoadBalancingStrategy;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvbGVhc3QtY29ubmVjdGVkLWxvYWQtYmFsYW5jaW5nLXN0cmF0ZWd5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsbUJBQU8sQ0FBQyxrSUFBMkI7QUFDbkYsZ0RBQWdELG1CQUFPLENBQUMsa0lBQTJCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2xvYWQtYmFsYW5jaW5nL2xlYXN0LWNvbm5lY3RlZC1sb2FkLWJhbGFuY2luZy1zdHJhdGVneS5qcz9hNWIxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgcm91bmRfcm9iaW5fYXJyYXlfaW5kZXhfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yb3VuZC1yb2Jpbi1hcnJheS1pbmRleFwiKSk7XG52YXIgbG9hZF9iYWxhbmNpbmdfc3RyYXRlZ3lfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2luZy1zdHJhdGVneVwiKSk7XG52YXIgTGVhc3RDb25uZWN0ZWRMb2FkQmFsYW5jaW5nU3RyYXRlZ3kgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7UG9vbH0gY29ubmVjdGlvblBvb2wgdGhlIGNvbm5lY3Rpb24gcG9vbCBvZiB0aGlzIGRyaXZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneShjb25uZWN0aW9uUG9vbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcmVhZGVyc0luZGV4ID0gbmV3IHJvdW5kX3JvYmluX2FycmF5X2luZGV4XzEuZGVmYXVsdCgpO1xuICAgICAgICBfdGhpcy5fd3JpdGVyc0luZGV4ID0gbmV3IHJvdW5kX3JvYmluX2FycmF5X2luZGV4XzEuZGVmYXVsdCgpO1xuICAgICAgICBfdGhpcy5fY29ubmVjdGlvblBvb2wgPSBjb25uZWN0aW9uUG9vbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIExlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5LnByb3RvdHlwZS5zZWxlY3RSZWFkZXIgPSBmdW5jdGlvbiAoa25vd25SZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3Qoa25vd25SZWFkZXJzLCB0aGlzLl9yZWFkZXJzSW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBMZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneS5wcm90b3R5cGUuc2VsZWN0V3JpdGVyID0gZnVuY3Rpb24gKGtub3duV3JpdGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0KGtub3duV3JpdGVycywgdGhpcy5fd3JpdGVyc0luZGV4KTtcbiAgICB9O1xuICAgIExlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5LnByb3RvdHlwZS5fc2VsZWN0ID0gZnVuY3Rpb24gKGFkZHJlc3Nlcywgcm91bmRSb2JpbkluZGV4KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhZGRyZXNzZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaG9vc2Ugc3RhcnQgaW5kZXggZm9yIGl0ZXJhdGlvbiBpbiByb3VuZC1yb2JpbiBmYXNoaW9uXG4gICAgICAgIHZhciBzdGFydEluZGV4ID0gcm91bmRSb2JpbkluZGV4Lm5leHQobGVuZ3RoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gc3RhcnRJbmRleDtcbiAgICAgICAgdmFyIGxlYXN0Q29ubmVjdGVkQWRkcmVzcyA9IG51bGw7XG4gICAgICAgIHZhciBsZWFzdEFjdGl2ZUNvbm5lY3Rpb25zID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgYXJyYXkgdG8gZmluZCBsZWFzdCBjb25uZWN0ZWQgYWRkcmVzc1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgYWRkcmVzcyA9IGFkZHJlc3Nlc1tpbmRleF07XG4gICAgICAgICAgICB2YXIgYWN0aXZlQ29ubmVjdGlvbnMgPSB0aGlzLl9jb25uZWN0aW9uUG9vbC5hY3RpdmVSZXNvdXJjZUNvdW50KGFkZHJlc3MpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUNvbm5lY3Rpb25zIDwgbGVhc3RBY3RpdmVDb25uZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGxlYXN0Q29ubmVjdGVkQWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgICAgICAgICAgbGVhc3RBY3RpdmVDb25uZWN0aW9ucyA9IGFjdGl2ZUNvbm5lY3Rpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9vcCBvdmVyIHRvIHRoZSBzdGFydCBvZiB0aGUgYXJyYXkgd2hlbiBlbmQgaXMgcmVhY2hlZFxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBsZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoaW5kZXggIT09IHN0YXJ0SW5kZXgpO1xuICAgICAgICByZXR1cm4gbGVhc3RDb25uZWN0ZWRBZGRyZXNzO1xuICAgIH07XG4gICAgcmV0dXJuIExlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5O1xufShsb2FkX2JhbGFuY2luZ19zdHJhdGVneV8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * A facility to select most appropriate reader or writer among the given addresses for request processing.\n */\nvar LoadBalancingStrategy = /** @class */ (function () {\n    function LoadBalancingStrategy() {\n    }\n    /**\n     * Select next most appropriate reader from the list of given readers.\n     * @param {string[]} knownReaders an array of currently known readers to select from.\n     * @return {string} most appropriate reader or `null` if given array is empty.\n     */\n    LoadBalancingStrategy.prototype.selectReader = function (knownReaders) {\n        throw new Error('Abstract function');\n    };\n    /**\n     * Select next most appropriate writer from the list of given writers.\n     * @param {string[]} knownWriters an array of currently known writers to select from.\n     * @return {string} most appropriate writer or `null` if given array is empty.\n     */\n    LoadBalancingStrategy.prototype.selectWriter = function (knownWriters) {\n        throw new Error('Abstract function');\n    };\n    return LoadBalancingStrategy;\n}());\nexports[\"default\"] = LoadBalancingStrategy;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvbG9hZC1iYWxhbmNpbmctc3RyYXRlZ3kuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9sb2FkLWJhbGFuY2luZy9sb2FkLWJhbGFuY2luZy1zdHJhdGVneS5qcz9hYjAzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQSBmYWNpbGl0eSB0byBzZWxlY3QgbW9zdCBhcHByb3ByaWF0ZSByZWFkZXIgb3Igd3JpdGVyIGFtb25nIHRoZSBnaXZlbiBhZGRyZXNzZXMgZm9yIHJlcXVlc3QgcHJvY2Vzc2luZy5cbiAqL1xudmFyIExvYWRCYWxhbmNpbmdTdHJhdGVneSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2FkQmFsYW5jaW5nU3RyYXRlZ3koKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBuZXh0IG1vc3QgYXBwcm9wcmlhdGUgcmVhZGVyIGZyb20gdGhlIGxpc3Qgb2YgZ2l2ZW4gcmVhZGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBrbm93blJlYWRlcnMgYW4gYXJyYXkgb2YgY3VycmVudGx5IGtub3duIHJlYWRlcnMgdG8gc2VsZWN0IGZyb20uXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBtb3N0IGFwcHJvcHJpYXRlIHJlYWRlciBvciBgbnVsbGAgaWYgZ2l2ZW4gYXJyYXkgaXMgZW1wdHkuXG4gICAgICovXG4gICAgTG9hZEJhbGFuY2luZ1N0cmF0ZWd5LnByb3RvdHlwZS5zZWxlY3RSZWFkZXIgPSBmdW5jdGlvbiAoa25vd25SZWFkZXJzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWJzdHJhY3QgZnVuY3Rpb24nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbGVjdCBuZXh0IG1vc3QgYXBwcm9wcmlhdGUgd3JpdGVyIGZyb20gdGhlIGxpc3Qgb2YgZ2l2ZW4gd3JpdGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBrbm93bldyaXRlcnMgYW4gYXJyYXkgb2YgY3VycmVudGx5IGtub3duIHdyaXRlcnMgdG8gc2VsZWN0IGZyb20uXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBtb3N0IGFwcHJvcHJpYXRlIHdyaXRlciBvciBgbnVsbGAgaWYgZ2l2ZW4gYXJyYXkgaXMgZW1wdHkuXG4gICAgICovXG4gICAgTG9hZEJhbGFuY2luZ1N0cmF0ZWd5LnByb3RvdHlwZS5zZWxlY3RXcml0ZXIgPSBmdW5jdGlvbiAoa25vd25Xcml0ZXJzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWJzdHJhY3QgZnVuY3Rpb24nKTtcbiAgICB9O1xuICAgIHJldHVybiBMb2FkQmFsYW5jaW5nU3RyYXRlZ3k7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTG9hZEJhbGFuY2luZ1N0cmF0ZWd5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar RoundRobinArrayIndex = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {number} [initialOffset=0] the initial offset for round robin.\n     */\n    function RoundRobinArrayIndex(initialOffset) {\n        this._offset = initialOffset || 0;\n    }\n    /**\n     * Get next index for an array with given length.\n     * @param {number} arrayLength the array length.\n     * @return {number} index in the array.\n     */\n    RoundRobinArrayIndex.prototype.next = function (arrayLength) {\n        if (arrayLength === 0) {\n            return -1;\n        }\n        var nextOffset = this._offset;\n        this._offset += 1;\n        if (this._offset === Number.MAX_SAFE_INTEGER) {\n            this._offset = 0;\n        }\n        return nextOffset % arrayLength;\n    };\n    return RoundRobinArrayIndex;\n}());\nexports[\"default\"] = RoundRobinArrayIndex;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvcm91bmQtcm9iaW4tYXJyYXktaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9sb2FkLWJhbGFuY2luZy9yb3VuZC1yb2Jpbi1hcnJheS1pbmRleC5qcz9iYzBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSb3VuZFJvYmluQXJyYXlJbmRleCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2luaXRpYWxPZmZzZXQ9MF0gdGhlIGluaXRpYWwgb2Zmc2V0IGZvciByb3VuZCByb2Jpbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZFJvYmluQXJyYXlJbmRleChpbml0aWFsT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGluaXRpYWxPZmZzZXQgfHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG5leHQgaW5kZXggZm9yIGFuIGFycmF5IHdpdGggZ2l2ZW4gbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcnJheUxlbmd0aCB0aGUgYXJyYXkgbGVuZ3RoLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gaW5kZXggaW4gdGhlIGFycmF5LlxuICAgICAqL1xuICAgIFJvdW5kUm9iaW5BcnJheUluZGV4LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKGFycmF5TGVuZ3RoKSB7XG4gICAgICAgIGlmIChhcnJheUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0T2Zmc2V0ID0gdGhpcy5fb2Zmc2V0O1xuICAgICAgICB0aGlzLl9vZmZzZXQgKz0gMTtcbiAgICAgICAgaWYgKHRoaXMuX29mZnNldCA9PT0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRPZmZzZXQgJSBhcnJheUxlbmd0aDtcbiAgICB9O1xuICAgIHJldHVybiBSb3VuZFJvYmluQXJyYXlJbmRleDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBSb3VuZFJvYmluQXJyYXlJbmRleDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.structure = exports.v2 = exports.v1 = void 0;\nvar v1 = __importStar(__webpack_require__(/*! ./packstream-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js\"));\nexports.v1 = v1;\nvar v2 = __importStar(__webpack_require__(/*! ./packstream-v2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js\"));\nexports.v2 = v2;\nvar structure = __importStar(__webpack_require__(/*! ./structure */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js\"));\nexports.structure = structure;\nexports[\"default\"] = v2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsR0FBRyxVQUFVLEdBQUcsVUFBVTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQywwR0FBaUI7QUFDL0MsVUFBVTtBQUNWLHNCQUFzQixtQkFBTyxDQUFDLDBHQUFpQjtBQUMvQyxVQUFVO0FBQ1YsNkJBQTZCLG1CQUFPLENBQUMsa0dBQWE7QUFDbEQsaUJBQWlCO0FBQ2pCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9wYWNrc3RyZWFtL2luZGV4LmpzPzJiMzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN0cnVjdHVyZSA9IGV4cG9ydHMudjIgPSBleHBvcnRzLnYxID0gdm9pZCAwO1xudmFyIHYxID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhY2tzdHJlYW0tdjFcIikpO1xuZXhwb3J0cy52MSA9IHYxO1xudmFyIHYyID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhY2tzdHJlYW0tdjJcIikpO1xuZXhwb3J0cy52MiA9IHYyO1xudmFyIHN0cnVjdHVyZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9zdHJ1Y3R1cmVcIikpO1xuZXhwb3J0cy5zdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmU7XG5leHBvcnRzLmRlZmF1bHQgPSB2MjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Unpacker = exports.Packer = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\nvar structure_1 = __webpack_require__(/*! ./structure */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar TINY_STRING = 0x80;\nvar TINY_LIST = 0x90;\nvar TINY_MAP = 0xa0;\nvar TINY_STRUCT = 0xb0;\nvar NULL = 0xc0;\nvar FLOAT_64 = 0xc1;\nvar FALSE = 0xc2;\nvar TRUE = 0xc3;\nvar INT_8 = 0xc8;\nvar INT_16 = 0xc9;\nvar INT_32 = 0xca;\nvar INT_64 = 0xcb;\nvar STRING_8 = 0xd0;\nvar STRING_16 = 0xd1;\nvar STRING_32 = 0xd2;\nvar LIST_8 = 0xd4;\nvar LIST_16 = 0xd5;\nvar LIST_32 = 0xd6;\nvar BYTES_8 = 0xcc;\nvar BYTES_16 = 0xcd;\nvar BYTES_32 = 0xce;\nvar MAP_8 = 0xd8;\nvar MAP_16 = 0xd9;\nvar MAP_32 = 0xda;\nvar STRUCT_8 = 0xdc;\nvar STRUCT_16 = 0xdd;\n/**\n * Class to pack\n * @access private\n */\nvar Packer = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {Chunker} channel the chunker backed by a network channel.\n     */\n    function Packer(channel) {\n        this._ch = channel;\n        this._byteArraysSupported = true;\n    }\n    /**\n     * Creates a packable function out of the provided value\n     * @param x the value to pack\n     * @returns Function\n     */\n    Packer.prototype.packable = function (x, dehydrateStruct) {\n        var _this = this;\n        if (dehydrateStruct === void 0) { dehydrateStruct = lang_1.functional.identity; }\n        try {\n            x = dehydrateStruct(x);\n        }\n        catch (ex) {\n            return function () { throw ex; };\n        }\n        if (x === null) {\n            return function () { return _this._ch.writeUInt8(NULL); };\n        }\n        else if (x === true) {\n            return function () { return _this._ch.writeUInt8(TRUE); };\n        }\n        else if (x === false) {\n            return function () { return _this._ch.writeUInt8(FALSE); };\n        }\n        else if (typeof x === 'number') {\n            return function () { return _this.packFloat(x); };\n        }\n        else if (typeof x === 'string') {\n            return function () { return _this.packString(x); };\n        }\n        else if (typeof x === 'bigint') {\n            return function () { return _this.packInteger((0, neo4j_driver_core_1.int)(x)); };\n        }\n        else if ((0, neo4j_driver_core_1.isInt)(x)) {\n            return function () { return _this.packInteger(x); };\n        }\n        else if (x instanceof Int8Array) {\n            return function () { return _this.packBytes(x); };\n        }\n        else if (x instanceof Array) {\n            return function () {\n                _this.packListHeader(x.length);\n                for (var i = 0; i < x.length; i++) {\n                    _this.packable(x[i] === undefined ? null : x[i], dehydrateStruct)();\n                }\n            };\n        }\n        else if (isIterable(x)) {\n            return this.packableIterable(x, dehydrateStruct);\n        }\n        else if (x instanceof structure_1.Structure) {\n            var packableFields_1 = [];\n            for (var i = 0; i < x.fields.length; i++) {\n                packableFields_1[i] = this.packable(x.fields[i], dehydrateStruct);\n            }\n            return function () { return _this.packStruct(x.signature, packableFields_1); };\n        }\n        else if (typeof x === 'object') {\n            return function () {\n                var keys = Object.keys(x);\n                var count = 0;\n                for (var i = 0; i < keys.length; i++) {\n                    if (x[keys[i]] !== undefined) {\n                        count++;\n                    }\n                }\n                _this.packMapHeader(count);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = keys[i];\n                    if (x[key] !== undefined) {\n                        _this.packString(key);\n                        _this.packable(x[key], dehydrateStruct)();\n                    }\n                }\n            };\n        }\n        else {\n            return this._nonPackableValue(\"Unable to pack the given value: \".concat(x));\n        }\n    };\n    Packer.prototype.packableIterable = function (iterable, dehydrateStruct) {\n        try {\n            var array = Array.from(iterable);\n            return this.packable(array, dehydrateStruct);\n        }\n        catch (e) {\n            // handle errors from iterable to array conversion\n            throw (0, neo4j_driver_core_1.newError)(\"Cannot pack given iterable, \".concat(e.message, \": \").concat(iterable));\n        }\n    };\n    /**\n     * Packs a struct\n     * @param signature the signature of the struct\n     * @param packableFields the fields of the struct, make sure you call `packable on all fields`\n     */\n    Packer.prototype.packStruct = function (signature, packableFields) {\n        packableFields = packableFields || [];\n        this.packStructHeader(packableFields.length, signature);\n        for (var i = 0; i < packableFields.length; i++) {\n            packableFields[i]();\n        }\n    };\n    Packer.prototype.packInteger = function (x) {\n        var high = x.high;\n        var low = x.low;\n        if (x.greaterThanOrEqual(-0x10) && x.lessThan(0x80)) {\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80) && x.lessThan(-0x10)) {\n            this._ch.writeUInt8(INT_8);\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x8000) && x.lessThan(0x8000)) {\n            this._ch.writeUInt8(INT_16);\n            this._ch.writeInt16(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80000000) && x.lessThan(0x80000000)) {\n            this._ch.writeUInt8(INT_32);\n            this._ch.writeInt32(low);\n        }\n        else {\n            this._ch.writeUInt8(INT_64);\n            this._ch.writeInt32(high);\n            this._ch.writeInt32(low);\n        }\n    };\n    Packer.prototype.packFloat = function (x) {\n        this._ch.writeUInt8(FLOAT_64);\n        this._ch.writeFloat64(x);\n    };\n    Packer.prototype.packString = function (x) {\n        var bytes = channel_1.utf8.encode(x);\n        var size = bytes.length;\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRING | size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRING_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRING_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(STRING_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('UTF-8 strings of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packListHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_LIST | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(LIST_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(LIST_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(LIST_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Lists of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packBytes = function (array) {\n        if (this._byteArraysSupported) {\n            this.packBytesHeader(array.length);\n            for (var i = 0; i < array.length; i++) {\n                this._ch.writeInt8(array[i]);\n            }\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays are not supported by the database this driver is connected to');\n        }\n    };\n    Packer.prototype.packBytesHeader = function (size) {\n        if (size < 0x100) {\n            this._ch.writeUInt8(BYTES_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(BYTES_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(BYTES_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packMapHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_MAP | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(MAP_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(MAP_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(MAP_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Maps of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packStructHeader = function (size, signature) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRUCT | size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRUCT_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRUCT_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Structures of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.disableByteArrays = function () {\n        this._byteArraysSupported = false;\n    };\n    Packer.prototype._nonPackableValue = function (message) {\n        return function () {\n            throw (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n        };\n    };\n    return Packer;\n}());\nexports.Packer = Packer;\n/**\n * Class to unpack\n * @access private\n */\nvar Unpacker = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n     * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n     */\n    function Unpacker(disableLosslessIntegers, useBigInt) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (useBigInt === void 0) { useBigInt = false; }\n        this._disableLosslessIntegers = disableLosslessIntegers;\n        this._useBigInt = useBigInt;\n    }\n    Unpacker.prototype.unpack = function (buffer, hydrateStructure) {\n        if (hydrateStructure === void 0) { hydrateStructure = lang_1.functional.identity; }\n        var marker = buffer.readUInt8();\n        var markerHigh = marker & 0xf0;\n        var markerLow = marker & 0x0f;\n        if (marker === NULL) {\n            return null;\n        }\n        var boolean = this._unpackBoolean(marker);\n        if (boolean !== null) {\n            return boolean;\n        }\n        var numberOrInteger = this._unpackNumberOrInteger(marker, buffer);\n        if (numberOrInteger !== null) {\n            if ((0, neo4j_driver_core_1.isInt)(numberOrInteger)) {\n                if (this._useBigInt) {\n                    return numberOrInteger.toBigInt();\n                }\n                else if (this._disableLosslessIntegers) {\n                    return numberOrInteger.toNumberOrInfinity();\n                }\n            }\n            return numberOrInteger;\n        }\n        var string = this._unpackString(marker, markerHigh, markerLow, buffer);\n        if (string !== null) {\n            return string;\n        }\n        var list = this._unpackList(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (list !== null) {\n            return list;\n        }\n        var byteArray = this._unpackByteArray(marker, buffer);\n        if (byteArray !== null) {\n            return byteArray;\n        }\n        var map = this._unpackMap(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (map !== null) {\n            return map;\n        }\n        var struct = this._unpackStruct(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (struct !== null) {\n            return struct;\n        }\n        throw (0, neo4j_driver_core_1.newError)('Unknown packed value with marker ' + marker.toString(16));\n    };\n    Unpacker.prototype.unpackInteger = function (buffer) {\n        var marker = buffer.readUInt8();\n        var result = this._unpackInteger(marker, buffer);\n        if (result == null) {\n            throw (0, neo4j_driver_core_1.newError)('Unable to unpack integer value with marker ' + marker.toString(16));\n        }\n        return result;\n    };\n    Unpacker.prototype._unpackBoolean = function (marker) {\n        if (marker === TRUE) {\n            return true;\n        }\n        else if (marker === FALSE) {\n            return false;\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackNumberOrInteger = function (marker, buffer) {\n        if (marker === FLOAT_64) {\n            return buffer.readFloat64();\n        }\n        else {\n            return this._unpackInteger(marker, buffer);\n        }\n    };\n    Unpacker.prototype._unpackInteger = function (marker, buffer) {\n        if (marker >= 0 && marker < 128) {\n            return (0, neo4j_driver_core_1.int)(marker);\n        }\n        else if (marker >= 240 && marker < 256) {\n            return (0, neo4j_driver_core_1.int)(marker - 256);\n        }\n        else if (marker === INT_8) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt8());\n        }\n        else if (marker === INT_16) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt16());\n        }\n        else if (marker === INT_32) {\n            var b = buffer.readInt32();\n            return (0, neo4j_driver_core_1.int)(b);\n        }\n        else if (marker === INT_64) {\n            var high = buffer.readInt32();\n            var low = buffer.readInt32();\n            return new neo4j_driver_core_1.Integer(low, high);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackString = function (marker, markerHigh, markerLow, buffer) {\n        if (markerHigh === TINY_STRING) {\n            return channel_1.utf8.decode(buffer, markerLow);\n        }\n        else if (marker === STRING_8) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt8());\n        }\n        else if (marker === STRING_16) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt16());\n        }\n        else if (marker === STRING_32) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt32());\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackList = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_LIST) {\n            return this._unpackListWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === LIST_8) {\n            return this._unpackListWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_16) {\n            return this._unpackListWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_32) {\n            return this._unpackListWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackListWithSize = function (size, buffer, hydrateStructure) {\n        var value = [];\n        for (var i = 0; i < size; i++) {\n            value.push(this.unpack(buffer, hydrateStructure));\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackByteArray = function (marker, buffer) {\n        if (marker === BYTES_8) {\n            return this._unpackByteArrayWithSize(buffer.readUInt8(), buffer);\n        }\n        else if (marker === BYTES_16) {\n            return this._unpackByteArrayWithSize(buffer.readUInt16(), buffer);\n        }\n        else if (marker === BYTES_32) {\n            return this._unpackByteArrayWithSize(buffer.readUInt32(), buffer);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackByteArrayWithSize = function (size, buffer) {\n        var value = new Int8Array(size);\n        for (var i = 0; i < size; i++) {\n            value[i] = buffer.readInt8();\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackMap = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_MAP) {\n            return this._unpackMapWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === MAP_8) {\n            return this._unpackMapWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_16) {\n            return this._unpackMapWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_32) {\n            return this._unpackMapWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackMapWithSize = function (size, buffer, hydrateStructure) {\n        var value = {};\n        for (var i = 0; i < size; i++) {\n            var key = this.unpack(buffer, hydrateStructure);\n            value[key] = this.unpack(buffer, hydrateStructure);\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackStruct = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_STRUCT) {\n            return this._unpackStructWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_8) {\n            return this._unpackStructWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_16) {\n            return this._unpackStructWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackStructWithSize = function (structSize, buffer, hydrateStructure) {\n        var signature = buffer.readUInt8();\n        var structure = new structure_1.Structure(signature, []);\n        for (var i = 0; i < structSize; i++) {\n            structure.fields.push(this.unpack(buffer, hydrateStructure));\n        }\n        return hydrateStructure(structure);\n    };\n    return Unpacker;\n}());\nexports.Unpacker = Unpacker;\nfunction isIterable(obj) {\n    if (obj == null) {\n        return false;\n    }\n    return typeof obj[Symbol.iterator] === 'function';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9wYWNrc3RyZWFtLXYxLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQywwRkFBWTtBQUNwQyxhQUFhLG1CQUFPLENBQUMsb0ZBQVM7QUFDOUIsa0JBQWtCLG1CQUFPLENBQUMsa0dBQWE7QUFDdkMsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsY0FBYztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pEO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJCQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9wYWNrc3RyZWFtL3BhY2tzdHJlYW0tdjEuanM/MGI4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVW5wYWNrZXIgPSBleHBvcnRzLlBhY2tlciA9IHZvaWQgMDtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4uL2NoYW5uZWxcIik7XG52YXIgbGFuZ18xID0gcmVxdWlyZShcIi4uL2xhbmdcIik7XG52YXIgc3RydWN0dXJlXzEgPSByZXF1aXJlKFwiLi9zdHJ1Y3R1cmVcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBQUk9UT0NPTF9FUlJPUiA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuUFJPVE9DT0xfRVJST1I7XG52YXIgVElOWV9TVFJJTkcgPSAweDgwO1xudmFyIFRJTllfTElTVCA9IDB4OTA7XG52YXIgVElOWV9NQVAgPSAweGEwO1xudmFyIFRJTllfU1RSVUNUID0gMHhiMDtcbnZhciBOVUxMID0gMHhjMDtcbnZhciBGTE9BVF82NCA9IDB4YzE7XG52YXIgRkFMU0UgPSAweGMyO1xudmFyIFRSVUUgPSAweGMzO1xudmFyIElOVF84ID0gMHhjODtcbnZhciBJTlRfMTYgPSAweGM5O1xudmFyIElOVF8zMiA9IDB4Y2E7XG52YXIgSU5UXzY0ID0gMHhjYjtcbnZhciBTVFJJTkdfOCA9IDB4ZDA7XG52YXIgU1RSSU5HXzE2ID0gMHhkMTtcbnZhciBTVFJJTkdfMzIgPSAweGQyO1xudmFyIExJU1RfOCA9IDB4ZDQ7XG52YXIgTElTVF8xNiA9IDB4ZDU7XG52YXIgTElTVF8zMiA9IDB4ZDY7XG52YXIgQllURVNfOCA9IDB4Y2M7XG52YXIgQllURVNfMTYgPSAweGNkO1xudmFyIEJZVEVTXzMyID0gMHhjZTtcbnZhciBNQVBfOCA9IDB4ZDg7XG52YXIgTUFQXzE2ID0gMHhkOTtcbnZhciBNQVBfMzIgPSAweGRhO1xudmFyIFNUUlVDVF84ID0gMHhkYztcbnZhciBTVFJVQ1RfMTYgPSAweGRkO1xuLyoqXG4gKiBDbGFzcyB0byBwYWNrXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqL1xudmFyIFBhY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0NodW5rZXJ9IGNoYW5uZWwgdGhlIGNodW5rZXIgYmFja2VkIGJ5IGEgbmV0d29yayBjaGFubmVsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhY2tlcihjaGFubmVsKSB7XG4gICAgICAgIHRoaXMuX2NoID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5fYnl0ZUFycmF5c1N1cHBvcnRlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwYWNrYWJsZSBmdW5jdGlvbiBvdXQgb2YgdGhlIHByb3ZpZGVkIHZhbHVlXG4gICAgICogQHBhcmFtIHggdGhlIHZhbHVlIHRvIHBhY2tcbiAgICAgKiBAcmV0dXJucyBGdW5jdGlvblxuICAgICAqL1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja2FibGUgPSBmdW5jdGlvbiAoeCwgZGVoeWRyYXRlU3RydWN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChkZWh5ZHJhdGVTdHJ1Y3QgPT09IHZvaWQgMCkgeyBkZWh5ZHJhdGVTdHJ1Y3QgPSBsYW5nXzEuZnVuY3Rpb25hbC5pZGVudGl0eTsgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgeCA9IGRlaHlkcmF0ZVN0cnVjdCh4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHRocm93IGV4OyB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NoLndyaXRlVUludDgoTlVMTCk7IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaC53cml0ZVVJbnQ4KFRSVUUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHggPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NoLndyaXRlVUludDgoRkFMU0UpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBhY2tGbG9hdCh4KTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wYWNrU3RyaW5nKHgpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB4ID09PSAnYmlnaW50Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBhY2tJbnRlZ2VyKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoeCkpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzSW50KSh4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBhY2tJbnRlZ2VyKHgpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHggaW5zdGFuY2VvZiBJbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wYWNrQnl0ZXMoeCk7IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnBhY2tMaXN0SGVhZGVyKHgubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFja2FibGUoeFtpXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHhbaV0sIGRlaHlkcmF0ZVN0cnVjdCkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhY2thYmxlSXRlcmFibGUoeCwgZGVoeWRyYXRlU3RydWN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4IGluc3RhbmNlb2Ygc3RydWN0dXJlXzEuU3RydWN0dXJlKSB7XG4gICAgICAgICAgICB2YXIgcGFja2FibGVGaWVsZHNfMSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhY2thYmxlRmllbGRzXzFbaV0gPSB0aGlzLnBhY2thYmxlKHguZmllbGRzW2ldLCBkZWh5ZHJhdGVTdHJ1Y3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBhY2tTdHJ1Y3QoeC5zaWduYXR1cmUsIHBhY2thYmxlRmllbGRzXzEpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHgpO1xuICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4W2tleXNbaV1dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMucGFja01hcEhlYWRlcihjb3VudCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeFtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhY2tTdHJpbmcoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhY2thYmxlKHhba2V5XSwgZGVoeWRyYXRlU3RydWN0KSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub25QYWNrYWJsZVZhbHVlKFwiVW5hYmxlIHRvIHBhY2sgdGhlIGdpdmVuIHZhbHVlOiBcIi5jb25jYXQoeCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYWNrZXIucHJvdG90eXBlLnBhY2thYmxlSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGRlaHlkcmF0ZVN0cnVjdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gQXJyYXkuZnJvbShpdGVyYWJsZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYWNrYWJsZShhcnJheSwgZGVoeWRyYXRlU3RydWN0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gaGFuZGxlIGVycm9ycyBmcm9tIGl0ZXJhYmxlIHRvIGFycmF5IGNvbnZlcnNpb25cbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIkNhbm5vdCBwYWNrIGdpdmVuIGl0ZXJhYmxlLCBcIi5jb25jYXQoZS5tZXNzYWdlLCBcIjogXCIpLmNvbmNhdChpdGVyYWJsZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWNrcyBhIHN0cnVjdFxuICAgICAqIEBwYXJhbSBzaWduYXR1cmUgdGhlIHNpZ25hdHVyZSBvZiB0aGUgc3RydWN0XG4gICAgICogQHBhcmFtIHBhY2thYmxlRmllbGRzIHRoZSBmaWVsZHMgb2YgdGhlIHN0cnVjdCwgbWFrZSBzdXJlIHlvdSBjYWxsIGBwYWNrYWJsZSBvbiBhbGwgZmllbGRzYFxuICAgICAqL1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja1N0cnVjdCA9IGZ1bmN0aW9uIChzaWduYXR1cmUsIHBhY2thYmxlRmllbGRzKSB7XG4gICAgICAgIHBhY2thYmxlRmllbGRzID0gcGFja2FibGVGaWVsZHMgfHwgW107XG4gICAgICAgIHRoaXMucGFja1N0cnVjdEhlYWRlcihwYWNrYWJsZUZpZWxkcy5sZW5ndGgsIHNpZ25hdHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFja2FibGVGaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhY2thYmxlRmllbGRzW2ldKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja0ludGVnZXIgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgaGlnaCA9IHguaGlnaDtcbiAgICAgICAgdmFyIGxvdyA9IHgubG93O1xuICAgICAgICBpZiAoeC5ncmVhdGVyVGhhbk9yRXF1YWwoLTB4MTApICYmIHgubGVzc1RoYW4oMHg4MCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlSW50OChsb3cpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHguZ3JlYXRlclRoYW5PckVxdWFsKC0weDgwKSAmJiB4Lmxlc3NUaGFuKC0weDEwKSkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChJTlRfOCk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZUludDgobG93KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LmdyZWF0ZXJUaGFuT3JFcXVhbCgtMHg4MDAwKSAmJiB4Lmxlc3NUaGFuKDB4ODAwMCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoSU5UXzE2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlSW50MTYobG93KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LmdyZWF0ZXJUaGFuT3JFcXVhbCgtMHg4MDAwMDAwMCkgJiYgeC5sZXNzVGhhbigweDgwMDAwMDAwKSkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChJTlRfMzIpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVJbnQzMihsb3cpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChJTlRfNjQpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVJbnQzMihoaWdoKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlSW50MzIobG93KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5wYWNrRmxvYXQgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KEZMT0FUXzY0KTtcbiAgICAgICAgdGhpcy5fY2gud3JpdGVGbG9hdDY0KHgpO1xuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5wYWNrU3RyaW5nID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gY2hhbm5lbF8xLnV0ZjguZW5jb2RlKHgpO1xuICAgICAgICB2YXIgc2l6ZSA9IGJ5dGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKHNpemUgPCAweDEwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFRJTllfU1RSSU5HIHwgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZUJ5dGVzKGJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoU1RSSU5HXzgpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlQnl0ZXMoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFNUUklOR18xNik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KChzaXplIC8gMjU2KSA+PiAwKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZUJ5dGVzKGJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoU1RSSU5HXzMyKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKChzaXplIC8gMTY3NzcyMTYpID4+IDApICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKChzaXplIC8gNjU1MzYpID4+IDApICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKChzaXplIC8gMjU2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVCeXRlcyhieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1VURi04IHN0cmluZ3Mgb2Ygc2l6ZSAnICsgc2l6ZSArICcgYXJlIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5wYWNrTGlzdEhlYWRlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplIDwgMHgxMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChUSU5ZX0xJU1QgfCBzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoTElTVF84KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoTElTVF8xNik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDI1NikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoTElTVF8zMik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDE2Nzc3MjE2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDY1NTM2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDI1NikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnTGlzdHMgb2Ygc2l6ZSAnICsgc2l6ZSArICcgYXJlIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5wYWNrQnl0ZXMgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J5dGVBcnJheXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFja0J5dGVzSGVhZGVyKGFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVJbnQ4KGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnQnl0ZSBhcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGRhdGFiYXNlIHRoaXMgZHJpdmVyIGlzIGNvbm5lY3RlZCB0bycpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYWNrZXIucHJvdG90eXBlLnBhY2tCeXRlc0hlYWRlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplIDwgMHgxMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoQllURVNfOCk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KEJZVEVTXzE2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKChzaXplIC8gMjU2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUgJSAyNTYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwMDAwMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChCWVRFU18zMik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDE2Nzc3MjE2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDY1NTM2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDI1NikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnQnl0ZSBhcnJheXMgb2Ygc2l6ZSAnICsgc2l6ZSArICcgYXJlIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5wYWNrTWFwSGVhZGVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUgPCAweDEwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFRJTllfTUFQIHwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KE1BUF84KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoTUFQXzE2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKHNpemUgLyAyNTYpID4+IDApO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoTUFQXzMyKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKChzaXplIC8gMTY3NzcyMTYpID4+IDApICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKChzaXplIC8gNjU1MzYpID4+IDApICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKChzaXplIC8gMjU2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUgJSAyNTYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdNYXBzIG9mIHNpemUgJyArIHNpemUgKyAnIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja1N0cnVjdEhlYWRlciA9IGZ1bmN0aW9uIChzaXplLCBzaWduYXR1cmUpIHtcbiAgICAgICAgaWYgKHNpemUgPCAweDEwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFRJTllfU1RSVUNUIHwgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpZ25hdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFNUUlVDVF84KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpZ25hdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoU1RSVUNUXzE2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoKHNpemUgLyAyNTYpID4+IDApO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnU3RydWN0dXJlcyBvZiBzaXplICcgKyBzaXplICsgJyBhcmUgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYWNrZXIucHJvdG90eXBlLmRpc2FibGVCeXRlQXJyYXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9ieXRlQXJyYXlzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICBQYWNrZXIucHJvdG90eXBlLl9ub25QYWNrYWJsZVZhbHVlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShtZXNzYWdlLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gUGFja2VyO1xufSgpKTtcbmV4cG9ydHMuUGFja2VyID0gUGFja2VyO1xuLyoqXG4gKiBDbGFzcyB0byB1bnBhY2tcbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICovXG52YXIgVW5wYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyBpZiB0aGlzIHVucGFja2VyIHNob3VsZCBjb252ZXJ0IGFsbCByZWNlaXZlZCBpbnRlZ2VycyB0byBuYXRpdmUgSlMgbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUJpZ0ludCBpZiB0aGlzIHVucGFja2VyIHNob3VsZCBjb252ZXJ0IGFsbCByZWNlaXZlZCBpbnRlZ2VycyB0byBCaWdpbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVbnBhY2tlcihkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KSB7XG4gICAgICAgIGlmIChkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9PT0gdm9pZCAwKSB7IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHVzZUJpZ0ludCA9PT0gdm9pZCAwKSB7IHVzZUJpZ0ludCA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2Rpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnM7XG4gICAgICAgIHRoaXMuX3VzZUJpZ0ludCA9IHVzZUJpZ0ludDtcbiAgICB9XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLnVucGFjayA9IGZ1bmN0aW9uIChidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpIHtcbiAgICAgICAgaWYgKGh5ZHJhdGVTdHJ1Y3R1cmUgPT09IHZvaWQgMCkgeyBoeWRyYXRlU3RydWN0dXJlID0gbGFuZ18xLmZ1bmN0aW9uYWwuaWRlbnRpdHk7IH1cbiAgICAgICAgdmFyIG1hcmtlciA9IGJ1ZmZlci5yZWFkVUludDgoKTtcbiAgICAgICAgdmFyIG1hcmtlckhpZ2ggPSBtYXJrZXIgJiAweGYwO1xuICAgICAgICB2YXIgbWFya2VyTG93ID0gbWFya2VyICYgMHgwZjtcbiAgICAgICAgaWYgKG1hcmtlciA9PT0gTlVMTCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvb2xlYW4gPSB0aGlzLl91bnBhY2tCb29sZWFuKG1hcmtlcik7XG4gICAgICAgIGlmIChib29sZWFuICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtYmVyT3JJbnRlZ2VyID0gdGhpcy5fdW5wYWNrTnVtYmVyT3JJbnRlZ2VyKG1hcmtlciwgYnVmZmVyKTtcbiAgICAgICAgaWYgKG51bWJlck9ySW50ZWdlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzSW50KShudW1iZXJPckludGVnZXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3VzZUJpZ0ludCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyT3JJbnRlZ2VyLnRvQmlnSW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2Rpc2FibGVMb3NzbGVzc0ludGVnZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXJPckludGVnZXIudG9OdW1iZXJPckluZmluaXR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bWJlck9ySW50ZWdlcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyaW5nID0gdGhpcy5fdW5wYWNrU3RyaW5nKG1hcmtlciwgbWFya2VySGlnaCwgbWFya2VyTG93LCBidWZmZXIpO1xuICAgICAgICBpZiAoc3RyaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5fdW5wYWNrTGlzdChtYXJrZXIsIG1hcmtlckhpZ2gsIG1hcmtlckxvdywgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgaWYgKGxpc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBieXRlQXJyYXkgPSB0aGlzLl91bnBhY2tCeXRlQXJyYXkobWFya2VyLCBidWZmZXIpO1xuICAgICAgICBpZiAoYnl0ZUFycmF5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLl91bnBhY2tNYXAobWFya2VyLCBtYXJrZXJIaWdoLCBtYXJrZXJMb3csIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIGlmIChtYXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0cnVjdCA9IHRoaXMuX3VucGFja1N0cnVjdChtYXJrZXIsIG1hcmtlckhpZ2gsIG1hcmtlckxvdywgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgaWYgKHN0cnVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1Vua25vd24gcGFja2VkIHZhbHVlIHdpdGggbWFya2VyICcgKyBtYXJrZXIudG9TdHJpbmcoMTYpKTtcbiAgICB9O1xuICAgIFVucGFja2VyLnByb3RvdHlwZS51bnBhY2tJbnRlZ2VyID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICB2YXIgbWFya2VyID0gYnVmZmVyLnJlYWRVSW50OCgpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fdW5wYWNrSW50ZWdlcihtYXJrZXIsIGJ1ZmZlcik7XG4gICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdVbmFibGUgdG8gdW5wYWNrIGludGVnZXIgdmFsdWUgd2l0aCBtYXJrZXIgJyArIG1hcmtlci50b1N0cmluZygxNikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja0Jvb2xlYW4gPSBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgIGlmIChtYXJrZXIgPT09IFRSVUUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gRkFMU0UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja051bWJlck9ySW50ZWdlciA9IGZ1bmN0aW9uIChtYXJrZXIsIGJ1ZmZlcikge1xuICAgICAgICBpZiAobWFya2VyID09PSBGTE9BVF82NCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5yZWFkRmxvYXQ2NCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja0ludGVnZXIobWFya2VyLCBidWZmZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja0ludGVnZXIgPSBmdW5jdGlvbiAobWFya2VyLCBidWZmZXIpIHtcbiAgICAgICAgaWYgKG1hcmtlciA+PSAwICYmIG1hcmtlciA8IDEyOCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkobWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPj0gMjQwICYmIG1hcmtlciA8IDI1Nikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkobWFya2VyIC0gMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IElOVF84KSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShidWZmZXIucmVhZEludDgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBJTlRfMTYpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKGJ1ZmZlci5yZWFkSW50MTYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBJTlRfMzIpIHtcbiAgICAgICAgICAgIHZhciBiID0gYnVmZmVyLnJlYWRJbnQzMigpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBJTlRfNjQpIHtcbiAgICAgICAgICAgIHZhciBoaWdoID0gYnVmZmVyLnJlYWRJbnQzMigpO1xuICAgICAgICAgICAgdmFyIGxvdyA9IGJ1ZmZlci5yZWFkSW50MzIoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5JbnRlZ2VyKGxvdywgaGlnaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tTdHJpbmcgPSBmdW5jdGlvbiAobWFya2VyLCBtYXJrZXJIaWdoLCBtYXJrZXJMb3csIGJ1ZmZlcikge1xuICAgICAgICBpZiAobWFya2VySGlnaCA9PT0gVElOWV9TVFJJTkcpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFubmVsXzEudXRmOC5kZWNvZGUoYnVmZmVyLCBtYXJrZXJMb3cpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gU1RSSU5HXzgpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFubmVsXzEudXRmOC5kZWNvZGUoYnVmZmVyLCBidWZmZXIucmVhZFVJbnQ4KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gU1RSSU5HXzE2KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbm5lbF8xLnV0ZjguZGVjb2RlKGJ1ZmZlciwgYnVmZmVyLnJlYWRVSW50MTYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBTVFJJTkdfMzIpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFubmVsXzEudXRmOC5kZWNvZGUoYnVmZmVyLCBidWZmZXIucmVhZFVJbnQzMigpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja0xpc3QgPSBmdW5jdGlvbiAobWFya2VyLCBtYXJrZXJIaWdoLCBtYXJrZXJMb3csIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSkge1xuICAgICAgICBpZiAobWFya2VySGlnaCA9PT0gVElOWV9MSVNUKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrTGlzdFdpdGhTaXplKG1hcmtlckxvdywgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IExJU1RfOCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja0xpc3RXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQ4KCksIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBMSVNUXzE2KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrTGlzdFdpdGhTaXplKGJ1ZmZlci5yZWFkVUludDE2KCksIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBMSVNUXzMyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrTGlzdFdpdGhTaXplKGJ1ZmZlci5yZWFkVUludDMyKCksIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tMaXN0V2l0aFNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUucHVzaCh0aGlzLnVucGFjayhidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja0J5dGVBcnJheSA9IGZ1bmN0aW9uIChtYXJrZXIsIGJ1ZmZlcikge1xuICAgICAgICBpZiAobWFya2VyID09PSBCWVRFU184KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrQnl0ZUFycmF5V2l0aFNpemUoYnVmZmVyLnJlYWRVSW50OCgpLCBidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gQllURVNfMTYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tCeXRlQXJyYXlXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQxNigpLCBidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gQllURVNfMzIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tCeXRlQXJyYXlXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQzMigpLCBidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVucGFja2VyLnByb3RvdHlwZS5fdW5wYWNrQnl0ZUFycmF5V2l0aFNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgYnVmZmVyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG5ldyBJbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZVtpXSA9IGJ1ZmZlci5yZWFkSW50OCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIFVucGFja2VyLnByb3RvdHlwZS5fdW5wYWNrTWFwID0gZnVuY3Rpb24gKG1hcmtlciwgbWFya2VySGlnaCwgbWFya2VyTG93LCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpIHtcbiAgICAgICAgaWYgKG1hcmtlckhpZ2ggPT09IFRJTllfTUFQKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrTWFwV2l0aFNpemUobWFya2VyTG93LCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gTUFQXzgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tNYXBXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQ4KCksIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBNQVBfMTYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tNYXBXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQxNigpLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gTUFQXzMyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrTWFwV2l0aFNpemUoYnVmZmVyLnJlYWRVSW50MzIoKSwgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja01hcFdpdGhTaXplID0gZnVuY3Rpb24gKHNpemUsIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLnVucGFjayhidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IHRoaXMudW5wYWNrKGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tTdHJ1Y3QgPSBmdW5jdGlvbiAobWFya2VyLCBtYXJrZXJIaWdoLCBtYXJrZXJMb3csIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSkge1xuICAgICAgICBpZiAobWFya2VySGlnaCA9PT0gVElOWV9TVFJVQ1QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tTdHJ1Y3RXaXRoU2l6ZShtYXJrZXJMb3csIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBTVFJVQ1RfOCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja1N0cnVjdFdpdGhTaXplKGJ1ZmZlci5yZWFkVUludDgoKSwgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IFNUUlVDVF8xNikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja1N0cnVjdFdpdGhTaXplKGJ1ZmZlci5yZWFkVUludDE2KCksIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tTdHJ1Y3RXaXRoU2l6ZSA9IGZ1bmN0aW9uIChzdHJ1Y3RTaXplLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpIHtcbiAgICAgICAgdmFyIHNpZ25hdHVyZSA9IGJ1ZmZlci5yZWFkVUludDgoKTtcbiAgICAgICAgdmFyIHN0cnVjdHVyZSA9IG5ldyBzdHJ1Y3R1cmVfMS5TdHJ1Y3R1cmUoc2lnbmF0dXJlLCBbXSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RydWN0U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBzdHJ1Y3R1cmUuZmllbGRzLnB1c2godGhpcy51bnBhY2soYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVTdHJ1Y3R1cmUoc3RydWN0dXJlKTtcbiAgICB9O1xuICAgIHJldHVybiBVbnBhY2tlcjtcbn0oKSk7XG5leHBvcnRzLlVucGFja2VyID0gVW5wYWNrZXI7XG5mdW5jdGlvbiBpc0l0ZXJhYmxlKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2Ygb2JqW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Unpacker = exports.Packer = void 0;\nvar v1 = __importStar(__webpack_require__(/*! ./packstream-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js\"));\nvar Packer = /** @class */ (function (_super) {\n    __extends(Packer, _super);\n    function Packer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Packer.prototype.disableByteArrays = function () {\n        throw new Error('Bolt V2 should always support byte arrays');\n    };\n    return Packer;\n}(v1.Packer));\nexports.Packer = Packer;\nvar Unpacker = /** @class */ (function (_super) {\n    __extends(Unpacker, _super);\n    /**\n     * @constructor\n     * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n     * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n     */\n    function Unpacker(disableLosslessIntegers, useBigInt) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (useBigInt === void 0) { useBigInt = false; }\n        return _super.call(this, disableLosslessIntegers, useBigInt) || this;\n    }\n    return Unpacker;\n}(v1.Unpacker));\nexports.Unpacker = Unpacker;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9wYWNrc3RyZWFtLXYyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLGNBQWM7QUFDakMsc0JBQXNCLG1CQUFPLENBQUMsMEdBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL3BhY2tzdHJlYW0vcGFja3N0cmVhbS12Mi5qcz83ZDg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVW5wYWNrZXIgPSBleHBvcnRzLlBhY2tlciA9IHZvaWQgMDtcbnZhciB2MSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9wYWNrc3RyZWFtLXYxXCIpKTtcbnZhciBQYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhY2tlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQYWNrZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgUGFja2VyLnByb3RvdHlwZS5kaXNhYmxlQnl0ZUFycmF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb2x0IFYyIHNob3VsZCBhbHdheXMgc3VwcG9ydCBieXRlIGFycmF5cycpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhY2tlcjtcbn0odjEuUGFja2VyKSk7XG5leHBvcnRzLlBhY2tlciA9IFBhY2tlcjtcbnZhciBVbnBhY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVW5wYWNrZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyBpZiB0aGlzIHVucGFja2VyIHNob3VsZCBjb252ZXJ0IGFsbCByZWNlaXZlZCBpbnRlZ2VycyB0byBuYXRpdmUgSlMgbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUJpZ0ludCBpZiB0aGlzIHVucGFja2VyIHNob3VsZCBjb252ZXJ0IGFsbCByZWNlaXZlZCBpbnRlZ2VycyB0byBCaWdpbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVbnBhY2tlcihkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KSB7XG4gICAgICAgIGlmIChkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9PT0gdm9pZCAwKSB7IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHVzZUJpZ0ludCA9PT0gdm9pZCAwKSB7IHVzZUJpZ0ludCA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVW5wYWNrZXI7XG59KHYxLlVucGFja2VyKSk7XG5leHBvcnRzLlVucGFja2VyID0gVW5wYWNrZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifyStructSize = exports.Structure = void 0;\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\n/**\n * A Structure have a signature and fields.\n */\nvar Structure = /** @class */ (function () {\n    /**\n     * Create new instance\n     */\n    function Structure(signature, fields) {\n        this.signature = signature;\n        this.fields = fields;\n    }\n    Object.defineProperty(Structure.prototype, \"size\", {\n        get: function () {\n            return this.fields.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Structure.prototype.toString = function () {\n        var fieldStr = '';\n        for (var i = 0; i < this.fields.length; i++) {\n            if (i > 0) {\n                fieldStr += ', ';\n            }\n            fieldStr += this.fields[i];\n        }\n        return 'Structure(' + this.signature + ', [' + fieldStr + '])';\n    };\n    return Structure;\n}());\nexports.Structure = Structure;\nfunction verifyStructSize(structName, expectedSize, actualSize) {\n    if (expectedSize !== actualSize) {\n        throw (0, neo4j_driver_core_1.newError)(\"Wrong struct size for \".concat(structName, \", expected \").concat(expectedSize, \" but was \").concat(actualSize), PROTOCOL_ERROR);\n    }\n}\nexports.verifyStructSize = verifyStructSize;\nexports[\"default\"] = Structure;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9zdHJ1Y3R1cmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0IsR0FBRyxpQkFBaUI7QUFDNUMsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZXJjZWwtbmVvNGotYWktb3BlbmFpLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL3BhY2tzdHJlYW0vc3RydWN0dXJlLmpzP2I3OWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52ZXJpZnlTdHJ1Y3RTaXplID0gZXhwb3J0cy5TdHJ1Y3R1cmUgPSB2b2lkIDA7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBQUk9UT0NPTF9FUlJPUiA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuUFJPVE9DT0xfRVJST1I7XG4vKipcbiAqIEEgU3RydWN0dXJlIGhhdmUgYSBzaWduYXR1cmUgYW5kIGZpZWxkcy5cbiAqL1xudmFyIFN0cnVjdHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgbmV3IGluc3RhbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RydWN0dXJlKHNpZ25hdHVyZSwgZmllbGRzKSB7XG4gICAgICAgIHRoaXMuc2lnbmF0dXJlID0gc2lnbmF0dXJlO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGZpZWxkcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cnVjdHVyZS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGRzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0cnVjdHVyZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaWVsZFN0ciA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZFN0ciArPSAnLCAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGRTdHIgKz0gdGhpcy5maWVsZHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdTdHJ1Y3R1cmUoJyArIHRoaXMuc2lnbmF0dXJlICsgJywgWycgKyBmaWVsZFN0ciArICddKSc7XG4gICAgfTtcbiAgICByZXR1cm4gU3RydWN0dXJlO1xufSgpKTtcbmV4cG9ydHMuU3RydWN0dXJlID0gU3RydWN0dXJlO1xuZnVuY3Rpb24gdmVyaWZ5U3RydWN0U2l6ZShzdHJ1Y3ROYW1lLCBleHBlY3RlZFNpemUsIGFjdHVhbFNpemUpIHtcbiAgICBpZiAoZXhwZWN0ZWRTaXplICE9PSBhY3R1YWxTaXplKSB7XG4gICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIldyb25nIHN0cnVjdCBzaXplIGZvciBcIi5jb25jYXQoc3RydWN0TmFtZSwgXCIsIGV4cGVjdGVkIFwiKS5jb25jYXQoZXhwZWN0ZWRTaXplLCBcIiBidXQgd2FzIFwiKS5jb25jYXQoYWN0dWFsU2l6ZSksIFBST1RPQ09MX0VSUk9SKTtcbiAgICB9XG59XG5leHBvcnRzLnZlcmlmeVN0cnVjdFNpemUgPSB2ZXJpZnlTdHJ1Y3RTaXplO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3RydWN0dXJlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RoutingTable = exports.Rediscovery = void 0;\nvar rediscovery_1 = __importDefault(__webpack_require__(/*! ./rediscovery */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js\"));\nexports.Rediscovery = rediscovery_1.default;\nvar routing_table_1 = __importDefault(__webpack_require__(/*! ./routing-table */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js\"));\nexports.RoutingTable = routing_table_1.default;\nexports[\"default\"] = rediscovery_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3ZlcnkvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLG1CQUFtQjtBQUMxQyxvQ0FBb0MsbUJBQU8sQ0FBQyx1R0FBZTtBQUMzRCxtQkFBbUI7QUFDbkIsc0NBQXNDLG1CQUFPLENBQUMsMkdBQWlCO0FBQy9ELG9CQUFvQjtBQUNwQixrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3ZlcnkvaW5kZXguanM/ZDRhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJvdXRpbmdUYWJsZSA9IGV4cG9ydHMuUmVkaXNjb3ZlcnkgPSB2b2lkIDA7XG52YXIgcmVkaXNjb3ZlcnlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZWRpc2NvdmVyeVwiKSk7XG5leHBvcnRzLlJlZGlzY292ZXJ5ID0gcmVkaXNjb3ZlcnlfMS5kZWZhdWx0O1xudmFyIHJvdXRpbmdfdGFibGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yb3V0aW5nLXRhYmxlXCIpKTtcbmV4cG9ydHMuUm91dGluZ1RhYmxlID0gcm91dGluZ190YWJsZV8xLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSByZWRpc2NvdmVyeV8xLmRlZmF1bHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar routing_table_1 = __importDefault(__webpack_require__(/*! ./routing-table */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js\"));\n// eslint-disable-next-line no-unused-vars\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Rediscovery = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {object} routingContext\n     */\n    function Rediscovery(routingContext) {\n        this._routingContext = routingContext;\n    }\n    /**\n     * Try to fetch new routing table from the given router.\n     * @param {Session} session the session to use.\n     * @param {string} database the database for which to lookup routing table.\n     * @param {ServerAddress} routerAddress the URL of the router.\n     * @param {string} impersonatedUser The impersonated user\n     * @return {Promise<RoutingTable>} promise resolved with new routing table or null when connection error happened.\n     */\n    Rediscovery.prototype.lookupRoutingTableOnRouter = function (session, database, routerAddress, impersonatedUser) {\n        var _this = this;\n        return session._acquireConnection(function (connection) {\n            return _this._requestRawRoutingTable(connection, session, database, routerAddress, impersonatedUser).then(function (rawRoutingTable) {\n                if (rawRoutingTable.isNull) {\n                    return null;\n                }\n                return routing_table_1.default.fromRawRoutingTable(database, routerAddress, rawRoutingTable);\n            });\n        });\n    };\n    Rediscovery.prototype._requestRawRoutingTable = function (connection, session, database, routerAddress, impersonatedUser) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            connection.protocol().requestRoutingInformation({\n                routingContext: _this._routingContext,\n                databaseName: database,\n                impersonatedUser: impersonatedUser,\n                sessionContext: {\n                    bookmarks: session._lastBookmarks,\n                    mode: session._mode,\n                    database: session._database,\n                    afterComplete: session._onComplete\n                },\n                onCompleted: resolve,\n                onError: reject\n            });\n        });\n    };\n    return Rediscovery;\n}());\nexports[\"default\"] = Rediscovery;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3ZlcnkvcmVkaXNjb3ZlcnkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtQkFBTyxDQUFDLDJHQUFpQjtBQUMvRDtBQUNBLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsUUFBUTtBQUN2QixlQUFlLGVBQWU7QUFDOUIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQix1QkFBdUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVyY2VsLW5lbzRqLWFpLW9wZW5haS8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9yZWRpc2NvdmVyeS9yZWRpc2NvdmVyeS5qcz83MTJiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciByb3V0aW5nX3RhYmxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcm91dGluZy10YWJsZVwiKSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIFJlZGlzY292ZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByb3V0aW5nQ29udGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZGlzY292ZXJ5KHJvdXRpbmdDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX3JvdXRpbmdDb250ZXh0ID0gcm91dGluZ0NvbnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyeSB0byBmZXRjaCBuZXcgcm91dGluZyB0YWJsZSBmcm9tIHRoZSBnaXZlbiByb3V0ZXIuXG4gICAgICogQHBhcmFtIHtTZXNzaW9ufSBzZXNzaW9uIHRoZSBzZXNzaW9uIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YWJhc2UgdGhlIGRhdGFiYXNlIGZvciB3aGljaCB0byBsb29rdXAgcm91dGluZyB0YWJsZS5cbiAgICAgKiBAcGFyYW0ge1NlcnZlckFkZHJlc3N9IHJvdXRlckFkZHJlc3MgdGhlIFVSTCBvZiB0aGUgcm91dGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbXBlcnNvbmF0ZWRVc2VyIFRoZSBpbXBlcnNvbmF0ZWQgdXNlclxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8Um91dGluZ1RhYmxlPn0gcHJvbWlzZSByZXNvbHZlZCB3aXRoIG5ldyByb3V0aW5nIHRhYmxlIG9yIG51bGwgd2hlbiBjb25uZWN0aW9uIGVycm9yIGhhcHBlbmVkLlxuICAgICAqL1xuICAgIFJlZGlzY292ZXJ5LnByb3RvdHlwZS5sb29rdXBSb3V0aW5nVGFibGVPblJvdXRlciA9IGZ1bmN0aW9uIChzZXNzaW9uLCBkYXRhYmFzZSwgcm91dGVyQWRkcmVzcywgaW1wZXJzb25hdGVkVXNlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbi5fYWNxdWlyZUNvbm5lY3Rpb24oZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcmVxdWVzdFJhd1JvdXRpbmdUYWJsZShjb25uZWN0aW9uLCBzZXNzaW9uLCBkYXRhYmFzZSwgcm91dGVyQWRkcmVzcywgaW1wZXJzb25hdGVkVXNlcikudGhlbihmdW5jdGlvbiAocmF3Um91dGluZ1RhYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhd1JvdXRpbmdUYWJsZS5pc051bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByb3V0aW5nX3RhYmxlXzEuZGVmYXVsdC5mcm9tUmF3Um91dGluZ1RhYmxlKGRhdGFiYXNlLCByb3V0ZXJBZGRyZXNzLCByYXdSb3V0aW5nVGFibGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVkaXNjb3ZlcnkucHJvdG90eXBlLl9yZXF1ZXN0UmF3Um91dGluZ1RhYmxlID0gZnVuY3Rpb24gKGNvbm5lY3Rpb24sIHNlc3Npb24sIGRhdGFiYXNlLCByb3V0ZXJBZGRyZXNzLCBpbXBlcnNvbmF0ZWRVc2VyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLnByb3RvY29sKCkucmVxdWVzdFJvdXRpbmdJbmZvcm1hdGlvbih7XG4gICAgICAgICAgICAgICAgcm91dGluZ0NvbnRleHQ6IF90aGlzLl9yb3V0aW5nQ29udGV4dCxcbiAgICAgICAgICAgICAgICBkYXRhYmFzZU5hbWU6IGRhdGFiYXNlLFxuICAgICAgICAgICAgICAgIGltcGVyc29uYXRlZFVzZXI6IGltcGVyc29uYXRlZFVzZXIsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbkNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYm9va21hcmtzOiBzZXNzaW9uLl9sYXN0Qm9va21hcmtzLFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBzZXNzaW9uLl9tb2RlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZTogc2Vzc2lvbi5fZGF0YWJhc2UsXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IHNlc3Npb24uX29uQ29tcGxldGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IHJlamVjdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZGlzY292ZXJ5O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlZGlzY292ZXJ5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js":
/*!************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createValidRoutingTable = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, WRITE = _a.ACCESS_MODE_WRITE, READ = _a.ACCESS_MODE_READ, ServerAddress = neo4j_driver_core_1.internal.serverAddress.ServerAddress;\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar MIN_ROUTERS = 1;\n/**\n * The routing table object used to determine the role of the servers in the driver.\n */\nvar RoutingTable = /** @class */ (function () {\n    function RoutingTable(_a) {\n        var _b = _a === void 0 ? {} : _a, database = _b.database, routers = _b.routers, readers = _b.readers, writers = _b.writers, expirationTime = _b.expirationTime, ttl = _b.ttl;\n        this.database = database || null;\n        this.databaseName = database || 'default database';\n        this.routers = routers || [];\n        this.readers = readers || [];\n        this.writers = writers || [];\n        this.expirationTime = expirationTime || (0, neo4j_driver_core_1.int)(0);\n        this.ttl = ttl;\n    }\n    /**\n     * Create a valid routing table from a raw object\n     *\n     * @param {string} database the database name. It is used for logging purposes\n     * @param {ServerAddress} routerAddress The router address, it is used for loggin purposes\n     * @param {RawRoutingTable} rawRoutingTable Method used to get the raw routing table to be processed\n     * @param {RoutingTable} The valid Routing Table\n     */\n    RoutingTable.fromRawRoutingTable = function (database, routerAddress, rawRoutingTable) {\n        return createValidRoutingTable(database, routerAddress, rawRoutingTable);\n    };\n    RoutingTable.prototype.forget = function (address) {\n        // Don't remove it from the set of routers, since that might mean we lose our ability to re-discover,\n        // just remove it from the set of readers and writers, so that we don't use it for actual work without\n        // performing discovery first.\n        this.readers = removeFromArray(this.readers, address);\n        this.writers = removeFromArray(this.writers, address);\n    };\n    RoutingTable.prototype.forgetRouter = function (address) {\n        this.routers = removeFromArray(this.routers, address);\n    };\n    RoutingTable.prototype.forgetWriter = function (address) {\n        this.writers = removeFromArray(this.writers, address);\n    };\n    /**\n     * Check if this routing table is fresh to perform the required operation.\n     * @param {string} accessMode the type of operation. Allowed values are {@link READ} and {@link WRITE}.\n     * @return {boolean} `true` when this table contains servers to serve the required operation, `false` otherwise.\n     */\n    RoutingTable.prototype.isStaleFor = function (accessMode) {\n        return (this.expirationTime.lessThan(Date.now()) ||\n            this.routers.length < MIN_ROUTERS ||\n            (accessMode === READ && this.readers.length === 0) ||\n            (accessMode === WRITE && this.writers.length === 0));\n    };\n    /**\n     * Check if this routing table is expired for specified amount of duration\n     *\n     * @param {Integer} duration amount of duration in milliseconds to check for expiration\n     * @returns {boolean}\n     */\n    RoutingTable.prototype.isExpiredFor = function (duration) {\n        return this.expirationTime.add(duration).lessThan(Date.now());\n    };\n    RoutingTable.prototype.allServers = function () {\n        return __spreadArray(__spreadArray(__spreadArray([], __read(this.routers), false), __read(this.readers), false), __read(this.writers), false);\n    };\n    RoutingTable.prototype.toString = function () {\n        return ('RoutingTable[' +\n            \"database=\".concat(this.databaseName, \", \") +\n            \"expirationTime=\".concat(this.expirationTime, \", \") +\n            \"currentTime=\".concat(Date.now(), \", \") +\n            \"routers=[\".concat(this.routers, \"], \") +\n            \"readers=[\".concat(this.readers, \"], \") +\n            \"writers=[\".concat(this.writers, \"]]\"));\n    };\n    return RoutingTable;\n}());\nexports[\"default\"] = RoutingTable;\n/**\n * Remove all occurrences of the element in the array.\n * @param {Array} array the array to filter.\n * @param {Object} element the element to remove.\n * @return {Array} new filtered array.\n */\nfunction removeFromArray(array, element) {\n    return array.filter(function (item) { return item.asKey() !== element.asKey(); });\n}\n/**\n * Create a valid routing table from a raw object\n *\n * @param {string} db the database name. It is used for logging purposes\n * @param {ServerAddress} routerAddress The router address, it is used for loggin purposes\n * @param {RawRoutingTable} rawRoutingTable Method used to get the raw routing table to be processed\n * @param {RoutingTable} The valid Routing Table\n */\nfunction createValidRoutingTable(database, routerAddress, rawRoutingTable) {\n    var ttl = rawRoutingTable.ttl;\n    var expirationTime = calculateExpirationTime(rawRoutingTable, routerAddress);\n    var _a = parseServers(rawRoutingTable, routerAddress), routers = _a.routers, readers = _a.readers, writers = _a.writers;\n    assertNonEmpty(routers, 'routers', routerAddress);\n    assertNonEmpty(readers, 'readers', routerAddress);\n    return new RoutingTable({\n        database: database || rawRoutingTable.db,\n        routers: routers,\n        readers: readers,\n        writers: writers,\n        expirationTime: expirationTime,\n        ttl: ttl\n    });\n}\nexports.createValidRoutingTable = createValidRoutingTable;\n/**\n * Parse server from the RawRoutingTable.\n *\n * @param {RawRoutingTable} rawRoutingTable the raw routing table\n * @param {string} routerAddress the router address\n * @returns {Object} The object with the list of routers, readers and writers\n */\nfunction parseServers(rawRoutingTable, routerAddress) {\n    try {\n        var routers_1 = [];\n        var readers_1 = [];\n        var writers_1 = [];\n        rawRoutingTable.servers.forEach(function (server) {\n            var role = server.role;\n            var addresses = server.addresses;\n            if (role === 'ROUTE') {\n                routers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n            else if (role === 'WRITE') {\n                writers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n            else if (role === 'READ') {\n                readers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n        });\n        return {\n            routers: routers_1,\n            readers: readers_1,\n            writers: writers_1\n        };\n    }\n    catch (error) {\n        throw (0, neo4j_driver_core_1.newError)(\"Unable to parse servers entry from router \".concat(routerAddress, \" from addresses:\\n\").concat(neo4j_driver_core_1.json.stringify(rawRoutingTable.servers), \"\\nError message: \").concat(error.message), PROTOCOL_ERROR);\n    }\n}\n/**\n * Call the expiration time using the ttls from the raw routing table and return it\n *\n * @param {RawRoutingTable} rawRoutingTable the routing table\n * @param {string} routerAddress the router address\n * @returns {number} the ttl\n */\nfunction calculateExpirationTime(rawRoutingTable, routerAddress) {\n    try {\n        var now = (0, neo4j_driver_core_1.int)(Date.now());\n        var expires = (0, neo4j_driver_core_1.int)(rawRoutingTable.ttl)\n            .multiply(1000)\n            .add(now);\n        // if the server uses a really big expire time like Long.MAX_VALUE this may have overflowed\n        if (expires.lessThan(now)) {\n            return neo4j_driver_core_1.Integer.MAX_VALUE;\n        }\n        return expires;\n    }\n    catch (error) {\n        throw (0, neo4j_driver_core_1.newError)(\"Unable to parse TTL entry from router \".concat(routerAddress, \" from raw routing table:\\n\").concat(neo4j_driver_core_1.json.stringify(rawRoutingTable), \"\\nError message: \").concat(error.message), PROTOCOL_ERROR);\n    }\n}\n/**\n * Assert if serverAddressesArray is not empty, throws and PROTOCOL_ERROR otherwise\n *\n * @param {string[]} serverAddressesArray array of addresses\n * @param {string} serversName the server name\n * @param {string} routerAddress the router address\n */\nfunction assertNonEmpty(serverAddressesArray, serversName, routerAddress) {\n    if (serverAddressesArray.length === 0) {\n        throw (0, neo4j_driver_core_1.newError)('Received no ' + serversName + ' from router ' + routerAddress, PROTOCOL_ERROR);\n    }\n}\nfunction parseArray(addresses) {\n    if (!Array.isArray(addresses)) {\n        throw new TypeError('Array expected but got: ' + addresses);\n    }\n    return Array.from(addresses);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3Zlcnkvcm91dGluZy10YWJsZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsT0FBTztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsZUFBZTtBQUM5QixlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVEsc0RBQXNELFlBQVksS0FBSyxZQUFZO0FBQzFHLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2Y7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQSwwQ0FBMEMsMENBQTBDO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcmNlbC1uZW80ai1haS1vcGVuYWkvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3Zlcnkvcm91dGluZy10YWJsZS5qcz9mYmM0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVWYWxpZFJvdXRpbmdUYWJsZSA9IHZvaWQgMDtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBXUklURSA9IF9hLkFDQ0VTU19NT0RFX1dSSVRFLCBSRUFEID0gX2EuQUNDRVNTX01PREVfUkVBRCwgU2VydmVyQWRkcmVzcyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuc2VydmVyQWRkcmVzcy5TZXJ2ZXJBZGRyZXNzO1xudmFyIFBST1RPQ09MX0VSUk9SID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5lcnJvci5QUk9UT0NPTF9FUlJPUjtcbnZhciBNSU5fUk9VVEVSUyA9IDE7XG4vKipcbiAqIFRoZSByb3V0aW5nIHRhYmxlIG9iamVjdCB1c2VkIHRvIGRldGVybWluZSB0aGUgcm9sZSBvZiB0aGUgc2VydmVycyBpbiB0aGUgZHJpdmVyLlxuICovXG52YXIgUm91dGluZ1RhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJvdXRpbmdUYWJsZShfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgcm91dGVycyA9IF9iLnJvdXRlcnMsIHJlYWRlcnMgPSBfYi5yZWFkZXJzLCB3cml0ZXJzID0gX2Iud3JpdGVycywgZXhwaXJhdGlvblRpbWUgPSBfYi5leHBpcmF0aW9uVGltZSwgdHRsID0gX2IudHRsO1xuICAgICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhYmFzZU5hbWUgPSBkYXRhYmFzZSB8fCAnZGVmYXVsdCBkYXRhYmFzZSc7XG4gICAgICAgIHRoaXMucm91dGVycyA9IHJvdXRlcnMgfHwgW107XG4gICAgICAgIHRoaXMucmVhZGVycyA9IHJlYWRlcnMgfHwgW107XG4gICAgICAgIHRoaXMud3JpdGVycyA9IHdyaXRlcnMgfHwgW107XG4gICAgICAgIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZSB8fCAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKDApO1xuICAgICAgICB0aGlzLnR0bCA9IHR0bDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdmFsaWQgcm91dGluZyB0YWJsZSBmcm9tIGEgcmF3IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFiYXNlIHRoZSBkYXRhYmFzZSBuYW1lLiBJdCBpcyB1c2VkIGZvciBsb2dnaW5nIHB1cnBvc2VzXG4gICAgICogQHBhcmFtIHtTZXJ2ZXJBZGRyZXNzfSByb3V0ZXJBZGRyZXNzIFRoZSByb3V0ZXIgYWRkcmVzcywgaXQgaXMgdXNlZCBmb3IgbG9nZ2luIHB1cnBvc2VzXG4gICAgICogQHBhcmFtIHtSYXdSb3V0aW5nVGFibGV9IHJhd1JvdXRpbmdUYWJsZSBNZXRob2QgdXNlZCB0byBnZXQgdGhlIHJhdyByb3V0aW5nIHRhYmxlIHRvIGJlIHByb2Nlc3NlZFxuICAgICAqIEBwYXJhbSB7Um91dGluZ1RhYmxlfSBUaGUgdmFsaWQgUm91dGluZyBUYWJsZVxuICAgICAqL1xuICAgIFJvdXRpbmdUYWJsZS5mcm9tUmF3Um91dGluZ1RhYmxlID0gZnVuY3Rpb24gKGRhdGFiYXNlLCByb3V0ZXJBZGRyZXNzLCByYXdSb3V0aW5nVGFibGUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZhbGlkUm91dGluZ1RhYmxlKGRhdGFiYXNlLCByb3V0ZXJBZGRyZXNzLCByYXdSb3V0aW5nVGFibGUpO1xuICAgIH07XG4gICAgUm91dGluZ1RhYmxlLnByb3RvdHlwZS5mb3JnZXQgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICAvLyBEb24ndCByZW1vdmUgaXQgZnJvbSB0aGUgc2V0IG9mIHJvdXRlcnMsIHNpbmNlIHRoYXQgbWlnaHQgbWVhbiB3ZSBsb3NlIG91ciBhYmlsaXR5IHRvIHJlLWRpc2NvdmVyLFxuICAgICAgICAvLyBqdXN0IHJlbW92ZSBpdCBmcm9tIHRoZSBzZXQgb2YgcmVhZGVycyBhbmQgd3JpdGVycywgc28gdGhhdCB3ZSBkb24ndCB1c2UgaXQgZm9yIGFjdHVhbCB3b3JrIHdpdGhvdXRcbiAgICAgICAgLy8gcGVyZm9ybWluZyBkaXNjb3ZlcnkgZmlyc3QuXG4gICAgICAgIHRoaXMucmVhZGVycyA9IHJlbW92ZUZyb21BcnJheSh0aGlzLnJlYWRlcnMsIGFkZHJlc3MpO1xuICAgICAgICB0aGlzLndyaXRlcnMgPSByZW1vdmVGcm9tQXJyYXkodGhpcy53cml0ZXJzLCBhZGRyZXNzKTtcbiAgICB9O1xuICAgIFJvdXRpbmdUYWJsZS5wcm90b3R5cGUuZm9yZ2V0Um91dGVyID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXJzID0gcmVtb3ZlRnJvbUFycmF5KHRoaXMucm91dGVycywgYWRkcmVzcyk7XG4gICAgfTtcbiAgICBSb3V0aW5nVGFibGUucHJvdG90eXBlLmZvcmdldFdyaXRlciA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMud3JpdGVycyA9IHJlbW92ZUZyb21BcnJheSh0aGlzLndyaXRlcnMsIGFkZHJlc3MpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyByb3V0aW5nIHRhYmxlIGlzIGZyZXNoIHRvIHBlcmZvcm0gdGhlIHJlcXVpcmVkIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzTW9kZSB0aGUgdHlwZSBvZiBvcGVyYXRpb24uIEFsbG93ZWQgdmFsdWVzIGFyZSB7QGxpbmsgUkVBRH0gYW5kIHtAbGluayBXUklURX0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIHdoZW4gdGhpcyB0YWJsZSBjb250YWlucyBzZXJ2ZXJzIHRvIHNlcnZlIHRoZSByZXF1aXJlZCBvcGVyYXRpb24sIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFJvdXRpbmdUYWJsZS5wcm90b3R5cGUuaXNTdGFsZUZvciA9IGZ1bmN0aW9uIChhY2Nlc3NNb2RlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5leHBpcmF0aW9uVGltZS5sZXNzVGhhbihEYXRlLm5vdygpKSB8fFxuICAgICAgICAgICAgdGhpcy5yb3V0ZXJzLmxlbmd0aCA8IE1JTl9ST1VURVJTIHx8XG4gICAgICAgICAgICAoYWNjZXNzTW9kZSA9PT0gUkVBRCAmJiB0aGlzLnJlYWRlcnMubGVuZ3RoID09PSAwKSB8fFxuICAgICAgICAgICAgKGFjY2Vzc01vZGUgPT09IFdSSVRFICYmIHRoaXMud3JpdGVycy5sZW5ndGggPT09IDApKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgcm91dGluZyB0YWJsZSBpcyBleHBpcmVkIGZvciBzcGVjaWZpZWQgYW1vdW50IG9mIGR1cmF0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGR1cmF0aW9uIGFtb3VudCBvZiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgdG8gY2hlY2sgZm9yIGV4cGlyYXRpb25cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBSb3V0aW5nVGFibGUucHJvdG90eXBlLmlzRXhwaXJlZEZvciA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5leHBpcmF0aW9uVGltZS5hZGQoZHVyYXRpb24pLmxlc3NUaGFuKERhdGUubm93KCkpO1xuICAgIH07XG4gICAgUm91dGluZ1RhYmxlLnByb3RvdHlwZS5hbGxTZXJ2ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZCh0aGlzLnJvdXRlcnMpLCBmYWxzZSksIF9fcmVhZCh0aGlzLnJlYWRlcnMpLCBmYWxzZSksIF9fcmVhZCh0aGlzLndyaXRlcnMpLCBmYWxzZSk7XG4gICAgfTtcbiAgICBSb3V0aW5nVGFibGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKCdSb3V0aW5nVGFibGVbJyArXG4gICAgICAgICAgICBcImRhdGFiYXNlPVwiLmNvbmNhdCh0aGlzLmRhdGFiYXNlTmFtZSwgXCIsIFwiKSArXG4gICAgICAgICAgICBcImV4cGlyYXRpb25UaW1lPVwiLmNvbmNhdCh0aGlzLmV4cGlyYXRpb25UaW1lLCBcIiwgXCIpICtcbiAgICAgICAgICAgIFwiY3VycmVudFRpbWU9XCIuY29uY2F0KERhdGUubm93KCksIFwiLCBcIikgK1xuICAgICAgICAgICAgXCJyb3V0ZXJzPVtcIi5jb25jYXQodGhpcy5yb3V0ZXJzLCBcIl0sIFwiKSArXG4gICAgICAgICAgICBcInJlYWRlcnM9W1wiLmNvbmNhdCh0aGlzLnJlYWRlcnMsIFwiXSwgXCIpICtcbiAgICAgICAgICAgIFwid3JpdGVycz1bXCIuY29uY2F0KHRoaXMud3JpdGVycywgXCJdXVwiKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUm91dGluZ1RhYmxlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRpbmdUYWJsZTtcbi8qKlxuICogUmVtb3ZlIGFsbCBvY2N1cnJlbmNlcyBvZiB0aGUgZWxlbWVudCBpbiB0aGUgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSB0aGUgYXJyYXkgdG8gZmlsdGVyLlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHJldHVybiB7QXJyYXl9IG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5KGFycmF5LCBlbGVtZW50KSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5hc0tleSgpICE9PSBlbGVtZW50LmFzS2V5KCk7IH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYSB2YWxpZCByb3V0aW5nIHRhYmxlIGZyb20gYSByYXcgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRiIHRoZSBkYXRhYmFzZSBuYW1lLiBJdCBpcyB1c2VkIGZvciBsb2dnaW5nIHB1cnBvc2VzXG4gKiBAcGFyYW0ge1NlcnZlckFkZHJlc3N9IHJvdXRlckFkZHJlc3MgVGhlIHJvdXRlciBhZGRyZXNzLCBpdCBpcyB1c2VkIGZvciBsb2dnaW4gcHVycG9zZXNcbiAqIEBwYXJhbSB7UmF3Um91dGluZ1RhYmxlfSByYXdSb3V0aW5nVGFibGUgTWV0aG9kIHVzZWQgdG8gZ2V0IHRoZSByYXcgcm91dGluZyB0YWJsZSB0byBiZSBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7Um91dGluZ1RhYmxlfSBUaGUgdmFsaWQgUm91dGluZyBUYWJsZVxuICovXG5mdW5jdGlvbiBjcmVhdGVWYWxpZFJvdXRpbmdUYWJsZShkYXRhYmFzZSwgcm91dGVyQWRkcmVzcywgcmF3Um91dGluZ1RhYmxlKSB7XG4gICAgdmFyIHR0bCA9IHJhd1JvdXRpbmdUYWJsZS50dGw7XG4gICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY2FsY3VsYXRlRXhwaXJhdGlvblRpbWUocmF3Um91dGluZ1RhYmxlLCByb3V0ZXJBZGRyZXNzKTtcbiAgICB2YXIgX2EgPSBwYXJzZVNlcnZlcnMocmF3Um91dGluZ1RhYmxlLCByb3V0ZXJBZGRyZXNzKSwgcm91dGVycyA9IF9hLnJvdXRlcnMsIHJlYWRlcnMgPSBfYS5yZWFkZXJzLCB3cml0ZXJzID0gX2Eud3JpdGVycztcbiAgICBhc3NlcnROb25FbXB0eShyb3V0ZXJzLCAncm91dGVycycsIHJvdXRlckFkZHJlc3MpO1xuICAgIGFzc2VydE5vbkVtcHR5KHJlYWRlcnMsICdyZWFkZXJzJywgcm91dGVyQWRkcmVzcyk7XG4gICAgcmV0dXJuIG5ldyBSb3V0aW5nVGFibGUoe1xuICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UgfHwgcmF3Um91dGluZ1RhYmxlLmRiLFxuICAgICAgICByb3V0ZXJzOiByb3V0ZXJzLFxuICAgICAgICByZWFkZXJzOiByZWFkZXJzLFxuICAgICAgICB3cml0ZXJzOiB3cml0ZXJzLFxuICAgICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICAgIHR0bDogdHRsXG4gICAgfSk7XG59XG5leHBvcnRzLmNyZWF0ZVZhbGlkUm91dGluZ1RhYmxlID0gY3JlYXRlVmFsaWRSb3V0aW5nVGFibGU7XG4vKipcbiAqIFBhcnNlIHNlcnZlciBmcm9tIHRoZSBSYXdSb3V0aW5nVGFibGUuXG4gKlxuICogQHBhcmFtIHtSYXdSb3V0aW5nVGFibGV9IHJhd1JvdXRpbmdUYWJsZSB0aGUgcmF3IHJvdXRpbmcgdGFibGVcbiAqIEBwYXJhbSB7c3RyaW5nfSByb3V0ZXJBZGRyZXNzIHRoZSByb3V0ZXIgYWRkcmVzc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIG9iamVjdCB3aXRoIHRoZSBsaXN0IG9mIHJvdXRlcnMsIHJlYWRlcnMgYW5kIHdyaXRlcnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VTZXJ2ZXJzKHJhd1JvdXRpbmdUYWJsZSwgcm91dGVyQWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciByb3V0ZXJzXzEgPSBbXTtcbiAgICAgICAgdmFyIHJlYWRlcnNfMSA9IFtdO1xuICAgICAgICB2YXIgd3JpdGVyc18xID0gW107XG4gICAgICAgIHJhd1JvdXRpbmdUYWJsZS5zZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKHNlcnZlcikge1xuICAgICAgICAgICAgdmFyIHJvbGUgPSBzZXJ2ZXIucm9sZTtcbiAgICAgICAgICAgIHZhciBhZGRyZXNzZXMgPSBzZXJ2ZXIuYWRkcmVzc2VzO1xuICAgICAgICAgICAgaWYgKHJvbGUgPT09ICdST1VURScpIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJzXzEgPSBwYXJzZUFycmF5KGFkZHJlc3NlcykubWFwKGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2ZXJBZGRyZXNzLmZyb21VcmwoYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyb2xlID09PSAnV1JJVEUnKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyc18xID0gcGFyc2VBcnJheShhZGRyZXNzZXMpLm1hcChmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2VydmVyQWRkcmVzcy5mcm9tVXJsKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocm9sZSA9PT0gJ1JFQUQnKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyc18xID0gcGFyc2VBcnJheShhZGRyZXNzZXMpLm1hcChmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2VydmVyQWRkcmVzcy5mcm9tVXJsKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdXRlcnM6IHJvdXRlcnNfMSxcbiAgICAgICAgICAgIHJlYWRlcnM6IHJlYWRlcnNfMSxcbiAgICAgICAgICAgIHdyaXRlcnM6IHdyaXRlcnNfMVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiVW5hYmxlIHRvIHBhcnNlIHNlcnZlcnMgZW50cnkgZnJvbSByb3V0ZXIgXCIuY29uY2F0KHJvdXRlckFkZHJlc3MsIFwiIGZyb20gYWRkcmVzc2VzOlxcblwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShyYXdSb3V0aW5nVGFibGUuc2VydmVycyksIFwiXFxuRXJyb3IgbWVzc2FnZTogXCIpLmNvbmNhdChlcnJvci5tZXNzYWdlKSwgUFJPVE9DT0xfRVJST1IpO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbCB0aGUgZXhwaXJhdGlvbiB0aW1lIHVzaW5nIHRoZSB0dGxzIGZyb20gdGhlIHJhdyByb3V0aW5nIHRhYmxlIGFuZCByZXR1cm4gaXRcbiAqXG4gKiBAcGFyYW0ge1Jhd1JvdXRpbmdUYWJsZX0gcmF3Um91dGluZ1RhYmxlIHRoZSByb3V0aW5nIHRhYmxlXG4gKiBAcGFyYW0ge3N0cmluZ30gcm91dGVyQWRkcmVzcyB0aGUgcm91dGVyIGFkZHJlc3NcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSB0dGxcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlRXhwaXJhdGlvblRpbWUocmF3Um91dGluZ1RhYmxlLCByb3V0ZXJBZGRyZXNzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIG5vdyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoRGF0ZS5ub3coKSk7XG4gICAgICAgIHZhciBleHBpcmVzID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShyYXdSb3V0aW5nVGFibGUudHRsKVxuICAgICAgICAgICAgLm11bHRpcGx5KDEwMDApXG4gICAgICAgICAgICAuYWRkKG5vdyk7XG4gICAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgdXNlcyBhIHJlYWxseSBiaWcgZXhwaXJlIHRpbWUgbGlrZSBMb25nLk1BWF9WQUxVRSB0aGlzIG1heSBoYXZlIG92ZXJmbG93ZWRcbiAgICAgICAgaWYgKGV4cGlyZXMubGVzc1RoYW4obm93KSkge1xuICAgICAgICAgICAgcmV0dXJuIG5lbzRqX2RyaXZlcl9jb3JlXzEuSW50ZWdlci5NQVhfVkFMVUU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cGlyZXM7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJVbmFibGUgdG8gcGFyc2UgVFRMIGVudHJ5IGZyb20gcm91dGVyIFwiLmNvbmNhdChyb3V0ZXJBZGRyZXNzLCBcIiBmcm9tIHJhdyByb3V0aW5nIHRhYmxlOlxcblwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShyYXdSb3V0aW5nVGFibGUpLCBcIlxcbkVycm9yIG1lc3NhZ2U6IFwiKS5jb25jYXQoZXJyb3IubWVzc2FnZSksIFBST1RPQ09MX0VSUk9SKTtcbiAgICB9XG59XG4vKipcbiAqIEFzc2VydCBpZiBzZXJ2ZXJBZGRyZXNzZXNBcnJheSBpcyBub3QgZW1wdHksIHRocm93cyBhbmQgUFJPVE9DT0xfRVJST1Igb3RoZXJ3aXNlXG4gKlxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2VydmVyQWRkcmVzc2VzQXJyYXkgYXJyYXkgb2YgYWRkcmVzc2VzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VydmVyc05hbWUgdGhlIHNlcnZlciBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gcm91dGVyQWRkcmVzcyB0aGUgcm91dGVyIGFkZHJlc3NcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm9uRW1wdHkoc2VydmVyQWRkcmVzc2VzQXJyYXksIHNlcnZlcnNOYW1lLCByb3V0ZXJBZGRyZXNzKSB7XG4gICAgaWYgKHNlcnZlckFkZHJlc3Nlc0FycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1JlY2VpdmVkIG5vICcgKyBzZXJ2ZXJzTmFtZSArICcgZnJvbSByb3V0ZXIgJyArIHJvdXRlckFkZHJlc3MsIFBST1RPQ09MX0VSUk9SKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZUFycmF5KGFkZHJlc3Nlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhZGRyZXNzZXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkIGJ1dCBnb3Q6ICcgKyBhZGRyZXNzZXMpO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbShhZGRyZXNzZXMpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js\n");

/***/ })

};
;